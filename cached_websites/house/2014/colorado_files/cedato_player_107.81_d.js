!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n=r(104);r(109);var i=r(53);i.create({jsv:null,swf:n,tag:window.CEDATO_TAG})},function(e,t,r){"use strict";function n(e){if(""!=e.debugLog){e.bSubmitted+=e.debugLog.length,(e.bSubmitted>5e5||(new Date).getTime()-e.startTime>18e4)&&(e.debugLog="last packet",e.keepDebugLog=!1),e.debugLogLastSubmitted=(new Date).getTime();var t=e.debugLog;if(e.debugLog="",e.serverHost){var r=c.buildUrl(e.serverHost()+"/sdl?",{p:e.playerId,pv:e.playerVersion,se:e.sessionId,sid:e.subid,domain:e.domain,r:e.debugLogReason,cb:(new Date).getTime()});u.requestWithAjax({url:r,postData:t,method:t?"post":"get"})}}}function i(e){if(e.debugLogBuffer.length<1e5)e.debugLog=e.debugLogBuffer,e.debugLogBuffer="";else{e.debugLog=e.debugLogBuffer.substr(e.debugLogBuffer.length-1e5);var t=e.debugLog.indexOf("\n");t===-1?e.debugLog="":e.debugLog=e.debugLog.substr(t+1),e.debugLogBuffer=""}}function a(e,t){var r=t.debugLogReason,a=void 0===r?void 0:r,o=t.keepDebugLog,s=void 0!==o&&o,l=t.debugLogSubmittedDueToException,d=void 0!==l&&l;void 0!==a&&(e.debugLogReason=a),i(e),n(e),s&&(e.keepDebugLog=!0),d&&(e.debugLogSubmittedDueToException=!0)}function o(e){if(e.debugLog="",e.debugLogBuffer="",e.debugLogLastSubmitted=(new Date).getTime(),e.bSubmitted=0,e.debugLogSubmittedDueToException=!1,e.logToHTML){var t=window.document.createElement("div"),r=window.document.createElement("pre");t.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",t.appendChild(r),window.document.body.appendChild(t),e.debugDocElement=r}}function s(e,t,r){if(e&&(!r||e.keepDetailedDebugLog)){e.logDebugToConsole&&window.console&&window.console.log((new Date).getTime()+"\t"+t),e.logToHTML&&(e.debugDocElement.innerHTML+=t+"<br>");var i;i=JSON&&JSON.stringify?JSON.stringify(t):'"'+t+'"';var a=(new Date).getTime()+"\t"+i+"\n",o=a.length;if(o>1e5&&(a=(new Date).getTime()+"\ttruncated line\n",o=a.length),!e.keepDebugLog){if(e.debugLogBuffer&&e.debugLogBuffer.length>1e7)return;return void(e.debugLogBuffer+=a)}var s=e.debugLog.length;s>0&&s+o>1e5&&n(e),e.debugLog+=a,((new Date).getTime()-e.debugLogLastSubmitted>3e3||e.debugLog.length>1e5)&&n(e)}}function l(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t+="property: "+r+" value: ["+e[r]+"]\n");return t+="toString():  value: ["+e.toString()+"]"}function d(e,t,r,n){var i="";t.cxpid&&(i+="cxp:"+t.cxpid),t.cxvid&&(i+=" cxv:"+t.cxvid),(t.cxpid||t.cxvid)&&(i=" ("+i+")"),s(e,"vastId "+t.vastId+" uniqId "+t.uniqId+i+" - "+r,n)}var u=r(26),c=r(2);t.submitDebugLog=n,t.submitDebugLogBuffer=i,t.submitFullDebugLog=a,t.initDebugLog=o,t.debugLog=s,t.errFullDetails=l,t.debugLogVast=d},function(e,t){"use strict";function r(){try{throw new Error}catch(a){var e=a.stack.split("\n"),t=0;for(var r in e)if(e[r].match(/http[s]?:\/\//)){t=Number(r)+1;break}var n;e[t+1]&&(n=e[t+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||(n=e[t].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||!e[t+1]||(n=e[t+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),n&&n[1]||(n=e[t].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),n&&n[1]||!e[t+1]||(n=e[t+1].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||(n=e[t].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));var i="";return n[1]&&(i=n[1]),i&&":"===i.substr(i.length-1)&&(i=i.substring(0,i.length-1)),i}}function n(e){try{if(e&&0===e.toLowerCase().indexOf("https"))return"https:";if(document&&document.location&&0===document.location.protocol.indexOf("https"))return"https:";if(window.location&&0===window.location.protocol.indexOf("https"))return"https:";if(location&&0===location.protocol.indexOf("https"))return"https:"}catch(e){}return"http:"}function i(){try{if(document&&document.location&&0===document.location.protocol.indexOf("file"))return!0;if(window.location&&0===window.location.protocol.indexOf("file"))return!0;if(location&&0===location.protocol.indexOf("file"))return!0}catch(e){return!0}return!1}function a(){var e="";try{if(parent!==window){e=document.referrer;var t=window.location.ancestorOrigins;if(t){var r=t[t.length-1];r&&e.substring(0,r.length)!=r&&(e=r)}}else e=top.location.href}catch(e){}return e}function o(e,t){var r=[];for(var n in t)if(t.hasOwnProperty(n)&&void 0!==t[n]){var i=String(t[n]);if("extra"===n)for(var a=i.split("&"),o=0;o<a.length;o++)r.push(a[o]);else n&&n.length&&i.length?r.push([n,c(i)].join("=")):n&&n.length?r.push(n+"="):i&&i.length&&r.push(i)}return[e,r.join("&")].join("")}function s(e){return e.split(".").pop().split(/\#|\?/)[0]}function l(e){var t=e.split("/"),r=t[0].toLowerCase(),n=!("rtsp:"!==r&&"rtp:"!==r);if(!n){var i=s(e);"m3u8"!==i&&"m3u"!==i&&"swf"!==i||(n=!0)}return n}function d(e,t){var r,n;r=t?{}:[];try{var i,a=e.slice(e.indexOf("?")+1).split("&");for(i=0;i<a.length;i++){n=a[i].split("="),t||r.push(n[0]);var o=n[1];t&&(o=u(o)),r[n[0]]||(r[n[0]]=o)}}catch(e){r={}}return r}function u(e){try{e=decodeURIComponent(e)}catch(t){try{e=unescape(e)}catch(e){}}return e}function c(e){try{e=encodeURIComponent(e)}catch(t){try{e=escape(e)}catch(e){}}return e}function p(e,t){t.trim&&(t=t.trim());var r=t.split("//");return r.length>1&&(r[0]=e,r.join("//"))}function h(e,t,r){var n;n="c"==r?t.protocol+"//cdn1-m"+t.networkId+".algovid.tv":t.serverHost("mc"),e.indexOf("track.eyeviewads.com")!==-1&&(n=t.serverHost("m")),e.trim&&(e=e.trim());var i=n+"/vpr/"+encodeURIComponent(encodeURIComponent(e))+"/a.jsv";return i}t.ScriptPath=r,t.getProtocol=n,t.isFileProtocol=i,t.getDetectedDomain=a,t.buildUrl=o,t.fileExtension=s,t.isStreamingUrl=l,t.getUrlVars=d,t.decodeURISafe=u,t.encodeURISafe=c,t.fixURLPrm=p,t.getVprUrl=h},function(e,t,r){"use strict";function n(e){A=e}function i(e,t,r){for(var n=0,i=e.length;n<i;n++)if("undefined"!=typeof t[e[n]]&&null!==t[e[n]])switch(e[n]){case"flashSupport":r[e[n]]=t[e[n]]?"1":"0";break;default:r[e[n]]=t[e[n]]}}function a(e,t,r,n){i(e,t,n),i(e,r,n)}function o(e){var t={};for(var r in e)e.hasOwnProperty(r)&&"undefined"!=typeof x[r]&&(t[x[r]]=e[r]);return t}function s(e,t){for(var r in t)null!=x[r]&&e.push([r,String(t[r])].join("="))}function l(e,t,r,n){if(t&&y[t]){var i=E[t];i&&i.url&&!i.exclude&&d(e,t,i,r,n),e.playerEvents&&e.playerEvents.emit(y[t],e,r,n)}}function d(e,t,r,n,i){var o=r.url,l=r.immediate,d=r.server;try{var c=l,p=e||{},n=n||{},i=i||{},h=[];s(h,p),s(h,n),s(h,i),g.debugLog(e,"logEvent:"+y[t]+" "+o+"?"+h.join("&"),!1);var f=((new Date).getTime()-e.startTime)/1e3,v=o.substring(o.lastIndexOf("/")+1),m={name:v,common:{},extra:{}};switch(a(D,p,{},m.common),m.common.timeFromStart=f.toFixed(1),t){case y.E_REQUEST:a(["playerId","vastId"].concat(I),n,i,m.extra);break;case y.E_LOADED:a(["playerId","vastId","memUsed","time","vastType"].concat(I),n,i,m.extra),c=c||null!=n&&null!=n.chosenVastId;break;case y.E_MIDS:a(["playerId","vastId","duration","quartile"].concat(I),n,i,m.extra);break;case y.E_CLICK:a(["playerId","vastId"].concat(I),n,i,m.extra);break;case y.E_END:a(["playerId","vastId"].concat(I),n,i,m.extra);var b=n.duration/4;m.extra.duration=b.toFixed(2);break;case y.E_ADSTART:a(["playerId","vastId","time","roundNo","gpvOrdNo","memUsed","totalMemS","vastType","retryTestGroup","gpvCookie"].concat(I),n,i,m.extra);break;case y.E_ADSTART_WO_IMPRESSION:a(["playerId","vastId"].concat(I),n,i,m.extra);break;case y.E_VAST_ERROR:a(["playerId","vastId","errorCode","errorMessage","mediaURL","logStartRequest","logLoadRequest","time"].concat(I),n,i,m.extra);break;case y.E_START:a(["playerId"],p,i,m.extra);break;case y.E_SERVED_AND_START:a(["playerId"],p,i,m.extra);break;case y.E_SCHEDULED:a(["playerId","fpwReadyTime","gpvTime","domReadyTime","gpvM","gpvAttempt"],p,i,m.extra),m.extra.time=f.toFixed(1);break;case y.E_ADPLAYED:a(["playerId","gpvOrdNo"],p,i,m.extra),m.extra.time=f.toFixed(1);break;case y.E_VPWS:a(["playerId"],p,i,m.extra),a(["time","state","time2"],n,i,m.extra);break;case y.E_PLAYER_ERROR:a(["playerId"],p,i,m.extra),a(["errorCode","errorMessage"],n,i,m.extra)}var E=e.serverHost(d)+o.substring(0,o.lastIndexOf("/"));if("undefined"==typeof w[E]){var T={flushTimerId:null,events:[]};w[E]=T}0==w[E].events.length&&(w[E].flushTimerId=function(t){return setTimeout(function(){return u(e,t)},A)}(E)),w[E].events.push(m),c&&u(e,E)}catch(e){}}function u(e,t){if(t){var r=w[t].events;if(r.length)if(1==r.length)try{var n=r[0],i=[t,"/",n.name,"?"].join(""),a=m.extend(n.common,n.extra),s=o(a);s.cb=(new Date).getTime();var l=v.buildUrl(i,s);e.sendPixel(l)}catch(e){}else try{for(var d={base:[t,"/multiple-events?"].join(""),common:{},eventsList:[],eventsData:[]},c=0,p=r.length;c<p;c++){var h={},n=r[c];if(0==c)d.common=n.common;else for(var f in n.common)n.common[f]!=d.common[f]&&(h[f]=n.common[f]);for(var f in n.extra)n.extra.hasOwnProperty(f)&&(h[f]=n.extra[f]);d.eventsList.push(n.name),d.eventsData.push(o(h))}for(var g=d.eventsList.join(","),y=[],c=0,p=d.eventsData.length;c<p;c++){var b=d.eventsData[c],E=[];for(var A in b)b.hasOwnProperty(A)&&E.push([A,b[A]].join(":"));y.push(E.join(","))}var T=y.join("|"),l=v.buildUrl(d.base,m.extend({cb:(new Date).getTime(),events:g,data:T},o(d.common)));e.sendPixel(l)}catch(e){}w[t].events=[],clearTimeout(w[t].flushTimerId)}else for(var S in w)w.hasOwnProperty(S)&&u(e,S)}function c(e,t,r){try{_>=T?p(e):0==_&&(L=setTimeout(function(){return p(e)},A)),null==S[t]&&(S[t]={}),null==S[t][r]&&(S[t][r]=0,_+=1),S[t][r]+=1}catch(e){}}function p(e){try{var t=1,r=E[y.E_ACTUAL_REQUEST],n=["pv="+e.playerVersion];for(var i in S)if(S.hasOwnProperty(i))for(var a in S[i])if(S[i].hasOwnProperty(a)){var o=S[i][a];o>0&&(n.push("p"+t+"="+i),n.push("v"+t+"="+a),1!=o&&n.push("c"+t+"="+o),t++)}n.push("cb="+(new Date).getTime());var s=e.serverHost(r.server)+r.url+"?"+n.join("&");e.sendPixel(s),clearTimeout(L),_=0,S={}}catch(e){}}function h(e,t,r,n){n&&(r+=g.errFullDetails(n)),l(e,y.E_PLAYER_ERROR,{errorCode:t,errorMessage:r},{}),g.debugLog(e,"errorCode "+t+" - "+r,!1),3!=t||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnPlayerError||g.submitFullDebugLog(e,{debugLogReason:"player error",debugLogSubmittedDueToException:!0})}function f(e,t,r){if(void 0===r&&(r=1),b&&!(Math.random()>r)){t.count=Math.round((t.count||1)/r);try{var n=E[y.E_CLIENT_EVENT],i=["p="+e.playerId,"pv="+e.playerVersion];e.appParams&&e.appParams.appn&&i.push("appn="+e.appParams.appn);var a=function(e){for(var t in e)e.hasOwnProperty(t)&&null!=e[t]&&i.push(t+"="+encodeURIComponent(e[t]))};a(t);var o=e.serverHost(n.server)+n.url+"?"+i.join("&");e.sendPixel(o),g.debugLog(e,"client event:"+o,!0)}catch(e){}}}var g=r(1),v=r(2),m=r(4);!function(e){e[e.E_REQUEST=1]="E_REQUEST",e[e.E_LOADED=2]="E_LOADED",e[e.E_MIDS=3]="E_MIDS",e[e.E_END=4]="E_END",e[e.E_ADSTART=5]="E_ADSTART",e[e.E_ADSTART_WO_IMPRESSION=6]="E_ADSTART_WO_IMPRESSION",e[e.E_CLICK=7]="E_CLICK",e[e.E_VAST_ERROR=8]="E_VAST_ERROR",e[e.E_ACTUAL_REQUEST=9]="E_ACTUAL_REQUEST",e[e.E_START=10]="E_START",e[e.E_SERVED_AND_START=11]="E_SERVED_AND_START",e[e.E_VPWS=12]="E_VPWS",e[e.E_ADPLAYED=13]="E_ADPLAYED",e[e.E_SCHEDULED=14]="E_SCHEDULED",e[e.E_PLAYER_ERROR=15]="E_PLAYER_ERROR",e[e.E_SUBMIT_DEBUG_LOG=16]="E_SUBMIT_DEBUG_LOG",e[e.E_CLIENT_EVENT=17]="E_CLIENT_EVENT"}(t.CEDATO_EVENT||(t.CEDATO_EVENT={}));var y=t.CEDATO_EVENT;!function(e){e[e.Video=0]="Video",e[e.FlashVpaid=1]="FlashVpaid",e[e.ImaFlash=2]="ImaFlash",e[e.JsVpaid=3]="JsVpaid",e[e.ImaJs=4]="ImaJs",e[e.FlashJsVpaid=5]="FlashJsVpaid",e[e.Spotx=6]="Spotx"}(t.VastType||(t.VastType={}));var b=(t.VastType,!1),E=(R={},R[y.E_REQUEST]={url:"/vpx/requesti"},R[y.E_LOADED]={url:"/vpx/loadedi"},R[y.E_MIDS]={url:"/vpx/midsi"},R[y.E_END]={url:"/vpx/endi",immediate:!0},R[y.E_ADSTART]={url:"/vpx/starti",immediate:!0},R[y.E_ADSTART_WO_IMPRESSION]={url:null,immediate:!0},R[y.E_CLICK]={url:"/vpx/click",immediate:!0},R[y.E_VAST_ERROR]={url:"/vpx/errori",immediate:!1},R[y.E_ACTUAL_REQUEST]={exclude:!0,server:"a",url:"/areq",immediate:!1},R[y.E_START]={url:"/ppx/starti",immediate:!0},R[y.E_SERVED_AND_START]={url:"/ppx/served_and_starti",immediate:!0},R[y.E_VPWS]={url:"/ppx/vpwsi",immediate:!0},R[y.E_ADPLAYED]={url:"/ppx/adplayedi",immediate:!0},R[y.E_SCHEDULED]={url:"/ppx/scheduledi",immediate:!0},R[y.E_PLAYER_ERROR]={url:"/ppx/errori",immediate:!0},R[y.E_SUBMIT_DEBUG_LOG]={exclude:!0,url:"sdl",immediate:!1},R[y.E_CLIENT_EVENT]={exclude:!0,url:"/lpx/v1",immediate:!1},R),w={},A=1e4;t.setEventThrottleTime=n;var T=25,S={},_=0,L=null,x={subid:"sid",domain:"domain",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",memUsed:"m",time:"t",time2:"t2",duration:"d",quartile:"qd",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",gpvOrdNo:"gpvn",totalMemS:"tm",vastType:"y",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp",retryTestGroup:"rtg",gpvCookie:"gpvck"},I=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],D=["subid","domain","sessionId","playerVersion","timeFromStart","flashSupport","detect"];t.logEvent=l,t.logActualRequest=c,t.playerError=h,t.clientEvent=f;var R},function(module,exports){"use strict";function isString(e){return"[object String]"===Object.prototype.toString.call(e)}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function ensureArray(e){return isArray(e)?e.slice():e?[e]:[]}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function extend(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function hashCode(e){var t,r,n,i=0;if(0===e.length)return i;for(t=0,n=e.length;t<n;t++)r=e.charCodeAt(t),i=(i<<5)-i+r,i|=0;return Math.abs(i)}function json_decode(str){return JSON&&JSON.parse?JSON.parse(str):eval("("+str+")")}function getFixedAgoTime(e){return(((new Date).getTime()-e)/1e3).toFixed(1)}function injectScriptOnce(e,t,r){var n,i=document.getElementsByTagName("head")[0]||document.documentElement;document.getElementById(e)||(n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.id=e,n.onload=r,n.src=t(),i.appendChild(n))}exports.isString=isString,exports.isArray=isArray,exports.ensureArray=ensureArray,exports.isNumeric=isNumeric,exports.extend=extend,exports.hashCode=hashCode,exports.json_decode=json_decode,exports.getFixedAgoTime=getFixedAgoTime,exports.injectScriptOnce=injectScriptOnce},function(e,t,r){"use strict";function n(e,t){for(var r=0,n=e.plist.length;r<n;r++)if(e.plist[r].uniqId==t)return e.plist[r];return null}function i(e,t,r){if(e&&t&&r){var n=r.vastTracker.quartiles,a=n[e];if(n&&a){for(var o in n)n.hasOwnProperty(o)&&(!r.vastTracker.progress||r.vastTracker.progress<n[o])&&n[o]<a&&i(o,t,r);!r.vastTracker.progress||r.vastTracker.progress<a?(w.debugLogVast(t,r,"advancing progress accordingly",!1),r.vastTracker.setProgress(a)):w.debugLogVast(t,r,"progress is in the right place",!1)}}}function a(e,t,r,n,i,a,o,s,l){if(e){if("function"==typeof e.vastError)return e.vastError(t,r,n,i,a,o,s,l);var d,u="",c=0;if("undefined"!=typeof a&&a){if(3!=r&&a.errorCount>1)return;d=a.mediaURL,d="",c=a.state>=T.PlayerDataState.Started?((new Date).getTime()-a.startAdTime)/1e3:((new Date).getTime()-a.loadAdTime)/1e3,u=c.toFixed(1)}else d="";"undefined"==typeof o&&(o=!1),"undefined"==typeof s&&(s=!1),"undefined"==typeof l&&(l="vast error"),i&&(n+=w.errFullDetails(i));var p={errorCode:r,errorMessage:n,mediaURL:d};o&&(p.logStartRequest=1),s&&(p.logLoadRequest=1),""!=u&&(p.time=u),A.logVastEvent(e,A.CEDATO_EVENT.E_VAST_ERROR,a,p),w.debugLogVast(e,a,"errorCode "+r+" - "+n,!1),3!=r||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnVastError||w.submitFullDebugLog(e,{debugLogReason:l,debugLogSubmittedDueToException:!0})}}function o(e,t,r){w.debugLogVast(e,t,r+" resulted in exception, vpw disappeared",!1),t.vpwLoadRetry>10?(a(e,t.vastId,25,r+" gave up on vpw",!1,t),w.debugLogVast(e,t,r+" too many errors - giving up",!1),t.state=T.PlayerDataState.Error):(w.debugLogVast(e,t,r+" allowing vpw to reload",!1),w.debugLogVast(e,t,r+" allowing vpw to reload - done",!1))}function s(e){try{var t=e.split("/"),r=t[0],n=t[1];switch(r){case"video":return["video",n];case"application":if(n.indexOf("javascript")!=-1)return["jsvpaid"];if(n.indexOf("shockwave-flash")!=-1)return["flvpaid"];default:return[null]}}catch(e){return[null]}}function l(e,t,r){try{if(r&&r.ads&&r.ads.length){w.debugLogVast(e,t,"got response with data",!0),w.debugLog(e,r,!0);for(var n=[-1,-1,-1],i=n[0],o=n[1],l=n[2],d=["","",""],u=d[0],c=d[1],p=d[2],h=0,f=0,g="",v="",m=r.ads.length,y=0;y<m;y++){var b=r.ads[y];w.debugLogVast(e,t,"got ad",!1),w.debugLog(e,b,!0);for(var A=0,S=b.creatives.length;A<S;A++){var _=b.creatives[A];switch(w.debugLogVast(e,t,"got creative",!0),w.debugLog(e,_,!0),_.type){case"linear":w.debugLogVast(e,t,"creative is linear with "+_.mediaFiles.length+" medias",!0);for(var L=0,x=_.mediaFiles.length;L<x;L++){var I=_.mediaFiles[L];w.debugLogVast(e,t,"got media",!0),w.debugLog(e,I,!0),w.debugLogVast(e,t,"got media - mimeType: "+I.mimeType,!1),v+=I.mimeType+",";var R=s(I.mimeType),P=R[0],C=R[1];if(e.callingFlashObject&&"flvpaid"!==P)w.debugLogVast(e,t,"in vpaid flash only flash is supported",!0);else{switch(P){case"video":if(e.usejsv){if(["webm","mp4","wmv","flv"].indexOf(C)<0){w.debugLogVast(e,t,"unsupported jsv video mimeType: "+I.mimeType,!0);continue}if(I.deliveryType&&"streaming"==I.deliveryType||E.isStreamingUrl(I.fileURL)||I.fileURL.legnth<8){w.debugLogVast(e,t,"dont allow streaming",!0);continue}}else try{if(!e.hasVideoSupport){w.debugLogVast(e,t,"no video support for mimeType: "+I.mimeType,!1);continue}if(!D.canPlayType(I.mimeType)){w.debugLogVast(e,t,"unsupported mimeType: "+I.mimeType,!0);continue}}catch(e){}break;case"jsvpaid":t.hasJSVPAID=!0;break;case"flvpaid":if(t.hasFlashVPAID=!0,!e.flashSupport){w.debugLogVast(e,t,"flash mimetype but we don't have flash support",!0);continue}break;default:w.debugLogVast(e,t,"not a valid mimeType: "+I.mimeType,!0);continue}var V=!1;if(1==t.vastPreferType)V=!0;else if(2==t.vastPreferType)V=!1;else{if(3==t.vastPreferType&&"jsvpaid"==P){w.debugLogVast(e,t,"only flash allowed",!0);continue}if(4==t.vastPreferType&&"flvpaid"==P){w.debugLogVast(e,t,"only js allowed",!0);continue}}if("video"==P){var k=!0;if(I.bitrate&&h){if(k=!1,I.bitrate>h){w.debugLogVast(e,t,"bitrate is higher than chosen: "+I.bitrate,!0);continue}I.bitrate==h?k=!0:w.debugLogVast(e,t,"choosing bitrate "+I.bitrate+" over previously chosen bitrate "+h,!0)}else if(f&&I.width){k=!1;var O=I.width*I.height;if(O>f){w.debugLogVast(e,t,"size is higher than chosen: "+I.mediaSize,!0);continue}O==f?k=!0:w.debugLogVast(e,t,"choosing size "+O+" over previously chosen size "+f,!0)}if(k&&c){if("mp4"==c||"webm"==c||"mp4"==C&&("ogg"==c||"3gp"==c)){w.debugLogVast(e,t,"same speed but already chosen preferred "+c+" over "+C,!0);continue}w.debugLogVast(e,t,"choosing video "+C+" over previously chosen "+c,!0)}}else if("video"==u){w.debugLogVast(e,t,"prefer video over flash/js",!0);continue}if(I.fileURL.indexOf("cdn.altitude-arena.com")!==-1&&(V=!0),"flvpaid"==P){if("jsvpaid"==u){if(!t.previousAdType&&!V){w.debugLogVast(e,t,"preferring vpaidjs to flash",!0);continue}if("flvpaid"==t.previousAdType){w.debugLogVast(e,t,"had flash before now trying JS ",!0);continue}}}else if("jsvpaid"==P&&"flvpaid"==u){if("jsvpaid"==t.previousAdType){w.debugLogVast(e,t,"preferring flash choice if previous is vpaidjs ",!0);continue}if(!t.previousAdType&&V){w.debugLogVast(e,t,"preferring flash to vpaidjs",!0);continue}}M=[P,C,I.mimeType],u=M[0],c=M[1],p=M[2],F=[y,A,L],i=F[0],o=F[1],l=F[2],I.bitrate&&(h=I.bitrate),I.width&&(f=I.width*I.height),w.debugLogVast(e,t,"chosen media",!1)}}break;case"non-linear":break;case"companion":for(var N=0,j=_.variations.length;N<j;N++){var U=_.variations[N];U.width==e.width&&U.height==e.height&&("image/jpeg"==U.type||(g=U.htmlResource))}}}if(u){try{var b=r.ads[i],_=b.creatives[o],I=_.mediaFiles[l];w.debugLogVast(e,t,"chosen ad-creative-media",!1),w.debugLog(e,b,!0),w.debugLog(e,_,!0),w.debugLog(e,I,!0),t.adParameters=_.adParameters,b.impressionURLTemplates&&(1!=b.impressionURLTemplates.length||b.impressionURLTemplates[0])||(b.impressionURLTemplates=[]),t.ad=b,t.creative=_,"flvpaid"==u?(w.debugLogVast(e,t,"media is flash",!1),t.isFlash=1,t.isJSVPaid=0,t.adType="flvpaid"):"jsvpaid"==u?(w.debugLogVast(e,t,"media is javascript",!1),t.isFlash=0,t.isJSVPaid=1,t.adType="jsvpaid"):(w.debugLogVast(e,t,"media is video",!1),t.isFlash=0,t.isJSVPaid=0,t.adType="video"),t.mediaURL=I.fileURL,t.mediaURL.trim&&(t.mediaURL=t.mediaURL.trim()),t.companionHTML=g,t.state=T.PlayerDataState.Fetched}catch(r){return a(e,t.vastId,3,"fpv-chosen gave JS exception: ",r,t,!1,!0),!1}return!0}return a(e,t.vastId,27,"no suitable media: "+v,!1,t,!1,!0),w.debugLogVast(e,t,"error - no suitable media",!1),e.DMVAST.util.track(b.errorURLTemplates,{ERRORCODE:403}),!1}}else a(e,t.vastId,26,"empty vast response",!1,t,!1,!0),w.debugLogVast(e,t,"empty response",!1)}catch(r){a(e,t.vastId,3,"fpv gave JS exception: ",r,t,!1,!0)}return!1;var M,F}function d(e,t){if(null!=t.allocatedQuota&&null!=t.capType&&t.allocatedQuota<=0){var r=E.buildUrl(e.serverHost()+"/get_vast_allocation?",{v:t.vastId,capt:t.capType,cb:(new Date).getTime()}),n=function(r){null!=r&&L.isNumeric(r)&&r>0?(w.debugLogVast(e,t,"received "+r+" quota from server.",!1),t.allocatedQuota=r,p(e,t)):(w.debugLogVast(e,t,"did not receive a positive integer as the quota. Removing from list.",!1),S.destroyPlayerData(e,t))};y.requestWithAjax({url:r}).then(function(e){return n(e.responseText)},function(){return n()})}else p(e,t)}function u(e,t,r){return r.indexOf(".g.doubleclick.net")==-1?t.isIMA=!1:(t.isIMA=!0,t.mediaURL=r,t.companionHTML="",t.state=T.PlayerDataState.Fetched,t.skipVastTracker=!0,e.flashSupport&&2!=t.vastPreferType&&4!=t.vastPreferType?(w.debugLogVast(e,t,"is IMA go to flash SDK",!1),t.isFlash=1,t.adType="flvpaid"):3!=t.vastPreferType&&(w.debugLogVast(e,t,"is IMA go to JS SDK",!1),t.isFlash=0,t.adType="jsima"),S.scheduleInitMediaLoad(e,t),t.isIMA)}function c(e,t,r){var n=x.getChannelId(r);return n?(w.debugLogVast(e,t,"is Spotx go to SDK",!1),t.channelId=n,t.isFlash=0,t.adType="spotx",t.isSpotx=!0,t.state=T.PlayerDataState.Fetched,t.skipVastTracker=!0,t.companionHTML="",S.scheduleInitMediaLoad(e,t)):t.isSpotx=!1,t.isSpotx}function p(e,t){if(e.frozen)return void w.debugLogVast(e,t,"fpv - frozen - quiting",!1);t.loadAdTime=(new Date).getTime(),t.floadCbs=[],t.roundNo++,t.initAdEnvObject=null,e.totalVastRetries++;var r=0;if(t.maxFailedVastRetries>0&&(r=t.maxFailedVastRetries),e.maxFailedVastRetries>0&&(0==r||e.maxFailedVastRetries<r)&&(r=e.maxFailedVastRetries),r>0&&t.roundNo>r||e.maxTotalVastRetries>0&&e.totalVastRetries>e.maxTotalVastRetries)return w.debugLogVast(e,t,"crossed number of allowed retries: "+r,!1),void S.destroyPlayerData(e,t);var n=_.macros(e,t)(t.vastURL);if(w.debugLogVast(e,t,"fetchPlayerVast, url: "+n+" ("+t.vastURL+")",!1),t.ad=null,t.creative=null,t.mediaURL="",t.isFlash=0,t.adType&&(t.previousAdType=t.adType),t.adType=null,t.vpaidPlaying=0,t.vastTracker=null,t.skipVastTracker=!1,t.hasFlashVPAID=!1,t.hasJSVPAID=!1,S.hidePlayerData(e,t),c(e,t,n),!t.isSpotx&&(u(e,t,n),!t.isIMA)){var i={withCredentials:!0,urlhandler:new b.VastUrlHandler(e,t)};e.DMVAST.client.get(n,i,function(r){if(A.logVastActualRequest(e,t),w.debugLogVast(e,t,"got response",!1),e.frozen)return void w.debugLogVast(e,t,"fpv answer - frozen - quiting",!1);var n=l(e,t,r);if(n)try{S.scheduleInitMediaLoad(e,t)}catch(r){a(e,t.vastId,3,"fpv-chosen-init2 gave JS exception: ",r,t,!1,!0),n=!1}n||(t.errorCount=t.errorCount+1,f(e,t))})}}function h(e){for(var t=function(t,r){var n=e.plist[t];if(n.state==T.PlayerDataState.None){n.state=T.PlayerDataState.Fetching;var i=n.playerId;A.isCedatox(n)&&null==e.cedatoxPlayersToFetchesCount[i]&&(e.cedatoxPlayersToFetchesCount[i]=0),setTimeout(function(){p(e,n)},50*t)}},r=0,n=e.plist.length;r<n;r++)t(r,n)}function f(e,t){if(e){if(e.frozen||0==e.currentGroup)return void v(e,t);if(n(e,t.uniqId)){if(null!=t.requeryTimeout)return void w.debugLogVast(e,t,"requery vast already scheduled - ignoring",!1);if(t.state!=T.PlayerDataState.Finished&&t.state!=T.PlayerDataState.Error&&(t.state=T.PlayerDataState.Error,t.errorCount=t.errorCount+1),null!=t.startAdStopper&&(clearTimeout(t.startAdStopper),t.startAdStopper=null),null!=t.startAdHalfStopper&&(clearTimeout(t.startAdHalfStopper),t.startAdHalfStopper=null),null!=t.longImpressionStopper&&(clearTimeout(t.longImpressionStopper),t.longImpressionStopper=null),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null),0!=t.status){try{t.clearAd()}catch(r){w.debugLog(e,"clearAd gave exception on "+t.adType+": "+r.message,!1)}e.flashSupport&&I.destroyPlayerDataFlash(e,t),w.debugLogVast(e,t,"scheduling requery vast",!1);var r=0;0===r&&(r=e.freqRetry?t.errorCount<10?1e3+Math.floor(500*Math.random()):t.errorCount<100?2e3+Math.floor(500*Math.random()):t.errorCount<110?2e3+Math.floor(1500*Math.random()):1e4:1==t.errorCount?200:t.errorCount<4?1e3:t.errorCount<10?1e3*t.errorCount:t.errorCount<100?1e4:100==t.errorCount?2e3:t.errorCount<104?3e3:t.errorCount<110?6e3:3e4,r*=e.vastWaitFactor,w.debugLogVast(e,t,"wait is set to "+r+", ec: "+t.errorCount,!1)),t.requeryTimeout=setTimeout(function(){t.requeryTimeout=null,w.debugLogVast(e,t,"requery",!1),d(e,t)},r)}}}}function g(e,t){var r=null;e.remainingVasts=[];for(var n=0,i=t.length;n<i;n++){var a=t[n];0==a.group&&null===r?(w.debugLog(e,"premium vast found",!1),r=0,e.plist.push(a)):e.remainingVasts.push(a)}if(null===r){e.currentGroup=1;for(var n=0,i=e.remainingVasts.length;n<i;n++)e.plist.push(e.remainingVasts[n]);e.remainingVasts=[]}else e.currentGroup=r;w.debugLog(e,"initiating fetch player vasts",!1),h(e)}function v(e,t){return t.vpaidPlaying=0,t.state!=T.PlayerDataState.Finished&&t.state!=T.PlayerDataState.Error&&(t.state=T.PlayerDataState.Error,t.errorCount=t.errorCount+1),setTimeout(function(){S.destroyPlayerData(e,t)},1e3),e.frozen?void w.debugLogVast(e,t,"frozen - finishing here",!1):void(0==e.currentGroup?g(e,e.remainingVasts):m.playNextVasts(e))}var m=r(8),y=r(26),b=r(59),E=r(2),w=r(1),A=r(12),T=r(7),S=r(6),_=r(40),L=r(4),x=r(41),I=r(33);!function(e){e[e.AD_START=1]="AD_START",e[e.AD_REQUEST=2]="AD_REQUEST"}(t.CAP_TYPE||(t.CAP_TYPE={}));t.CAP_TYPE;t.getPlayerDataByUniq=n,t.verifyPlayerProgress=i,t.vastError=a,t.vpwException=o;var D=document.createElement("video");t.vastProcessResponse=l,t.allocateAndFetchPlayerVast=d,t.fetchPlayerVast=p,t.fetchPlayerVasts=h,t.requeryPlayerVast=f,t.addRemainingVasts=g,t.terminateVastAndContinue=v},function(e,t,r){"use strict";function n(e,t){if(Object.setPrototypeOf)Object.setPrototypeOf(e,t);else if({__proto__:[]}instanceof Array)e.__proto__=t;else for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function i(e,t){e.domReady?"flvpaid"==t.adType?2===t.vpwLoaded?(A.debugLogVast(e,t,"dom is already ready and vpw is loaded - calling initMediaLoad",!0),a(e,t)):(A.debugLogVast(e,t,"dom is ready but vpw is not loaded yet - initMediaLoad will be called later",!1),u(e,t)):(A.debugLogVast(e,t,"dom is already and this is a video ad - calling initMediaLoad",!1),a(e,t)):A.debugLogVast(e,t,"dom is not ready - initMediaLoad will be called later",!1)}function a(e,t){if(A.debugLogVast(e,t,"initMediaLoad",!1),t.state=T.PlayerDataState.Loading,t.companionHTML)try{"jsvpaid"!=t.adType&&(t.companionsElementDiv||(t.companionsElementDiv=document.createElement("div"),t.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+e.height+"px;  "),e.callingFlashObject?e.companionsDivElem.appendChild(t.companionsElementDiv):e.divElem.appendChild(t.companionsElementDiv)),t.companionsElementDiv&&(A.debugLogVast(e,t,"companionHTML: "+t.companionHTML,!1),t.companionsElementDiv.innerHTML=t.companionHTML))}catch(e){}if(("flvpaid"==t.adType||"jsvpaid"==t.adType)&&(t.durationKnown=!1,e.thirdPartyTimeout&&(t.mediaURL.indexOf("liverail.com")!=-1&&(t.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")==-1&&(t.mediaURL+="&LR_TIMEOUT_ADSOURCE="+e.thirdPartyTimeout,A.debugLogVast(e,t,"initMediaLoad - added timeout to media file, new url: "+t.mediaURL,!1)),t.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")==-1&&(t.mediaURL+="&LR_TIMEOUT_DELIVERY="+e.thirdPartyTimeout,A.debugLogVast(e,t,"initMediaLoad - added timeout to media file, new url: "+t.mediaURL,!1))),t.mediaURL.indexOf("adap.tv")!=-1&&t.mediaURL.indexOf("breakLoadedTimeout")==-1))){var r=1e3*e.thirdPartyTimeout;t.mediaURL+="&breakLoadedTimeout="+r,A.debugLogVast(e,t,"initMediaLoad - added timeout to media file, new url: "+t.mediaURL,!1)}"flvpaid"==t.adType?(A.debugLogVast(e,t,"initMediaLoad - loading Flash script"+t.mediaURL,!1),n(t,S.PlayerDataVpaidFlash.prototype),t.initMedia()):"jsima"===t.adType?(A.debugLogVast(e,t,"initMediaLoad - loading JS IMA sdk"+t.mediaURL,!1),n(t,C.PlayerDataGoogleIMA.prototype),t.initMedia()):"jsvpaid"==t.adType?(A.debugLogVast(e,t,"initMediaLoad - loading JS script "+t.mediaURL,!1),n(t,V.PlayerDataVpaidJs.prototype),t.initMedia()):"video"==t.adType?(A.debugLogVast(e,t,"initMediaLoad - initializing video url to "+t.mediaURL,!0),n(t,k.PlayerDataVideo.prototype),t.initMedia()):"spotx"==t.adType&&(A.debugLogVast(e,t,"initMediaLoad - initializing spotx url to "+t.mediaURL,!0),n(t,O.PlayerDataSpotx.prototype),t.initMedia()),A.debugLogVast(e,t,"initMediaLoad - done",!0)}function o(e,t){if(!t.viewable){t.viewable=!0;try{t.showAd()}catch(r){A.debugLogVast(e,t,"showAd gave exception of "+t.adType+" : "+r.message,!1)}e.contentUrlPlayer&&!e.pausedBy&&e.contentUrlPlayer.hideContent()}}function s(e,t){I.restoreCallingFlashObjectStyle(e,t),c(e,t),e.contentUrlPlayer&&!e.anyPlaying&&e.contentUrlPlayer.showContent()}function l(e){for(var t=0,r=e.plist.length;t<r;t++)if(e.plist[t].state==T.PlayerDataState.Playing)return e.plist[t];return!1}function d(e){if(A.debugLog(e,"post prepare",!1),!e.domReady)return void A.debugLog(e,"post prepare - dom not ready yet - we'll wait",!1);for(var t=0,r=e.plist.length;t<r;t++){var n=e.plist[t];u(e,n),n.state==T.PlayerDataState.Fetched&&("flvpaid"!=n.adType||2==n.vpwLoaded&&"flvpaid"==n.adType?(A.debugLogVast(e,n,"has schedule media load - calling now",!1),a(e,n)):A.debugLogVast(e,n,"has schedule media load but it's flash and vpw is not ready",!1))}}function u(e,t){e.domReady&&e.flashSupport&&S.postPreparePlayerDataFlash(e,t)}function c(e,t){t.viewable=!1;try{t.hideAd()}catch(r){A.debugLogVast(e,t,"hideAd gave exception of "+t.adType+" : "+r.message,!1)}t.flashElementDiv&&!e.singleVPW&&(t.flashElementDiv.style.zIndex=(-1-t.uniqId).toString())}function p(e,t){try{var r=t.vastId;A.debugLogVast(e,t,"destroying player data",!1),t.destroyMe=!0;for(var n=null,i=0,a=e.plist.length;i<a;i++)if(e.plist[i].destroyMe){n=i;break}if(null===n)return!1;e.plist.splice(n,1),null!=t.flashInitialTimeout&&(clearInterval(t.flashInitialTimeout),t.flashInitialTimeout=null),null!=t.flashLoadCheckInterval&&(clearInterval(t.flashLoadCheckInterval),t.flashLoadCheckInterval=null),null!=t.requeryTimeout&&(clearInterval(t.requeryTimeout),t.requeryTimeout=null),null!=t.startAdHalfStopper&&(clearTimeout(t.startAdHalfStopper),t.startAdHalfStopper=null),null!=t.startAdStopper&&(clearTimeout(t.startAdStopper),t.startAdStopper=null),null!=t.sameVastIdLoader&&(clearTimeout(t.sameVastIdLoader),t.sameVastIdLoader=null),null!=t.longImpressionStopper&&(clearTimeout(t.longImpressionStopper),t.longImpressionStopper=null),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null);try{t.clearAd()}catch(r){A.debugLog(e,"clearAd gave exception on "+t.adType+": "+r.message,!1)}e.flashSupport&&S.destroyPlayerDataFlash(e,t);try{t.companionsElementDiv&&(t.companionsElementDiv.parentNode.removeChild(t.companionsElementDiv),t.companionsElementDiv.innerHTML="",
t.companionsElementDiv=null)}catch(t){A.debugLog(e,"remove companions div gave exception: "+t.message,!1)}}catch(n){_.vastError(e,r,3,"destroy player data exception: "+n.message,n,t,!1,!1,"destroy player")}}function h(e,t){"undefined"==typeof t&&(t=!1),t?A.debugLog(e,"destroying all players except for vastId ",!1):A.debugLog(e,"destroying all players",!1);for(var r=!0;r;){r=!1;for(var n=0,i=e.plist.length;n<i;n++)if(!t||t.vastId&&e.plist[n].vastId!=t.vastId||t.uniqId&&e.plist[n].uniqId!=t.uniqId){p(e,e.plist[n]),r=!0;break}}}function f(e,t){try{if(P.notifyApi(e,t,"adplay"),"vpaid"==e.mode){var r;r=t.duration?t.duration:t.videoElement.duration,I.callingVpaidEvent(e,"jsAdDurationChange",{duration:r.toFixed(2)})}if(A.debugLogVast(e,t,"onplay",!1),t.firstPlayEventTriggered)return void A.debugLogVast(e,t,"already handled play event",!1);if(t.firstPlayEventTriggered=!0,t.state!=T.PlayerDataState.Started)return void A.debugLogVast(e,t,"invalid state, was probably stopped - "+t.state,!1);if(D.adStarted(e,t),D.adImpression(e,t))return;"vpaid"==e.mode&&I.callingVpaidEvent(e,"jsAdVideoStart",{}),t.errorCount=0,A.debugLogVast(e,t,"onplay done",!1)}catch(r){_.vastError(e,t.vastId,3,"video onplay gave JS exception: ",r,t)}}function g(e,t){try{if(A.debugLogVast(e,t,"video oncanplay",!1),"video"!=t.adType)return void A.debugLogVast(e,t,"adType not video: "+t.adType,!1);if(t.state>T.PlayerDataState.Ready)return void A.debugLogVast(e,t,"video oncanplay but state is "+t.state,!1);t.durationKnown=!0;try{t.duration=t.videoElement.duration,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration))}catch(e){t.durationKnown=!1}var r=t.videoElement,n=e.width,i=e.height;r.style.width="100%",r.style.height="100%",n||(n=e.width,i=e.height),n>e.width&&(i=i*e.width/n,n=e.width),i>e.height&&(n=n*e.height/i,i=e.height),n=Math.floor(n),i=Math.floor(i);var a=(e.height-i)/2;if(a=Math.floor(a),A.debugLogVast(e,t,"video width: "+n+", height: "+i+", top: "+a,!1),r.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+a+"px",t.state=T.PlayerDataState.Ready,"vpaid"==e.mode)try{I.callingVpaidEvent(e,"jsAdReadyToStart",{})}catch(r){_.vastError(e,t.vastId,3,"video oncanplay gave JS exception: ",r,t)}try{e.allowSound||(r.volume=0)}catch(e){}x.playNextVasts(e)}catch(r){_.vastError(e,t.vastId,3,"video oncanplay gave JS exception: ",r,t)}}function v(e,t){try{if(A.debugLogVast(e,t,"video onended",!1),t.firedEvents&&t.firedEvents.complete)return void A.debugLogVast(e,t,"dup video ended event",!1);t.firedEvents.complete=1,A.debugLogVast(e,t,"video onended",!1),"vpaid"!==e.mode&&(e.anyPlaying=x.anyOtherPlaying(e,t.vastId),e.anyPlaying||L.showRotator(e)),t.vastTracker?(_.verifyPlayerProgress("thirdQuartile",e,t),t.vastTracker.complete()):_.vastError(e,t.vastId,3,"no vastTracker for ended",!1,t,!1,!1,"vastTracker error"),"vpaid"==e.mode&&(I.restoreCallingFlashObjectStyle(e,t),I.callingVpaidEvent(e,"jsAdComplete",{}),I.callingVpaidEvent(e,"jsAdStopped",{}),e.divElem.style.display="none"),e.readyForStartAd&&R.resetReadyForStartAd(e),_.terminateVastAndContinue(e,t)}catch(r){_.vastError(e,t.vastId,3,"video onended gave JS exception: ",r,t)}}function m(e,t,r){try{if(t.state==T.PlayerDataState.Error||"video"!=t.adType)return;A.debugLogVast(e,t,"video onerror",!1);var n=!1;t.state==T.PlayerDataState.Initing&&(n=!0),I.restoreCallingFlashObjectStyle(e,t),t.state=T.PlayerDataState.Error;var i=-1;r.target.error.code&&r.target.error.code&&(i=r.target.error.code),P.notifyApi(e,t,"aderror"),_.vastError(e,t.vastId,4,"video player error code: "+i,!1,t,n),t.errorCount=t.errorCount+100,_.terminateVastAndContinue(e,t)}catch(r){_.vastError(e,t.vastId,3,"video onerror gave JS exception: ",r,t)}}function y(e,t){try{A.debugLogVast(e,t,"video onclick",!1),t.vastTracker&&t.vastTracker.click(),P.adClick(e,t,null)}catch(r){_.vastError(e,t.vastId,3,"video onclick gave JS exception: ",r,t)}}function b(e,t){try{var r=t.videoElement;if(t.state<T.PlayerDataState.Initing||t.state==T.PlayerDataState.Error||"video"!=t.adType)return;null!=t.vastTracker&&t.vastTracker.setProgress(r.currentTime);var n=r.duration-r.currentTime,i=r.duration;"vpaid"==e.mode&&(I.callingVpaidEvent(e,"jsAdRemainingTimeChange",{remainingTime:n.toFixed()}),r.currentTime.toFixed()==(i/4).toFixed()&&I.callingVpaidEvent(e,"jsAdFirstQuartile",{}),r.currentTime.toFixed()==(i/3).toFixed()&&I.callingVpaidEvent(e,"jsAdMidpoint",{}),r.currentTime.toFixed()==(i/4*3).toFixed()&&I.callingVpaidEvent(e,"jsAdThirdQuartile",{}))}catch(r){_.vastError(e,t.vastId,3,"video ontimeupdate gave JS exception: ",r,t)}}function E(e,t){try{var r;t.videoElement=r=w(e),N.assignClass(r,N.Classes.videoElement),N.fromObject(r,{zIndex:(9994-t.uniqId).toString()}),t.firstPlayEventTriggered=!1,U(r,"play",function(){return f(e,t)}),U(r,"canplay",function(){return g(e,t)}),U(r,"ended",function(){return v(e,t)}),U(r,"error",function(r){return m(e,t,r)}),U(r,"click",function(){return y(e,t)}),U(r,"timeupdate",function(){return b(e,t)})}catch(r){_.vastError(e,t.vastId,3,"video prepare gave JS exception: ",r,t)}return r}function w(e,t,r){t||(t=document);var n=null;return e.usejsv&&e.JSV?(n=e.JSV.createVideoElement(),n.setAttribute("preload","auto"),n.proxyUrl=r):e.hasVideoSupport&&(n=t.createElement("video"),n.muted=e.mainAutoplay&&e.muteToPlay||!e.allowSound,n.playsInline=!0),n}var A=r(1),T=r(7),S=r(33),_=r(5),L=r(9),x=r(8),I=r(10),D=r(31),R=r(36),P=r(11),C=r(56),V=r(57),k=r(60),O=r(41),N=r(25),j=r(14),U=j.addEvent;t.scheduleInitMediaLoad=i,t.initMediaLoad=a,t.showAdvertising=o,t.hideAdvertising=s,t.getPlayingPlayerData=l,t.postPrepareAllPlayerDatas=d,t.postPreparePlayerData=u,t.hidePlayerData=c,t.destroyPlayerData=p,t.destroyAllPlayerDatas=h,t.prepareVideoElem=E,t.createVideoElement=w},function(e,t){"use strict";!function(e){e[e.None=0]="None",e[e.Fetching=1]="Fetching",e[e.Fetched=2]="Fetched",e[e.Loading=3]="Loading",e[e.Initing=4]="Initing",e[e.Ready=5]="Ready",e[e.Started=6]="Started",e[e.Playing=7]="Playing",e[e.Finishing=8]="Finishing",e[e.Finished=9]="Finished",e[e.Error=10]="Error"}(t.PlayerDataState||(t.PlayerDataState={}));t.PlayerDataState},function(e,t,r){"use strict";function n(e,t){for(var r=0,n=e.plist.length;r<n;r++)if(e.plist[r].vastId!=t&&e.plist[r].state==d.PlayerDataState.Playing)return!0;return!1}function i(e,t){if("function"==typeof e.playNextVasts)return e.playNextVasts(t);if("undefined"==typeof t&&(t=!1),!e.autoplay&&!t)return l.debugLog(e,"manual mode - not trying to auto play",!1),!1;var r;return e.readyForStartAd||(r=1),a(e,r)}function a(e,t){if("function"==typeof e.playNextVast)return e.playNextVast(t);if(l.debugLog(e,"playNextVast called, group: "+t,!1),e.anyPlaying)return l.debugLog(e,"still playing previous media",!1),!1;if(e.parallelStartAd){for(var r=!1,n=0,i=e.plist.length;n<i;n++){var a=e.plist[n];if(a.state==d.PlayerDataState.Started&&a.sureFastStart){var o=((new Date).getTime()-a.startAdTime)/1e3;if(o<3)return l.debugLogVast(e,a,"is sure fast starter and is trying to start - quiting",!1),!1;l.debugLogVast(e,a,"is sure fast starter and is trying to start but passed grace time",!1)}}for(var n=0,i=e.plist.length;n<i;n++){var a=e.plist[n];if(l.debugLogVast(e,a,"state is: "+a.state,!0),a.state==d.PlayerDataState.Ready)if(void 0==t||a.group<=t){if(l.debugLogVast(e,a,"is ready to play",!1),r=!0,u.playPlayer(e,a),e.anyPlaying)return!0;if(a.sureFastStart)return l.debugLogVast(e,a,"sure fast start - breaking",!1),!0}else l.debugLogVast(e,a,"is ready but on different group",!1)}return r}for(var s=null,n=0,i=e.plist.length;n<i;n++){var a=e.plist[n];l.debugLogVast(e,a,"state is: "+a.state,!0),a.state==d.PlayerDataState.Ready&&(s?a.errorCount<s.errorCount&&(s=a):s=a)}return s?(l.debugLogVast(e,s,"is ready to play",!1),e.anyPlaying=!0,"vpaid"==e.mode&&(e.autoplay=!1),u.playPlayer(e,s),!0):(l.debugLog(e,"no vast is ready to play",!0),!1)}function o(e){for(var t=0,r=0,n=e.plist.length;r<n;r++){var i=e.plist[r];"video"!=i.adType&&i.state>=d.PlayerDataState.Initing&&i.state<=d.PlayerDataState.Finished&&t++}return t}function s(e,t){var r=o(e);if(e.vpaidInitLimit&&r>=e.vpaidInitLimit)return null;for(var n="in group "+t.group+", ",i=!0,a=0,s=e.plist.length;a<s;a++)if(e.plist[a].group<=1&&e.plist[a].state<d.PlayerDataState.Initing&&!e.plist[a].errorCount&&e.plist[a].roundNo<=1){i=!1;break}for(var l=!0,a=0,s=e.plist.length;a<s;a++)if(e.plist[a].group<=1&&e.plist[a].state<d.PlayerDataState.Playing&&!e.plist[a].errorCount&&e.plist[a].roundNo<=1){l=!1;break}return t.duplicatedNow?"flvpaid"==t.adType&&e.singleVPW&&e.anyPlaying?null:(t.duplicatedNow=!1,n+" just duplicated"):t.group<=1&&t.errorCount<=1?n+" and no/low error count":t.group>1&&!l?null:t.group>1&&e.anyPlaying?null:t.group<=1?n+" and can init more":i?n+" and can init more, all group 1 inited":null}var l=r(1),d=r(7),u=r(35);t.anyOtherPlaying=n,t.playNextVasts=i,t.playNextVast=a,t.getInitedVastsCount=o,t.canInitAd=s},function(e,t,r){"use strict";function n(e,t){e.contentUrlPlayer?e.contentUrlPlayer.setContentUrls(t):(e.content||(e.content={}),e.content.type=1,e.content.url=t)}function i(e){if("vpaid"!=e.mode){var t=[];if(e.content&&e.content.url&&1==e.content.type){var r=e.content.url;"string"==typeof r&&(r=r.split(","));for(var n=0,i=r.length;n<i;n++)t.push(p.fixURLPrm(e.protocol,r[n]))}try{var o=new E;o.setContentUrls(t),o.parentDiv=e.divElem,o.bannerUrl=e.conf.content.defaultLoader,e.content&&e.content.loader_image_url&&(o.bannerUrl=e.content.loader_image_url),o.clickUrl=e.content.click,o.playButtonUrl=e.conf.content.playButton,o.autoPlay=!!e.content.autoplay,o.volume=e.allowSound?.8:0,o.muted=e.mainAutoplay&&e.muteToPlay||!e.allowSound,o.contentVideoLoop=!!e.content.loop,o.controlBar=!!e.content.controlBar,o.videoSupport=e.hasVideoSupport,o.spinnerAfter=!!e.content.playFull,o.paused=!!+e.content.wait,o.customCreateVideoElement=(!e.hasVideoSupport||e.usejsv&&e.mainAutoplay)&&function(){return g.createVideoElement(e,null,function(t){return p.getVprUrl(p.fixURLPrm(e.protocol,t),e,"c")})},o.userStartPlayingCallback=function(){o.paused||o.playContent(),e.content.playFull&&0!==t.length||(e.content.autoplay=!0,e.autoplay=!0,a(e),h.playNextVasts(e,!0))},o.validateVideoStart=function(t,r){return c.validateVideoStart(e,t,r,"content")},o.endContentVideoCallback=function(){f.notifyApi(e,null,"contentCompleted",{src:o.video.src,withErrors:!1}),!o.endCallbackTriggered&&e.content.playFull&&(e.anyPlaying||(e.autoplay=!0),e.usejsv&&!e.mainAutoplay&&e.contentUrlPlayer.hideContent(),h.playNextVasts(e,!0)),o.endCallbackTriggered=!0},o.userClick=function(){f.notifyApi(e,null,"click",{url:e.content.click})},o.onError=function(t,r){f.notifyApi(e,null,"contentCompleted",{src:o.video.src,withErrors:!0,errorMsg:r}),d.debugLog(e,"Error loading content video: "+e.content.url+" msg:"+r,!1)},o.createVideoPlayer(),e.contentUrlPlayer=o,e.hasVideoSupport&&t.length&&e.skipButton&&l(e),e.autoplay&&a(e)}catch(t){u.playerError(e,3,"createRotator rotatorDiv gave JS exception: "+t.message,t)}}}function a(e){e.content.wait>0&&setTimeout(function(){var t=f.playerPauseAds(e);!t&&e.content.autoplay&&e.contentUrlPlayer.playContent()},1e3*e.content.wait)}function o(e){if("single"==e.mode)if(e.contentUrlPlayer)try{e.contentUrlPlayer.showContent()}catch(t){i(e)}else i(e)}function s(e){var t=document.createElement("a");t.innerHTML="x",v.assignClass(t,v.Classes.closeButton),e.divElem.appendChild(t),b(t,"click",function(){f.freezePlayers(e),f.collapsePlayer(e)})}function l(e){var t=document.createElement("a");t.innerHTML="skip",v.assignClass(t,v.Classes.skipButton),e.divElem.appendChild(t),b(t,"click",function(){f.skipVideo(e)})}var d=r(1),u=r(3),c=r(18),p=r(2),h=r(8),f=r(11),g=r(6),v=r(25),m=r(4),y=r(14),b=y.addEvent,E=function(){function e(){this.currentVideoIndex=0,this.playButtonUrl="play_button_gr.png",this.bannerUrl="spinner.gif",this.autoPlay=!0,this.volume=.8,this.muted=!0,this.controlBar=!1,this.videoSupport=!0,this.contentVideoLoop=!1,this.endCallbackTriggered=!1,this.paused=!1,this.spinnerAfter=!1,this.visible=!1,this.canplay=!1}return e.prototype.createVideoPlayer=function(){var e=this;this.container=document.createElement("div"),v.assignClass(this.container,v.Classes.contentContainer),this.parentDiv?this.parentDiv.appendChild(this.container):"",this.createBannerOverlay(),this.visible=!0,this.container.onclick=function(t){e.clickUrl&&!e.playOverlay&&(e.userClick(),window.open(e.clickUrl,"_blank"))},this.video&&this.video.parentNode&&this.video.parentNode.removeChild(this.video);var t=this.customCreateVideoElement?this.customCreateVideoElement():document.createElement("video");this.contentUrlList[this.currentVideoIndex]&&(t.src=this.contentUrlList[this.currentVideoIndex]),t.controls=this.controlBar,t.autoplay=this.autoPlay&&!this.paused,t.loop=!1,t.preload="auto",t.muted=this.muted||0==this.volume,t.playsInline=!0,t.volume=this.volume,v.assignClass(t,v.Classes.contentVideo),t.addEventListener("ended",function(){e.endContentVideoCallback&&e.endContentVideoCallback(),e.nextVideo()},!1),t.addEventListener("error",function(t){var r=t.target.error,n="";switch(r.code){case r.MEDIA_ERR_ABORTED:n="You aborted the video playback.";break;case r.MEDIA_ERR_NETWORK:n="A network error caused the video download to fail part-way.";break;case r.MEDIA_ERR_DECODE:n="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case r.MEDIA_ERR_SRC_NOT_SUPPORTED:n="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:n="An unknown error occurred."}e.onError(t,n)},!1),t.addEventListener("canplay",function(){e.canplay=!0,e.paused||v.assignClass(t,v.Classes.contentVideoActive);var r=t.canvas;r&&(r.style.width="100%",r.style.height="0",setTimeout(function(){r.style.height="100%"},0),e.paused&&t.pause())}),this.video=t,this.container&&this.container.appendChild(t),this.autoPlay||this.controlBar||this.createPlayButtonOverlay()},e.prototype.createPlayButtonOverlay=function(){var e=this;if(!this.playOverlay){var t=document.createElement("div");v.assignClass(t,v.Classes.contentPlayButtonOverlay);var r=document.createElement("div"),n=new Image;n.src=this.playButtonUrl,v.fromObject(n,{maxHeight:Math.round(.3*this.container.clientHeight)+"px"}),r.appendChild(n),t.appendChild(r),this.playOverlay=t,this.container&&this.container.appendChild(t),t.onclick=function(t){e.playOverlay&&e.playOverlay.parentNode&&e.playOverlay.parentNode.removeChild(e.playOverlay),e.playOverlay=null,t.stopPropagation(),e.userStartPlayingCallback&&e.userStartPlayingCallback()}}},e.prototype.createBannerOverlay=function(){var e=document.createElement("div");v.assignClass(e,v.Classes.contentBanner),v.fromObject(e,{background:"url("+this.bannerUrl+") no-repeat center center"}),this.bannerOverlay=e,this.container&&this.container.appendChild(e),this.autoPlay||this.createPlayButtonOverlay()},e.prototype.nextVideo=function(){if(this.currentVideoIndex<this.contentUrlList.length-1)return this.video.src=this.contentUrlList[++this.currentVideoIndex],this.video.autoplay=!0,!0;if(this.contentVideoLoop){if(1==this.contentUrlList.length){this.video.currentTime=0;try{this.video.play()}catch(e){}}else this.currentVideoIndex=0,this.video.src=this.contentUrlList[this.currentVideoIndex];return!0}return this.spinnerAfter&&v.removeClass(this.video,v.Classes.contentVideoActive),!1},e.prototype.playContent=function(){if(this.video&&this.video.src)if(this.video.paused&&this.playOverlay);else try{this.canplay&&v.assignClass(this.video,v.Classes.contentVideoActive),this.video.src&&this.validateVideoStart(this.video,this.video.play())}catch(e){}this.paused=!1},e.prototype.pauseContent=function(){this.video&&this.video.pause(),this.paused=!0},e.prototype.showContent=function(){this.container&&!this.visible&&(this.visible=!0,this.container.style.zIndex="10001",this.container.style.display="",this.playContent())},e.prototype.hideContent=function(){this.container&&(this.visible=!1,this.container.style.zIndex="1",this.container.style.display="none",this.pauseContent())},e.prototype.setContentUrls=function(e){this.contentUrl=e,this.contentUrlList=m.ensureArray(this.contentUrl),this.currentVideoIndex=0,this.video&&(this.video.src=this.contentUrlList[this.currentVideoIndex],this.paused&&this.video.pause())},e.prototype.isVisible=function(){return this.visible},e.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)},e.prototype.setVolume=function(e){this.volume=e,this.video&&(this.video.volume=e,this.video.muted=this.muted=0==e)},e}();t._setContentUrls=n,t.createRotator=i,t.showRotator=o,t.showCloseButton=s,t.showSkipButton=l},function(e,t,r){"use strict";function n(e){var t=navigator.appName.indexOf("Microsoft")!=-1;return t?window[e]:document[e]}function i(e){var t=null;if(e.flashCallingVpaid){if(u.debugLog(e,"prepare calling flash object",!1),t=n(e.flashCallingVpaid),null==t){for(var r=document.getElementsByTagName("object"),i=0,a=r.length;i<a;i++)if(r[i].connectToJSPlayer){t=r[i];break}if(null==t)for(var o=document.getElementsByTagName("embed"),i=0,a=o.length;i<a;i++)if(o[i].connectToJSPlayer){t=o[i];break}}else u.debugLog(e,"got connceting clash object from prms",!1);if(null==t)return u.debugLog(e,"could not identify calling object",!1),!1;if(!t.connectToJSPlayer)return u.debugLog(e,"flash connect callback not found",!1),!1;e.allowLongImpressions=!0,e.callingFlashObject=t}else if(e.jsCallingVpaid){if(!window[e.jsCallingVpaid]||!window[e.jsCallingVpaid].pEvent)return c.playerError(e,6,"vpaid parent not found in post calling js obj: "+e.jsCallingVpaid),!1;e.callingJSVpaid=window[e.jsCallingVpaid]}return p.FlashInterface.globalInit(e.flashCallingVpaid),e.callingFlashObject&&(e.callingFlashInterface=new p.FlashInterface(e.flashCallingVpaid),e.callingFlashInterface.reverseConnect(e.callingFlashObject,"connectToJSPlayer")),!0}function a(e){if("vpaid"==e.mode){u.debugLog(e,"post prepare js callbacks",!1);var t;e.callingFlashObject?t=e.callingFlashInterface.emitter():e.jsCallingVpaid&&(t=new d.EventEmitter2),t.on("debugLog",function(t){var r=t.line,n=t.detailed;u.debugLog(e,"flash: "+r,n)}),t.on("inPlayAd",function(){return setTimeout(function(){h.playPlayingPlayer(e,"vp")},0)}),t.on("inStopAd",function(){return setTimeout(function(){e.autoplay=!1,e.autoplayOverwrite=!0,u.debugLog(e,"vp stop callback called",!1),h.freezePlayers(e,!1),o(e,"jsAdStopped",{})},0)}),t.on("inPauseAd",function(){return setTimeout(function(){e.autoplay=!1,e.autoplayOverwrite=!0,u.debugLog(e,"vp pause callback called",!1),h.pausePlayingPlayer(e,"vp")},0)}),t.on("inResumeAd",function(){return setTimeout(function(){u.debugLog(e,"vp resume callback called",!1),h.resumePlayingPlayer(e,"vp")},0)}),t.on("inSetAdVolume",function(t){return setTimeout(function(){u.debugLog(e,"vp set volume callback called",!1),h.setPlayerVolume(e,t&&t.volume,!1)},0)}),t.on("inResizeAd",function(t){return setTimeout(function(){u.debugLog(e,"vp resize callback called",!1),h.resizePlayer(e,t.width,t.height,t.viewMode)},0)}),t.on("inResizeAd",function(){return setTimeout(function(){u.debugLog(e,"vpExpandAdCallbackFuncName called",!1)},0)}),t.on("inInitAd",function(t){var r=t.slot;if(r&&(f||null==f&&document.body.contains(r))){var n=e.rootDivElem;n.parentNode.removeChild(n),r.parentNode.style.margin=0,r.parentNode.style.padding=0,(Math.abs(r.offsetTop)>50||Math.abs(r.offsetLeft)>50)&&(r.style.position="fixed",r.style.top=0,r.style.left=0),r.appendChild(n)}setTimeout(function(){h.resizePlayer(e,t.width||e.width,t.height||e.height,t.viewMode),o(e,"jsAdReadyToStart",{})},0)});var r=document.createElement("div");r.setAttribute("id",e.divId);var n="0",i=e.widthOverwrite||e.width,a=e.heightOverwrite||e.height;if(e.callingFlashObject&&(n="-"+a),r.setAttribute("style","width:"+i+"px;height:"+a+"px;position:relative;top:"+n+"px;"),e.rootDivElem=r,e.callingFlashObject){var s=e.callingFlashObject.parentNode||e.callingFlashObject.parentElement;e.callingFlashObjectParent=s,e.callingFlashObject.nextSibling?s.insertBefore(r,e.callingFlashObject.nextSibling):s.appendChild(r)}else if(e.jsCallingVpaid){var l=document.querySelector("body");l.appendChild(r),e.callingJSVpaid.handshake(function(e,r){return setTimeout(t.emit(e,r),0)})}if(e.companionsRootDivElem=document.createElement("div"),e.companionsDivElem=document.createElement("div"),e.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),e.companionsRootDivElem.appendChild(e.companionsDivElem),e.callingFlashObject)s.insertBefore(e.companionsRootDivElem,r);else if(e.jsCallingVpaid){var l=document.querySelector("body");l.appendChild(e.companionsRootDivElem)}return!0}}function o(e,t,r){e.callingFlashInterface?setTimeout(function(){return e.callingFlashInterface.call(t,r)},0):e.jsCallingVpaid&&e.callingJSVpaid.pEvent(t,r)}function s(e,t){e.callingFlashObject&&!t.flashPrevStyle&&(t.flashPrevStyle={position:t.flashElement.style.position,top:t.flashElement.style.top,left:t.flashElement.style.left},t.flashElement.style.position="absolute",t.flashElement.style.top="-1000px",t.flashElement.style.left="-1000px",e.rootDivElem.style.top="0px",e.divElem.style.top="0px")}function l(e,t){e.callingFlashObject&&t.flashPrevStyle&&(t.flashPrevStyle.position&&(t.flashElement.style.position=t.flashPrevStyle.position),t.flashElement.style.top=t.flashPrevStyle.top,t.flashElement.style.left=t.flashPrevStyle.left,e.divElem.style.display="none",e.rootDivElem.style.display="none",t.flashPrevStyle=null)}var d=r(30),u=r(1),c=r(3),p=r(32),h=r(11),f=null;t.prePrepareCallingObject=i,t.postPrepareCallingObject=a,t.callingVpaidEvent=o,t.hideCallingFlashObject=s,t.restoreCallingFlashObjectStyle=l},function(e,t,r){"use strict";function n(e,t,r){v(e,t,"adpause"),t.isPaused=!0,null!=t.longImpressionStopper&&(clearTimeout(t.longImpressionStopper),t.longImpressionStopper=null),y.debugLog(e,r+" pause - got playing playerData, vastId: "+t.vastId,!1);try{t.pauseAd()}catch(n){y.debugLog(e,r+(" pause gave exception on "+t.adType+" pause: ")+n.message)}}function i(e,t){e.autoplay=!1,e.autoplayOverwrite=!0,y.debugLog(e,t+" pause callback called",!1);var r=w.getPlayingPlayerData(e);r?n(e,r,t):(e.contentUrlPlayer&&e.contentUrlPlayer.isVisible()&&e.contentUrlPlayer.pauseContent(),e.pausedBy=t,y.debugLog(e,t+" pause - no playing playerData",!1))}function a(e,t){y.debugLog(e,t+" resume callback called",!1),e.autoplay=!0,e.pausedBy=null,e.autoplayOverwrite=!0;var r=w.getPlayingPlayerData(e);if(r){e.contentUrlPlayer&&e.contentUrlPlayer.isVisible()&&e.contentUrlPlayer.hideContent(),v(e,r,"adplay"),e.allowLongImpressions||null!=r.longImpressionStopper||(r.longImpressionStopper=setTimeout(function(){L.abortLongImpression(e,r)},7e4)),y.debugLog(e,t+" resume - got playing playerData, vastId: "+r.vastId,!1);try{r.resumeAd()}catch(n){y.debugLog(e,t+(" resume gave exception on "+r.adType+" resume: ")+n.message)}}else y.debugLog(e,t+" resume - no playing playerData",!1),e.contentUrlPlayer&&e.contentUrlPlayer.isVisible()&&e.contentUrlPlayer.playContent(),b.playNextVasts(e,!0)}function o(e,t){v(e,null,"adplay"),e.autoplayOverwrite=!0,e.autoplay=!0,y.debugLog(e,t+" play callback called",!1),b.playNextVasts(e,!0),e.anyPlaying||(e.autoplay=!0)}function s(e){e.autoplay=!1,e.autoplayOverwrite=!0;var t=w.getPlayingPlayerData(e),r=null;return t&&(r={},r.uniqId=t.uniqId),h(e,r),t}function l(e){if(e.frozen){e.autoplay=!0,e.autoplayOverwrite=!0,e.frozen=!1;var t=w.getPlayingPlayerData(e);t&&null!=t.sameVastIdLoader||x.gpvAnswerFunc(e,e.vasts)}}function d(e,t,r,n){if((e.width!=t||e.height!=r)&&(e.width=t,e.height=r,e.widthOverwrite=t,e.heightOverwrite=r,e.rootDivElem)){e.rootDivElem.style.width=t+"px",e.rootDivElem.style.height=r+"px";for(var i=0,a=e.plist.length;i<a;i++){var o=e.plist[i];o.flashElement&&(o.flashElement.width=t,o.flashElement.height=r);try{o.resumeAd(t,r,n)}catch(t){y.debugLog(e," resizeAd gave exception on "+o.adType+" resize: "+t.message)}}}}function u(e,t,r){e.allowSound=t>0,e.contentUrlPlayer&&e.contentUrlPlayer.setVolume(t);for(var n=0,i=e.plist.length;n<i;n++){var a=e.plist[n];try{a.setAdVolume(t,r)}catch(t){y.debugLog(e," setAdVolume gave exception on "+a.adType+" setAdVolume: "+t.message)}}}function c(e){e.rootDivElem&&e.rootDivElem.parentNode&&e.rootDivElem.parentNode.removeChild(e.rootDivElem)}function p(e){var t=w.getPlayingPlayerData(e);t?("vpaid"!==e.mode&&(e.anyPlaying=b.anyOtherPlaying(e,t.vastId),e.anyPlaying||A.showRotator(e)),"vpaid"==e.mode&&(E.restoreCallingFlashObjectStyle(e,t),E.callingVpaidEvent(e,"jsAdComplete",{}),E.callingVpaidEvent(e,"jsAdStopped",{}),e.divElem.style.display="none"),P.terminateVastAndContinue(e,t)):e.contentUrlPlayer.nextVideo()&&e.contentUrlPlayer.showContent()}function h(e,t){if(y.debugLog(e,"freezing players",!1),e.frozen=!0,w.destroyAllPlayerDatas(e,t),t)y.debugLog(e,"leaving players objects for now",!1);else if(y.debugLog(e,"removing players objects",!1),null!=e.initialStartAd&&(clearTimeout(e.initialStartAd),e.initialStartAd=null),null!=e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),null!=e.reportVPWStateInterval&&(clearInterval(e.reportVPWStateInterval),e.reportVPWStateInterval=null),e.callingFlashObject)try{e.callingFlashObjectParent.removeChild(e.companionsRootDivElem),e.callingFlashObjectParent.removeChild(e.rootDivElem)}catch(t){y.debugLog(e,"removing root divs gave exception: "+t.message,!1)}}function f(e,t){try{t.stopAd()}catch(r){y.debugLogVast(e,t,"parallel stopAd of "+t.adType+" gave exception: "+r.message,!1)}}function g(e,t){var r={_pause:function(){e.autoplay=!1,i(e,"api")},_play:function(){a(e,"api")},_overrideInit:function(t){var r=t.data;if(e.gpvConfLoaded===!1)for(var n in r)r.hasOwnProperty(n)&&e.initOverrides.push({name:n,value:r[n]});else"undefined"!=typeof r.allowSound&&e.allowSound!=r.allowSound&&u(e,e.allowSound?1:0,!0),"undefined"!=typeof r.contentUrl&&T._setContentUrls(e,r.contentUrl)},_setContentUrls:function(t){e.gpvConfLoaded===!1?e.initOverrides.push({name:"contentUrl",value:t.data}):T._setContentUrls(e,t.data)},_sound:function(t){var r=t.data;switch(typeof r){case"boolean":u(e,r?1:0,!0);break;case"number":r>=0&&r<=1&&u(e,r,!0)}},_resize:function(t){d(e,t.data.width,t.data.height,"normal")},_skip:function(){p(e)},_close:function(){h(e),c(e)},_pauseads:function(){e.autoplay=!1,s(e)},_resumeads:function(){e.autoplay=!1,l(e)},_show:function(){S.removeClass(e.rootDivElem,S.Classes.hidden)},_hide:function(){S.assignClass(e.rootDivElem,S.Classes.hidden)}};e.apiInterface=t.registerPlayer(e.divId),Object.defineProperty(e.apiInterface,"playerVersion",{value:e.playerVersion,enumerable:!1,configurable:!1,writable:!1}),e.initOverrides=[];for(var n in r)r.hasOwnProperty(n)&&e.apiInterface.on(n,r[n]);if("function"==typeof e.apiInterface.init)try{e.apiInterface.init(e.divId,{playerEvents:e.playerEvents})}catch(t){y.debugLog(e,"Init API gave exception: "+t.message,!1)}}function v(e,t,r,n){var i={playerId:e.playerId,subid:e.subid};t&&(i.vastId=t.cxvid||t.vastId,_.extend(i,t.customVars)),n&&_.extend(i,n);try{e.apiInterface.trigger(r,i)}catch(e){}}function m(e,t,r){r=r||t.adClickUrl,y.debugLogVast(e,t,"adClick url:"+r,!1),v(e,t,"click",{url:r}),R.triggerBeacon(e,t,"adclick",{clickUrl:r}),D.logVastEvent(e,I.CEDATO_EVENT.E_CLICK,t,{url:r}),"vpaid"==e.mode&&e.vpaidObj.call("jsAdClickthrough",{url:r},!0),r&&"string"==typeof r&&window.open(r,"_blank")}var y=r(1),b=r(8),E=r(10),w=r(6),A=r(9),T=r(9),S=r(25),_=r(4),L=r(31),x=r(34),I=r(3),D=r(12),R=r(23),P=r(5);t.pausePlayer=n,t.pausePlayingPlayer=i,t.resumePlayingPlayer=a,t.playPlayingPlayer=o,t.playerPauseAds=s,t.playerResumeAds=l,t.resizePlayer=d,t.setPlayerVolume=u,t.collapsePlayer=c,t.skipVideo=p,t.freezePlayers=h,t.stopPlayer=f,t.setupAPI=g,t.notifyApi=v,t.adClick=m},function(e,t,r){"use strict";function n(e){return null!=e.cxpid&&null!=e.cxvid}function i(e){if(e.isIMA)return"jsima"==e.adType?c.VastType.ImaJs:c.VastType.ImaFlash;if(e.isSpotx)return c.VastType.Spotx;var t=c.VastType.Video;return"flvpaid"==e.adType?t=c.VastType.FlashVpaid:"jsvpaid"==e.adType&&(t=c.VastType.JsVpaid),e.hasFlashVPAID&&e.hasJSVPAID&&(t=c.VastType.FlashJsVpaid),t}function a(e,t){d(e,c.CEDATO_EVENT.E_REQUEST,t,{})}function o(e,t,r){var n=((t.duration||0)*(r||4)/4).toFixed(2);d(e,4==r?c.CEDATO_EVENT.E_END:c.CEDATO_EVENT.E_MIDS,t,{quartile:r,duration:n})}function s(e,t){c.logActualRequest(e,t.playerId,t.vastId),t.capType==u.CAP_TYPE.AD_REQUEST&&(t.allocatedQuota-=1)}function l(e,t,r){("undefined"==typeof r||r<0)&&(r="");var a=(((new Date).getTime()-t.loadAdTime)/1e3).toFixed(1);d(e,c.CEDATO_EVENT.E_LOADED,t,{time:a,memUsed:r,vastType:i(t)}),n(t)&&c.logEvent(e,c.CEDATO_EVENT.E_SERVED_AND_START,{},{playerId:t.playerId})}function d(e,t,r,i){n(r)?(r.cedatoxPlayerId=null,r.cedatoxVastId=r.cxvid,r.chosenVastId=null,r.parentPlayerId=r.cxpid,c.logEvent(e,t,r,i),r.cedatoxPlayerId=r.playerId,r.cedatoxVastId=null,r.chosenVastId=r.vastId,r.parentPlayerId=null,h.extend(i,{playerId:r.cxpid,vastId:r.cxvid}),c.logEvent(e,t,r,i)):c.logEvent(e,t,r,i)}var u=r(5),c=r(3),p=r(3);t.CEDATO_EVENT=p.CEDATO_EVENT;var h=r(4);t.isCedatox=n,t.reportingVastType=i,t.logVastRequest=a,t.logVastProgress=o,t.logVastActualRequest=s,t.logVastLoaded=l,t.logVastEvent=d},function(e,t,r){(function(t){function n(e){return this instanceof n?(l.call(this,e),d.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(e)}function i(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function a(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}e.exports=n;var o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},s=r(21);s.inherits=r(22);var l=r(48),d=r(38);s.inherits(n,l),a(o(d.prototype),function(e){n.prototype[e]||(n.prototype[e]=d.prototype[e])})}).call(t,r(16))},function(module,exports){var my=exports;my.msie=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/"),n=e.indexOf("Edge/"),i=null;return t>0?i=parseInt(e.split("MSIE")[1]):r>0?i=11:n>0&&(i=12),!!i&&{version:i}}(),my.oldIE=my.msie&&my.msie.version<10,my.supportsVideo=function(){var e=!1;try{var t=document.createElement("video");t.volume=.5,e=!!t.canPlayType}catch(t){e=!1}return e};var XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){var e=new XDomainRequest;return e.onprogress=function(){},e}];my.createXMLHTTPObject=function(){var e,t=!1;for(e=0;e<XMLHttpFactories.length;e++){try{t=XMLHttpFactories[e]()}catch(e){continue}break}return t},my.parseTextToXML=function(e){var t;return(t=window.DOMParser?function(e){return(new window.DOMParser).parseFromString(e,"text/xml")}:"undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(){return null})(e)},my.getXML=function(e){return my.oldIE&&(0===Object.keys(e.responseXML).length||null==e.responseXML)&&e.responseText?my.parseTextToXML(e.responseText):e.responseXML},my.json_decode=function(str){return window.JSON&&JSON.parse?JSON.parse(str):eval("("+str+")")},my.nonFlashSandbox=function(){try{var e=sandblaster.detect();return!!e.sandboxed&&("undefined"==typeof document.plugins||"object"!=typeof document.plugins["Shockwave Flash"])}catch(e){return!1}},my.getPageTitle=function(){var e="";try{e=window.top.document.title}catch(t){e=document.title}return e||(e=""),e},my.addEvent=function(e,t,r,n){"undefined"==typeof n&&(n=!1),e.addEventListener?e.addEventListener(t,r,n):e.attachEvent?e.attachEvent("on"+t,r):e[t]=r;
}},function(e,t,r){"use strict";var n=r(7),i=function(){function e(e,t){this.players=e,this.videoElement=null,this.flashElement=null,this.initAdEnvObject=null,this.companionsElementDiv=null,this.maxFailedVastRetries=0,this.adType=null,this.previousAdType=null,this.firedEvents={},this.vastPreferType=0,this.corsType=null,this.status=1,this.group=+t.group,this.vastURL=t.url,this.vastId=+t.id,t.pid?this.playerId=t.pid:this.playerId=this.players.playerId,t.mvr&&(this.maxFailedVastRetries=+t.mvr),t.vt&&(this.vastPreferType=t.vt),t.ct&&(this.corsType=t.ct),t.cxvid&&(this.cxvid=t.cxvid),t.cxpid&&(this.cxpid=t.cxpid),t.capt&&(this.capType=t.capt,this.allocatedQuota=t.aq?+t.aq:0),void 0!==t.vos&&(this.viewableOnStart=!!t.vos),this.beacons=t.callbacks,this.customVars={rpm:t.rpm,cx_rpm:t.cxrpm},this.longStartAd=!!t.lsa,this.expectedSureFastStart=!!t.sff,this.expectedSureFastStart=!1,this.state=n.PlayerDataState.None,this.vpwLoaded=0,this.vpwLoadRetry=0,this.errorCount=0,this.startAdStopper=null,this.startAdHalfStopper=null,this.longImpressionStopper=null,this.requeryTimeout=null,this.initAdThrottler=null,this.vpwWaitFunc=null,this.flashInitialTimeout=null,this.flashLoadCheckInterval=null,this.players.curUniq++,this.uniqId=this.players.curUniq,this.originalUniqId=this.uniqId,this.roundNo=0,this.isIMA=!1,this.vastResponseError=null,this.channelId=null,this.viewable=!1}return e.prototype.initMedia=function(){},e.prototype.initAd=function(){},e.prototype.pauseAd=function(){},e.prototype.resumeAd=function(){},e.prototype.showAd=function(){},e.prototype.hideAd=function(){},e.prototype.startAd=function(){},e.prototype.stopAd=function(){},e.prototype.clearAd=function(){},e.prototype.resizeAd=function(e,t,r){},e.prototype.setAdVolume=function(e,t){},e}();t.PlayerData=i},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){g&&h&&(g=!1,h.length?f=h.concat(f):v=-1,f.length&&s())}function s(){if(!g){var e=i(o);g=!0;for(var t=f.length;t;){for(h=f,f=[];++v<t;)h&&h[v].run();v=-1,t=f.length}h=null,g=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var u,c,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var h,f=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new l(e,t)),1!==f.length||g||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){function n(){i.call(this)}e.exports=n;var i=r(20).EventEmitter,a=r(92);a(n,i),n.Readable=r(89),n.Writable=r(91),n.Duplex=r(86),n.Transform=r(90),n.PassThrough=r(88),n.Stream=n,n.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&d.pause&&d.pause()}function n(){d.readable&&d.resume&&d.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){d.removeListener("data",r),e.removeListener("drain",n),d.removeListener("end",a),d.removeListener("close",o),d.removeListener("error",s),e.removeListener("error",s),d.removeListener("end",l),d.removeListener("close",l),e.removeListener("close",l)}var d=this;d.on("data",r),e.on("drain",n),e._isStdio||t&&t.end===!1||(d.on("end",a),d.on("close",o));var u=!1;return d.on("error",s),e.on("error",s),d.on("end",l),d.on("close",l),e.on("close",l),e.emit("pipe",d),e}},function(e,t,r){"use strict";function n(e,t,r){var n={category:"sound",event:"mute",error:r,url:t.mediaURL,vast:t.vastId};d.clientEvent(e,n,u)}function i(e,t,r,n){var i={category:"sound",event:r?"enabled":"rejected",error:n,url:t.mediaURL,vast:t.vastId};d.clientEvent(e,i,r?c:u)}function a(e,t,r){var n={category:"vpaidjs",event:"disappeared",error:"vpaidJS event called after destroy:"+r,url:t.mediaURL,vast:t.vastId};d.clientEvent(e,n,p)}function o(e,t){var r={category:"jsv",event:"init",usejsv:e.usejsv,forced:t};d.clientEvent(e,r,h)}function s(e,t){if(e.info.mobile){var r={category:"jsv",event:"impression",usejsv:e.usejsv,label:t};d.clientEvent(e,r,f)}}function l(e,t,r,n){if(!e.usejsv&&e.info.mobile){var i={category:"autoplay",label:n,domain:e.domain,videoSrc:t.currentSrc};r&&r.then?r.then(function(){i.event="OK",d.clientEvent(e,i,g)},function(t){var r=t.name,n=t.message;i.error=r,i.message=n,i.event="AbortError"!==r?"Failed":"Aborted",d.clientEvent(e,i,"AbortError"!==r?y:m)}):(i.event="Unknown",d.clientEvent(e,i,v))}}var d=r(3),u=.1,c=.01;t.vpaidVolumeError=n,t.vpaidVolumeChanged=i;var p=.01;t.vpaidJSDisappearedError=a;var h=.01,f=.005;t.jsvUsage=o,t.logImpression=s;var g=.01,v=.01,m=.01,y=.1;t.validateVideoStart=l},function(e,t,r){(function(e,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function a(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,r){if(a()<r)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=e.prototype):(null===t&&(t=new e(r)),t.length=r),t}function e(t,r,n){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,r,n);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,r,n)}function s(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,r,n):"string"==typeof t?c(e,t,r):f(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,r,n){return l(t),t<=0?o(e,t):void 0!==r?"string"==typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}function u(t,r){if(l(r),t=o(t,r<0?0:0|g(r)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}function c(t,r,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(r,n);t=o(t,i);var a=t.write(r,n);return a!==i&&(t=t.slice(0,a)),t}function p(e,t){var r=t.length<0?0:0|g(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(t,r,n,i){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return r=void 0===n&&void 0===i?new Uint8Array(r):void 0===i?new Uint8Array(r,n):new Uint8Array(r,n,i),e.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=e.prototype):t=p(t,r),t}function f(t,r){if(e.isBuffer(r)){var n=0|g(r.length);return t=o(t,n),0===t.length?t:(r.copy(t,0,0,n),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||X(r.length)?o(t,0):p(t,r);if("Buffer"===r.type&&Z(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function v(t){return+t!=t&&(t=0),e.alloc(+t)}function m(t,r){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return z(t).length;r=(""+r).toLowerCase(),i=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return V(this,t,r);case"utf8":case"utf-8":return D(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(t,r,n,i,a){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof r&&(r=e.from(r,i)),e.isBuffer(r))return 0===r.length?-1:w(t,r,n,i,a);if("number"==typeof r)return r&=255,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):w(t,[r],n,i,a);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,l=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}var d;if(i){var u=-1;for(d=r;d<s;d++)if(a(e,d)===a(t,u===-1?0:d-u)){if(u===-1&&(u=d),d-u+1===l)return u*o}else u!==-1&&(d-=d-u),u=-1}else for(r+l>s&&(r=s-l),d=r;d>=0;d--){for(var c=!0,p=0;p<l;p++)if(a(e,d+p)!==a(t,p)){c=!1;break}if(c)return d}return-1}function A(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function T(e,t,r,n){return Q(z(t,e.length-r),e,r,n)}function S(e,t,r,n){return Q(W(t),e,r,n)}function _(e,t,r,n){return S(e,t,r,n)}function L(e,t,r,n){return Q(G(t),e,r,n)}function x(e,t,r,n){return Q(Y(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?$.fromByteArray(e):$.fromByteArray(e.slice(t,r))}function D(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var l,d,u,c;switch(s){case 1:a<128&&(o=a);break;case 2:l=e[i+1],128===(192&l)&&(c=(31&a)<<6|63&l,c>127&&(o=c));break;case 3:l=e[i+1],d=e[i+2],128===(192&l)&&128===(192&d)&&(c=(15&a)<<12|(63&l)<<6|63&d,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:l=e[i+1],d=e[i+2],u=e[i+3],128===(192&l)&&128===(192&d)&&128===(192&u)&&(c=(15&a)<<18|(63&l)<<12|(63&d)<<6|63&u,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return R(n)}function R(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ee));return r}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function V(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=J(e[a]);return i}function k(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,r,n,i,a,o){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function U(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,i){return i||M(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return i||M(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,r,n,52,8),r+8}function H(e){if(e=q(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function J(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function W(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Y(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function G(e){return $.toByteArray(H(e))}function Q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e){return e!==e}var $=r(78),K=r(79),Z=r(80);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=a(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,r){return s(null,e,t,r)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,r){return d(null,e,t,r)},e.allocUnsafe=function(e){return u(null,e)},e.allocUnsafeSlow=function(e){return u(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,r){if(!e.isBuffer(t)||!e.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,a=0,o=Math.min(n,i);a<o;++a)if(t[a]!==r[a]){n=t[a],i=r[a];break}return n<i?-1:i<n?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,r){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=e.allocUnsafe(r),a=0;for(n=0;n<t.length;++n){var o=t[n];if(!e.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},e.byteLength=m,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):y.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,r,n,i,a){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),r<0||n>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===t)return 0;for(var o=a-i,s=n-r,l=Math.min(o,s),d=this.slice(i,a),u=t.slice(r,n),c=0;c<l;++c)if(d[c]!==u[c]){o=d[c],s=u[c];break}return o<s?-1:s<o?1:0},e.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},e.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},e.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},e.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return L(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=this.subarray(t,r),i.__proto__=e.prototype;else{var a=r-t;i=new e(a,void 0);for(var o=0;o<a;++o)i[o]=this[o+t]}return i},e.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},e.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},e.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},e.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),K.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),K.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),K.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),K.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;N(this,e,t,r,i,0)}var a=1,o=0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=e/a&255;return t+r},e.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;N(this,e,t,r,i,0)}var a=r-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+r},e.prototype.writeUInt8=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},e.prototype.writeUInt16LE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):j(this,t,r,!0),r+2},e.prototype.writeUInt16BE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):j(this,t,r,!1),r+2},e.prototype.writeUInt32LE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):U(this,t,r,!0),r+4},e.prototype.writeUInt32BE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):U(this,t,r,!1),r+4},e.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},e.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},e.prototype.writeInt8=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},e.prototype.writeInt16LE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):j(this,t,r,!0),r+2},e.prototype.writeInt16BE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):j(this,t,r,!1),r+2},e.prototype.writeInt32LE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):U(this,t,r,!0),r+4},e.prototype.writeInt32BE=function(t,r,n){return t=+t,r|=0,n||N(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):U(this,t,r,!1),r+4},e.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},e.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},e.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},e.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},e.prototype.copy=function(t,r,n,i){if(n||(n=0),i||0===i||(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var a,o=i-n;if(this===t&&n<r&&r<i)for(a=o-1;a>=0;--a)t[a+r]=this[a+n];else if(o<1e3||!e.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+r]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r);return o},e.prototype.fill=function(t,r,n,i){if("string"==typeof t){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=r;o<n;++o)this[o]=t;else{var s=e.isBuffer(t)?t:z(new e(t,i).toString()),l=s.length;for(o=0;o<n-r;++o)this[o+r]=s[o%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,r(19).Buffer,function(){return this}())},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,l,d;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(r=this._events[e],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(a(r))for(s=Array.prototype.slice.call(arguments,1),d=r.slice(),i=d.length,l=0;l<i;l++)d[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){(function(e){function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function n(e){return"boolean"==typeof e}function i(e){return null===e}function a(e){return null==e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function d(e){return void 0===e}function u(e){return"[object RegExp]"===v(e)}function c(e){return"object"==typeof e&&null!==e}function p(e){return"[object Date]"===v(e)}function h(e){return"[object Error]"===v(e)||e instanceof Error}function f(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function v(e){return Object.prototype.toString.call(e)}t.isArray=r,t.isBoolean=n,t.isNull=i,t.isNullOrUndefined=a,t.isNumber=o,t.isString=s,t.isSymbol=l,t.isUndefined=d,t.isRegExp=u,t.isObject=c,t.isDate=p,t.isError=h,t.isFunction=f,t.isPrimitive=g,t.isBuffer=e.isBuffer}).call(t,r(19).Buffer)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";function n(e,t,r,n){try{var a=s.macros(e,t,n);if(e.beacons){var o=e.beacons[r];i(e,o,a)}if(t&&t.beacons){var o=t.beacons[r];i(e,o,a)}}catch(e){}}function i(e,t,r){t=a.ensureArray(t);for(var n=0;n<t.length;n++){var i=t[n].url;r&&(i=r(i)),i=o.fixURLPrm(e.protocol,i),e.sendPixel(i)}}var a=r(4),o=r(2),s=r(40);t.triggerBeacon=n},function(e,t,r){"use strict";function n(e){return!e||!e.flashMemUsed||e.flashMemUsed<0?"":", mem used: "+e.flashMemUsed}function i(e,t,r){t.duration=r,t.durationKnown=!0,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration)),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdDurationChange",{duration:r})}function a(e,t,r){null!=t.requeryTimeout&&(O.debugLogVast(e,t,"cleared pending requery",!1),clearTimeout(t.requeryTimeout),t.requeryTimeout=null),O.debugLogVast(e,t,"got vpaid success callback"+n(r),!1);var i=M.canInitAd(e,t);if(!i){O.debugLogVast(e,t,"initAd throttled, we'll try again. Inited vast count:"+M.getInitedVastsCount(e),!1);var a=function(e,t){try{var r=M.canInitAd(e,t);r&&(O.debugLogVast(e,t,"initAd throttler passed in interval: "+r,!1),o(e,t))}catch(r){N.vastError(e,t.vastId,3,"iat gave JS exception: ",r,t)}};return void(t.initAdThrottler=setInterval(function(){a(e,t)},500))}O.debugLogVast(e,t,"initAd throttler passed: "+i,!1),o(e,t)}function o(e,t){null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null);var r;try{O.debugLogVast(e,t,"calling initAd",!1),t.state=k.PlayerDataState.Initing,r=t.initAd()}catch(e){r=e.message}r?(N.vastError(e,t.vastId,5,"initAd failed - "+r,!1,t,!1,!0),t.state=k.PlayerDataState.Error,t.errorCount=t.errorCount+1,"flvpaid"==t.adType&&N.vpwException(e,t,"initAd"),N.requeryPlayerVast(e,t)):O.debugLogVast(e,t,"initAd returned success",!1)}function s(e,t,r){return t.firedEvents.AdLoaded?void O.debugLog(e,"AdLoaded fired already",!1):(t.firedEvents.AdLoaded=!0,O.debugLogVast(e,t,"got vpaid adLoaded callback"+n(r),!1),null!=t.requeryTimeout&&(O.debugLogVast(e,t,"cleared pending requery",!1),clearTimeout(t.requeryTimeout),t.requeryTimeout=null),t.state<k.PlayerDataState.Loading||t.state==k.PlayerDataState.Error?void O.debugLogVast(e,t,"adLoaded on wrong state - ignoring it - "+t.state,!1):t.state>k.PlayerDataState.Initing&&t.state<k.PlayerDataState.Error?void O.debugLogVast(e,t,"second adLoaded event - ignoring it",!1):(t.state=k.PlayerDataState.Ready,O.debugLogVast(e,t,"marked as ready to play",!0),j.logVastLoaded(e,t,r&&r.flashMemUsed),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdReadyToStart",{}),void M.playNextVasts(e)))}function l(e,t,r){var n=r.errorMsg;if(U.restoreCallingFlashObjectStyle(e,t),O.debugLogVast(e,t,"got vpaid aderror callback, message: "+n,!1),t.state<=k.PlayerDataState.Loading||t.state==k.PlayerDataState.Error)return void O.debugLogVast(e,t,"vpaid aderror callback on invalid state - ignoring - "+t.state,!1);var i=!1,a=!1;1==t.vpaidPlaying&&(t.vpaidPlaying=0,e.parallelStartAd?t.state!=k.PlayerDataState.Playing&&t.state!=k.PlayerDataState.Finishing||(O.debugLogVast(e,t,"was playing",!1),e.anyPlaying=M.anyOtherPlaying(e,t.vastId),e.anyPlaying||B.showRotator(e)):(O.debugLogVast(e,t,"was playing",!1),e.anyPlaying=M.anyOtherPlaying(e,t.vastId),e.anyPlaying||B.showRotator(e)),null!=t.startAdHalfStopper&&(clearTimeout(t.startAdHalfStopper),t.startAdHalfStopper=null),null!=t.startAdStopper&&(clearTimeout(t.startAdStopper),t.startAdStopper=null),e.parallelStartAd&&(a=!0)),t.state<k.PlayerDataState.Ready&&(i=!0),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null);var o=22,s="";try{s=n.toLowerCase()}catch(e){}s.indexOf("timeout")==-1&&s.indexOf("timed out")==-1||(o=110),s.indexOf("empty")==-1&&s.indexOf("3403")==-1||(o=111),s.indexOf("domain")!=-1&&s.indexOf("block")!=-1&&(o=112),s.indexOf("no ad")==-1&&s.indexOf("there was an error parsing the ad tag response - null, errno: 0")==-1||(o=113),s.indexOf("but the server returned a vast error")==-1&&s.indexOf("failed to parse liverail xml response")==-1&&s.indexOf("unknown liverail xml response type")==-1||(o=114),s.indexOf("security error")==-1&&s.indexOf("2048")==-1||(o=115),s.indexOf("2032")==-1&&s.indexOf("9408")==-1&&s.indexOf("error loading asset : ioerror")==-1||(o=116),s.indexOf("1903")!=-1&&(o=117),s.indexOf("1902")!=-1&&(o=118),s.indexOf("volume violation")!=-1&&(O.submitFullDebugLog(e,{debugLogReason:"volume",keepDebugLog:!0}),o=300),s.indexOf("non linear ads")!=-1&&(o=157),s.indexOf("adstart exception")!=-1&&(o=156),H.notifyApi(e,t,"aderror"),N.vastError(e,t.vastId,o,"onAdError on state "+t.state+" : "+n,!1,t,a,i),t.state<=k.PlayerDataState.Ready?N.requeryPlayerVast(e,t):N.terminateVastAndContinue(e,t)}function d(e,t){if(e.pausedBy)for(var r=0,n=e.plist.length;r<n;r++){var i=e.plist[r];i.state==k.PlayerDataState.Started&&H.pausePlayer(e,i,e.pausedBy)}return t.firedEvents.AdStarted?void O.debugLog(e,"AdStarted fired already",!1):(t.firedEvents.AdStarted=!0,t.firedEvents.AdLoaded||s(e,t,null),q.adStarted(e,t),null!=t.adStartedExpectingImpression&&(clearTimeout(t.adStartedExpectingImpression),t.adStartedExpectingImpression=null),void(t.firedEvents.AdImpression||(t.adStartedExpectingImpression=setTimeout(function(){O.debugLog(e,"Haven't get AdImpression in 3 seconds, hide vastId "+t.vastId,!1),j.logVastEvent(e,j.CEDATO_EVENT.E_ADSTART_WO_IMPRESSION,t,{}),(e.viewableOnStart||t.viewableOnStart)&&F.hideAdvertising(e,t)},3e3))))}function u(e,t,r){return t.firedEvents.AdImpression?void O.debugLog(e,"AdImpression fired already",!1):(t.firedEvents.AdImpression=!0,t.firedEvents.AdStarted||d(e,t),O.debugLogVast(e,t,"got vpaid impression callback"+n(r),!1),t.state==k.PlayerDataState.Error||t.state<k.PlayerDataState.Started?void O.debugLogVast(e,t,"got vpaid impression callback but in invalid state - ignoring - "+t.state,!1):(null!=t.adStartedExpectingImpression&&(clearTimeout(t.adStartedExpectingImpression),t.adStartedExpectingImpression=null),void(q.adImpression(e,t)||(null!=t.startAdHalfStopper&&(clearTimeout(t.startAdHalfStopper),t.startAdHalfStopper=null),null!=t.startAdStopper&&(clearTimeout(t.startAdStopper),t.startAdStopper=null),t.errorCount=0))))}function c(e,t){return t.firedEvents.AdVideoStart?void O.debugLog(e,"AdVideoStart fired already",!1):(t.firedEvents.AdVideoStart=!0,O.debugLogVast(e,t,"got vpaid AdVideoStart callback",!1),void("vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdVideoStart",{})))}function p(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||(O.debugLogVast(e,t,"got vpaid adFirstQuartile callback",!1),t.skipVastTracker?(O.debugLogVast(e,t,"skip vast tracker mode, calling directly",!1),t.vtHandler("firstQuartile")):t.vastTracker?N.verifyPlayerProgress("firstQuartile",e,t):N.vastError(e,t.vastId,3,"no vastTracker for first quartile",!1,t,!1,!1,"vastTracker error"),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdFirstQuartile",{}))}function h(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||(O.debugLogVast(e,t,"got vpaid adMidpoint callback",!1),t.skipVastTracker?(O.debugLogVast(e,t,"skip vast tracker mode, calling directly",!1),t.vtHandler("midpoint")):t.vastTracker?N.verifyPlayerProgress("midpoint",e,t):N.vastError(e,t.vastId,3,"no vastTracker for midpoint",!1,t,!1,!1,"vastTracker error"),
"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdMidpoint",{}))}function f(e,t){t.firedEvents.AdStarted&&!t.firedEvents.AdImpression||(O.debugLogVast(e,t,"got vpaid adThirdQuartile callback",!1),t.skipVastTracker?(O.debugLogVast(e,t,"skip vast tracker mode, calling directly",!1),t.vtHandler("thirdQuartile")):t.vastTracker?N.verifyPlayerProgress("thirdQuartile",e,t):N.vastError(e,t.vastId,3,"no vastTracker for third quartile",!1,t,!1,!1,"vastTracker error"),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdThirdQuartile",{}))}function g(e,t){if(!t.firedEvents.AdStarted||t.firedEvents.AdImpression){if(U.restoreCallingFlashObjectStyle(e,t),F.hidePlayerData(e,t),O.debugLogVast(e,t,"got vpaid adComplete callback",!1),t.state!=k.PlayerDataState.Playing&&t.state!=k.PlayerDataState.Finishing)return void O.debugLogVast(e,t,"vpaid adcomplete callback on invalid state - ignoring - "+t.state,!1);t.state=k.PlayerDataState.Finished,e.anyPlaying=M.anyOtherPlaying(e,t.vastId),e.anyPlaying||B.showRotator(e),t.skipVastTracker?(O.debugLogVast(e,t,"skip vast tracker mode, calling directly",!1),t.vtHandler("complete")):t.vastTracker?(N.verifyPlayerProgress("thirdQuartile",e,t),t.vastTracker.complete()):N.vastError(e,t.vastId,3,"no vastTracker for complete",!1,t,!1,!1,"vastTracker error"),"vpaid"==e.mode&&(U.callingVpaidEvent(e,"jsAdComplete",{}),U.callingVpaidEvent(e,"jsAdStopped",{})),e.readyForStartAd&&J.resetReadyForStartAd(e),N.terminateVastAndContinue(e,t)}}function v(e,t){U.restoreCallingFlashObjectStyle(e,t),O.debugLogVast(e,t,"got vpaid adStopped callback",!1),t.state!=k.PlayerDataState.Playing&&t.state!=k.PlayerDataState.Finishing||(O.debugLog(e,"triggering manual AdComplete",!1),g(e,t))}function m(e,t,r){var n=r.url;O.debugLogVast(e,t,"got vpaid click through callback",!1),!t.skipVastTracker&&t.vastTracker?t.vastTracker.click():t.skipVastTracker||N.vastError(e,t.vastId,3,"no vastTracker for click",!1,t,!1,!1,"vastTracker error"),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdClickthrough",{url:n}),H.adClick(e,t,n)}function y(e,t,r){var n=r.t;O.debugLogVast(e,t,"got vpaid ad duration time callback, t: "+n,!0),(0===n||n)&&i(e,t,n)}function b(e,t,r){var n=r.t;O.debugLogVast(e,t,"got vpaid ad remaining time callback, t: "+n,!0),(0===n||n)&&(!t.durationKnown||t.state<k.PlayerDataState.Playing?(O.debugLogVast(e,t,"got first vpaid ad remaining time callback, duration set to t: "+n,!0),i(e,t,n)):(t.vastTracker&&t.vastTracker.setProgress(t.duration-n),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdRemainingTimeChange",{remainingTime:n})))}function E(e,t){O.debugLogVast(e,t,"got vpaid failure callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsFailure",{})}function w(e,t){O.debugLogVast(e,t,"got vpaid ad_paused callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdPaused",{}),"spotx"==t.adType&&H.pausePlayer(e,t,"from adPause callback")}function A(e,t){O.debugLogVast(e,t,"got vpaid ad-playing callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdPlaying",{}),"spotx"==t.adType&&H.resumePlayingPlayer(e,"from adPlaying callback")}function T(e,t){O.debugLogVast(e,t,"got vpaid ad_volume_change callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdVolumeChange",{})}function S(e,t){O.debugLogVast(e,t,"got vpaid ad_size_change callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdSizeChange",{})}function _(e,t){O.debugLogVast(e,t,"got vpaid ad_skipped callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdSkipped",{})}function L(e,t){O.debugLogVast(e,t,"got vpaid ad_skippable_state_change callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdSkippableState",{})}function x(e,t){O.debugLogVast(e,t,"got vpaid ad_linear_change callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdLinearChange",{})}function I(e,t){O.debugLogVast(e,t,"got vpaid ad_expanded_change callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdExpandedChange",{})}function D(e,t){O.debugLogVast(e,t,"got vpaid ad_interaction callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdInteraction",{})}function R(e,t){O.debugLogVast(e,t,"got vpaid ad_user_accept_invitation callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdUserAcceptInvitation",{})}function P(e,t){O.debugLogVast(e,t,"got vpaid ad_user_minimize callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdUserMinimize",{})}function C(e,t){O.debugLogVast(e,t,"got vpaid ad_user_close callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdUserClose",{})}function V(e,t){O.debugLogVast(e,t,"got vpaid ad_log callback",!0),"vpaid"==e.mode&&U.callingVpaidEvent(e,"jsAdLog",{})}var k=r(7),O=r(1),N=r(5),j=r(12),U=r(10),M=r(8),F=r(6),B=r(9),H=r(11),q=r(31),J=r(36);t.LoadedFunc=a,t.AdLoadedHandler=s,t.AdErrorHandler=l,t.AdStartedHandler=d,t.AdImpressionHandler=u,t.AdVideoStartHandler=c,t.AdFirstQuartileHandler=p,t.AdMidpointHandler=h,t.AdThirdQuartileHandler=f,t.AdCompleteHandler=g,t.AdStoppedHandler=v,t.AdClickthruHandler=m,t.AdDurationChangeHandler=y,t.AdRemainingTimeChangeHandler=b,t.FailureHandler=E,t.AdPausedHandler=w,t.AdPlayingHandler=A,t.AdVolumeChangeHandler=T,t.AdSizeChangeHandler=S,t.AdSkippedHandler=_,t.AdSkippableStateChangeHandler=L,t.AdLinearChangeHandler=x,t.AdExpandedChangeHandler=I,t.AdInteractionHandler=D,t.AdUserAcceptInvitationHandler=R,t.AdUserMinimizeHandler=P,t.AdUserCloseHandler=C,t.AdLogHandler=V},function(e,t,r){"use strict";function n(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function i(e){if(d){var t=document.createElement("style");t.type="text/css",t.innerHTML=d;var r=document.getElementsByTagName("head")[0];r.appendChild(t),d=null}}function a(e,t){for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])}function o(e,t){this.hasClass(e,t)||(e.className+=" "+t)}function s(e,t){return n(t).test(e.className)}function l(e,t){var r=n(t),i=e.className.replace(r,"");e.className!=i&&(e.className=i)}var d=r(51),u="__cedato_";t.Classes={hidden:u+"hidden",closeButton:u+"close_button",skipButton:u+"skip_button",contentContainer:u+"content_container",contentVideo:u+"content_video",contentVideoActive:u+"active",contentPlayButtonOverlay:u+"play_overlay",contentBanner:u+"content_banner",videoElement:u+"video_element",flashContainer:u+"flash_container",jsvpaidContainer:u+"jsvpaid_element"},t.Ids={rootContainer:u+"root_container"},t.init=i,t.fromObject=a,t.assignClass=o,t.hasClass=s,t.removeClass=l},function(e,t,r){"use strict";function n(e){var t=e.url,r=void 0===t?"":t,n=e.withCredentials,i=void 0!==n&&n,l=e.method,d=void 0===l?"GET":l,u=e.postData,c=void 0===u?null:u,p=e.timeout,h=void 0===p?0:p;return new o.Promise(function(e,t){try{var n=!1,o=a.createXMLHTTPObject();if(!o)return t({xhr:o,code:s.ERR_NO_SUPPORTED_XHR}),null;try{o.open(d,r)}catch(e){return t({xhr:o,code:s.ERR_OPEN,data:e}),null}"withCredentials"in o&&(o.withCredentials=i),"timeout"in o&&(o.timeout=h,o.ontimeout=function(){t({xhr:o,code:s.ERR_TIMEOUT})}),o.onload=function(){n||(window.XDomainRequest&&o instanceof window.XDomainRequest&&(o.status=200,o.getResponseHeader=function(){return null},o.getAllResponseHeaders=function(){return null}),e(o))},o.onerror=function(e){n=!0,t({xhr:o,code:s.ERR_AFTER_SEND,data:{result:-1,message:""}})};var l=null,u=[];if(c){if("string"==typeof c)l=c;else{for(var p in c)c.hasOwnProperty(p)&&u.push([p,c[p]].join("="));l=u.join("&")}o.setRequestHeader&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(a.oldIE)setTimeout(function(){try{o.send(l)}catch(e){t({xhr:o,code:s.ERR_SEND,data:e})}},0);else try{o.send(l)}catch(e){t({xhr:o,code:s.ERR_SEND,data:e})}}catch(e){t({xhr:o,code:s.ERR_UNKNOWN,data:e})}})}function i(e){return new o.Promise(function(t,r){var n="_"+(new Date).getTime(),i=document.createElement("script"),a=document.getElementsByTagName("head")[0]||document.documentElement;window[n]=function(e){t(e)};var o=e.indexOf("?");o==-1?e+="?":o!==e.length-1&&(e+="&"),i.src=e+"callback="+n,i.onerror=function(){r()},a.appendChild(i)})}var a=r(14),o=r(29);!function(e){e[e.ERR_NO_SUPPORTED_XHR=1]="ERR_NO_SUPPORTED_XHR",e[e.ERR_OPEN=2]="ERR_OPEN",e[e.ERR_SEND=3]="ERR_SEND",e[e.ERR_AFTER_SEND=4]="ERR_AFTER_SEND",e[e.ERR_TIMEOUT=5]="ERR_TIMEOUT",e[e.ERR_UNKNOWN=6]="ERR_UNKNOWN"}(t.HTTP||(t.HTTP={}));var s=t.HTTP;t.requestWithAjax=n,t.requestWithJSONP=i},function(e,t){(function(){var t,r,n,i,a={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=function(){function e(){this.trackingEvents={}}return e}(),n=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null}return o(t,e),t}(t),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[],this.videoClickTrackingURLTemplates=[]}return o(t,e),t}(t),r=function(e){function t(){this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}return o(t,e),t}(t),e.exports={VASTCreativeLinear:n,VASTCreativeNonLinear:i,VASTCreativeCompanion:r}}).call(this)},function(e,t){(function(){var t;t=function(){function e(){}return e.track=function(e,t){var r,n,i,a,o,s;for(n=this.resolveURLTemplates(e,t),s=[],a=0,o=n.length;a<o;a++)r=n[a],"undefined"!=typeof window&&null!==window&&(i=new Image,s.push(i.src=r));return s},e.resolveURLTemplates=function(e,t){var r,n,i,a,o,s,l,d,u;n=[],null==t&&(t={}),"CACHEBUSTING"in t||(t.CACHEBUSTING=Math.round(1e10*Math.random())),t.random=t.CACHEBUSTING;for(d=0,u=e.length;d<u;d++)if(r=e[d],s=r){for(i in t)l=t[i],a="["+i+"]",o="%%"+i+"%%",s=s.replace(a,l),s=s.replace(o,l);n.push(s)}return n},e.storage=function(){var e,t,r,n;try{r="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){n=e,r=null}return t=function(e){var t,r;try{if(r="__VASTUtil__",e.setItem(r,r),e.getItem(r)!==r)return!0}catch(e){return t=e,!0}return!1},(null==r||t(r))&&(e={},r={length:0,getItem:function(t){return e[t]},setItem:function(t,r){e[t]=r,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),r}(),e}(),e.exports=t}).call(this)},function(e,t,r){var n;(function(e,i,a){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function o(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function l(e){X=e}function d(e){ee=e}function u(){return function(){e.nextTick(g)}}function c(){return function(){Q(g)}}function p(){var e=0,t=new ne(g),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=g,function(){e.port2.postMessage(0)}}function f(){return function(){setTimeout(g,1)}}function g(){for(var e=0;e<Z;e+=2){var t=oe[e],r=oe[e+1];t(r),oe[e]=void 0,oe[e+1]=void 0}Z=0}function v(){try{var e=r(102);return Q=e.runOnLoop||e.runOnContext,c()}catch(e){return f()}}function m(e,t){var r=this,n=new this.constructor(b);void 0===n[de]&&U(n);var i=r._state;if(i){var a=arguments[i-1];ee(function(){O(i,n,a,r._result)})}else P(r,n,e,t);return n}function y(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(b);return x(r,e),r}function b(){}function E(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function A(e){try{return e.then}catch(e){return he.error=e,he}}function T(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function S(e,t,r){ee(function(e){var n=!1,i=T(r,t,function(r){n||(n=!0,t!==r?x(e,r):D(e,r))},function(t){n||(n=!0,R(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&i&&(n=!0,R(e,i))},e)}function _(e,t){t._state===ce?D(e,t._result):t._state===pe?R(e,t._result):P(t,void 0,function(t){x(e,t)},function(t){R(e,t)})}function L(e,t,r){t.constructor===e.constructor&&r===se&&constructor.resolve===le?_(e,t):r===he?R(e,he.error):void 0===r?D(e,t):s(r)?S(e,t,r):D(e,t)}function x(e,t){e===t?R(e,E()):o(t)?L(e,t,A(t)):D(e,t)}function I(e){e._onerror&&e._onerror(e._result),C(e)}function D(e,t){e._state===ue&&(e._result=t,e._state=ce,0!==e._subscribers.length&&ee(C,e))}function R(e,t){e._state===ue&&(e._state=pe,e._result=t,ee(I,e))}function P(e,t,r,n){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+ce]=r,i[a+pe]=n,0===a&&e._state&&ee(C,e)}function C(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,i,a=e._result,o=0;o<t.length;o+=3)n=t[o],i=t[o+r],n?O(r,n,i,a):i(a);e._subscribers.length=0}}function V(){this.error=null}function k(e,t){try{return e(t)}catch(e){return fe.error=e,fe}}function O(e,t,r,n){var i,a,o,l,d=s(r);if(d){if(i=k(r,n),i===fe?(l=!0,a=i.error,i=null):o=!0,t===i)return void R(t,w())}else i=n,o=!0;t._state!==ue||(d&&o?x(t,i):l?R(t,a):e===ce?D(t,i):e===pe&&R(t,i))}function N(e,t){try{t(function(t){x(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}function j(){return ge++}function U(e){e[de]=ge++,e._state=void 0,e._result=void 0,e._subscribers=[]}function M(e){return new Ee(this,e).promise}function F(e){var t=this;return new t(K(e)?function(r,n){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(r,n)}:function(e,t){t(new TypeError("You must pass an array to race."))})}function B(e){var t=this,r=new t(b);return R(r,e),r}function H(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function J(e){this[de]=j(),this._result=this._state=void 0,this._subscribers=[],b!==e&&("function"!=typeof e&&H(),this instanceof J?N(this,e):q())}function z(e,t){this._instanceConstructor=e,this.promise=new e(b),this.promise[de]||U(this.promise),K(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&D(this.promise,this._result))):R(this.promise,W())}function W(){return new Error("Array Methods must be provided an Array")}function Y(){var e;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=be)}var G;G=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Q,X,$,K=G,Z=0,ee=function(e,t){oe[Z]=e,oe[Z+1]=t,Z+=2,2===Z&&(X?X(g):$())},te="undefined"!=typeof window?window:void 0,re=te||{},ne=re.MutationObserver||re.WebKitMutationObserver,ie="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ae="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,oe=new Array(1e3);$=ie?u():ne?p():ae?h():void 0===te?v():f();var se=m,le=y,de=Math.random().toString(36).substring(16),ue=void 0,ce=1,pe=2,he=new V,fe=new V,ge=0,ve=M,me=F,ye=B,be=J;J.all=ve,J.race=me,J.resolve=le,J.reject=ye,J._setScheduler=l,J._setAsap=d,J._asap=ee,J.prototype={constructor:J,then:se,catch:function(e){return this.then(null,e)}};var Ee=z;z.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===ue&&r<e;r++)this._eachEntry(t[r],r)},z.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===le){var i=A(e);if(i===se&&e._state!==ue)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===be){var a=new r(b);L(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new r(function(t){t(e)}),t)}else this._willSettleAt(n(e),t)},z.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===ue&&(this._remaining--,e===pe?R(n,r):this._result[t]=r),0===this._remaining&&D(n,this._result)},z.prototype._willSettleAt=function(e,t){var r=this;P(e,void 0,function(e){r._settledAt(ce,t,e)},function(e){r._settledAt(pe,t,e)})};var we=Y,Ae={Promise:be,polyfill:we};r(76).amd?(n=function(){return Ae}.call(t,r,t,a),!(void 0!==n&&(a.exports=n))):"undefined"!=typeof a&&a.exports?a.exports=Ae:"undefined"!=typeof this&&(this.ES6Promise=Ae),we()}).call(this)}).call(t,r(16),function(){return this}(),r(46)(e))},function(e,t,r){var n;!function(i){function a(){this._events={},this._conf&&o.call(this,this._conf)}function o(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function s(e){this._events={},this.newListener=!1,o.call(this,e)}function l(e,t,r,n){if(!r)return[];var i,a,o,s,d,u,c,p=[],h=t.length,f=t[n],g=t[n+1];if(n===h&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(i=0,a=r._listeners.length;i<a;i++)e&&e.push(r._listeners[i]);return[r]}if("*"===f||"**"===f||r[f]){if("*"===f){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(p=p.concat(l(e,t,r[o],n+1)));return p}if("**"===f){c=n+1===h||n+2===h&&"*"===g,c&&r._listeners&&(p=p.concat(l(e,t,r,h)));for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!c&&(p=p.concat(l(e,t,r[o],h))),p=p.concat(l(e,t,r[o],n))):p=o===g?p.concat(l(e,t,r[o],n+2)):p.concat(l(e,t,r[o],n)));return p}p=p.concat(l(e,t,r[f],n+1))}if(s=r["*"],s&&l(e,t,s,n+1),d=r["**"])if(n<h){d._listeners&&l(e,t,d,h);for(o in d)"_listeners"!==o&&d.hasOwnProperty(o)&&(o===g?l(e,t,d[o],n+2):o===f?l(e,t,d[o],n+1):(u={},u[o]=d[o],l(e,t,{"**":u},n+1)))}else d._listeners?l(e,t,d,h):d["*"]&&d["*"]._listeners&&l(e,t,d["*"],h);return p}function d(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var r=0,n=e.length;r+1<n;r++)if("**"===e[r]&&"**"===e[r+1])return;for(var i=this.listenerTree,a=e.shift();a;){if(i[a]||(i[a]={}),i=i[a],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(u(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var o=c;"undefined"!=typeof this._events.maxListeners&&(o=this._events.maxListeners),o>0&&i._listeners.length>o&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace&&console.trace())}}else i._listeners=t;return!0}a=e.shift()}return!0}var u=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=10;s.EventEmitter2=s,s.prototype.delimiter=".",s.prototype.setMaxListeners=function(e){this._events||a.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},s.prototype.event="",s.prototype.once=function(e,t){return this.many(e,1,t),this},s.prototype.many=function(e,t,r){function n(){0===--t&&i.off(e,n),r.apply(this,arguments)}var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");return n._origin=r,this.on(e,n),i},s.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,r,n,i,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this,e);break;case 2:o[n].call(this,e,arguments[1]);break;case 3:o[n].call(this,e,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}}if(this.wildcard){o=[];var d="string"==typeof e?e.split(this.delimiter):e.slice();l.call(this,o,d,this.listenerTree,0)}else{if(o=this._events[e],"function"==typeof o){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},s.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,o,s=[],d=arguments.length;if(this._all){if(d>3)for(t=new Array(d),i=1;i<d;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,d){case 1:s.push(this._all[n].call(this,e));break;case 2:s.push(this._all[n].call(this,e,arguments[1]));break;case 3:s.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,t))}}if(this.wildcard){o=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();l.call(this,o,u,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,d){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(d-1),i=1;i<d;i++)t[i-1]=arguments[i];s.push(o.apply(this,t))}else if(o&&o.length){if(d>3)for(t=new Array(d-1),i=1;i<d;i++)t[i-1]=arguments[i];for(n=0,r=o.length;n<r;n++)switch(this.event=e,d){case 1:s.push(o[n].call(this));break;case 2:s.push(o[n].call(this,arguments[1]));break;case 3:s.push(o[n].call(this,arguments[1],arguments[2]));break;default:s.push(o[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},s.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||a.call(this),this.emit("newListener",e,t),this.wildcard)return d.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(u(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var r=c;"undefined"!=typeof this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},s.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},s.prototype.addListener=s.prototype.on,s.prototype.off=function(e,t){function r(e){if(e!==i){var t=Object.keys(e);for(var n in t){var a=t[n],o=e[a];o instanceof Function||"object"!=typeof o||(Object.keys(o).length>0&&r(e[a]),0===Object.keys(o).length&&delete e[a])}}}if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,a=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();a=l.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],a.push({_listeners:n})}for(var s=0;s<a.length;s++){var d=a[s];if(n=d._listeners,u(n)){for(var c=-1,p=0,h=n.length;p<h;p++)if(n[p]===t||n[p].listener&&n[p].listener===t||n[p]._origin&&n[p]._origin===t){c=p;break}if(c<0)continue;return this.wildcard?d._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete d._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete d._listeners:delete this._events[e],this.emit("removeListener",e,t))}return r(this.listenerTree),this},s.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(t=this._all,r=0,n=t.length;r<n;r++)if(e===t[r])return t.splice(r,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||a.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),r=l.call(this,null,t,this.listenerTree,0),n=0;n<r.length;n++){var i=r[n];i._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},s.prototype.listeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return l.call(this,t,r,this.listenerTree,0),t}return this._events||a.call(this),this._events[e]||(this._events[e]=[]),u(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},s.prototype.listenersAny=function(){return this._all?this._all:[]},n=function(){return s}.call(t,r,t,e),!(n!==i&&(e.exports=n))}()},function(e,t,r){"use strict";function n(e,t){t.adStartCount++,t.adStartCount>1&&h.vastError(e,t.vastId,61,"double adstart: "+t.adStartCount,!1,t),"vpaid"==e.mode&&g.callingVpaidEvent(e,"jsAdStarted",{}),(e.viewableOnStart||t.viewableOnStart)&&m.showAdvertising(e,t)}function i(e,t){var r=0,n=0,i="";try{for(var a=0,o=e.plist.length;a<o;a++){var s=e.plist[a];if(i+=s.vastId,"flvpaid"==s.adType&&s.flashInterface)try{var l=s.flashInterface.call("getMem");if(!isNaN(l)){s==t&&(r=l),n+=parseFloat(l),i+=" - "+l+", ";break}i+=" - NaN, "}catch(e){i+=" - exception: "+e.message+", "}else i+="flvpaid"!=s.adType?" - not flash, ":s.flashElement?" - unknown reason, ":" - no flash element, "}}catch(e){i="exception: "+e.message}c.debugLog(e,"memory check: "+i,!1);var d=((new Date).getTime()-t.startAdTime)/1e3;f.logVastEvent(e,p.CEDATO_EVENT.E_ADSTART,t,{time:d.toFixed(1),roundNo:t.roundNo,gpvOrdNo:t.originalUniqId,retryTestGroup:e.retryTestGroup,memUsed:r,totalMemS:n,vastType:f.reportingVastType(t),gpvCookie:e.gpvCookie})}function a(e,t){try{t.sameVastIdLoader=null,c.debugLogVast(e,t,"same vastId loader",!1);var r=y.duplicatePlayerData(e,t);e.plist.push(r),m.postPreparePlayerData(e,r),h.allocateAndFetchPlayerVast(e,r)}catch(r){h.vastError(e,t.vastId,3,"svi gave JS exception: ",r,t)}}function o(e,t){if(c.debugLogVast(e,t,"adImpression called",!1),m.showAdvertising(e,t),e.anyAdPlayed||(e.anyAdPlayed=!0,p.logEvent(e,p.CEDATO_EVENT.E_ADPLAYED,{},{gpvOrdNo:t.originalUniqId}),e.startTime>(new Date).getTime()&&c.submitFullDebugLog(e,{debugLogReason:"negative adplayed"})),f.isCedatox(t)&&p.logEvent(e,p.CEDATO_EVENT.E_ADPLAYED,{},{playerId:t.playerId}),null!=t.gotLastAdImpressionOn&&(new Date).getTime()-t.gotLastAdImpressionOn<3e3)return c.debugLogVast(e,t,"second ad impression too soon - ignoring",!1),!0;if(e.submitDebugLogForVastId!=t.vastId||t.keepDebugLog||c.submitFullDebugLog(e,{keepDebugLog:!0}),w.logImpression(e,t.adType),t.skipVastTracker||null!=t.vastTracker){if(e.parallelStartAd&&e.anyPlaying&&t.state!=u.PlayerDataState.Playing&&t.state!=u.PlayerDataState.Finishing)return h.vastError(e,t.vastId,64,"stopped due to parallel double started",!1,t),v.stopPlayer(e,t),t.state=u.PlayerDataState.Error,e.frozen||h.requeryPlayerVast(e,t),!1;if(t.state=u.PlayerDataState.Playing,t.gotLastAdImpressionOn=(new Date).getTime(),e.parallelStartAd){e.anyPlaying=!0,"vpaid"===e.mode&&(e.autoplay=!1),c.debugLog(e,"parallel startAd mode - stopping any other opened startAd",!1),f.logVastRequest(e,t);for(var r=0,n=e.plist.length;r<n;r++){var o=e.plist[r];o.vastId!=t.vastId&&o.state==u.PlayerDataState.Started&&(c.debugLog(e,"parallel startAd mode - stopping - vastId "+t.vastId+" started playing",!1),h.vastError(e,o.vastId,63,"stopped due to parallel started",!1,o),o.state=u.PlayerDataState.Error,v.stopPlayer(e,o),m.hidePlayerData(e,o),h.requeryPlayerVast(e,o))}c.debugLog(e,"parallel startAd mode - stopping any other opened startAd - done",!1)}i(e,t),t.capType==l.CAP_TYPE.AD_START&&(t.allocatedQuota-=1),v.notifyApi(e,t,"adstart"),d.triggerBeacon(e,t,"adstart"),t.adImpressionCount++,t.adImpressionCount>1?(h.vastError(e,t.vastId,61,"double impression: "+t.adImpressionCount,!1,t),f.logVastRequest(e,t)):t.skipVastTracker||t.vastTracker.load(),"vpaid"==e.mode&&(c.debugLogVast(e,t,"has calling VPAID object - calling events",!1),g.callingVpaidEvent(e,"jsAdImpression",{})),e.curAdStarts++,e.maxAdStarts&&e.curAdStarts>=e.maxAdStarts&&(c.debugLogVast(e,t,"reached maximum number of allowed ad starts, freezing",!1),v.freezePlayers(e,{uniqId:t.uniqId})),null!=t.sameVastIdLoader&&(clearTimeout(t.sameVastIdLoader),t.sameVastIdLoader=null),!e.frozen&&e.currentGroup>0&&(t.sameVastIdLoader=setTimeout(function(){return a(e,t)},1e4)),null!=t.longImpressionStopper&&(clearTimeout(t.longImpressionStopper),t.longImpressionStopper=null),e.allowLongImpressions||t.isPaused||(t.longImpressionStopper=setTimeout(function(){return s(e,t)},7e4))}else c.debugLogVast(e,t,"no vast tracker",!1),h.requeryPlayerVast(e,t);return!0}function s(e,t){try{h.vastError(e,t.vastId,62,"long impression",!1,t),t.longImpressionStopper=null,t.vpaidPlaying=0,t.state=u.PlayerDataState.Error,e.anyPlaying=b.anyOtherPlaying(e,t.vastId),e.anyPlaying||E.showRotator(e),l.terminateVastAndContinue(e,t)}catch(r){h.vastError(e,t.vastId,3,"sas gave JS exception: ",r,t)}}var l=r(5),d=r(23),u=r(7),c=r(1),p=r(3),h=r(5),f=r(12),g=r(10),v=r(11),m=r(6),y=r(34),b=r(8),E=r(9),w=r(18);t.adStarted=n,t.adImpression=o,t.abortLongImpression=s},function(e,t,r){"use strict";var n=r(30),i=r(29),a=function(){function e(e){var t=this;this.commId=e,this.eventEmitter=new n.EventEmitter2({wildcard:!0,maxListeners:20}),this.ready=function(){return t.readyPromise}}return e.prototype.swfParams=function(){return"&commId="+this.commId+"&bridge="+e.bridgeName},e.prototype.reverseConnect=function(t,r){this.swfInstance=t,this.swfFunc=r,e.swfs[this.commId]=this},e.prototype.handshake=function(t,r){var n=this;return this.swfInstance=t,e.swfs[this.commId]=this,this.readyPromise=new i.Promise(function(e,t){n.emitter().once("handshake",function(t){var r=t.swfFunc;n.swfFunc=r,clearTimeout(n.readyWatingTimeout),e(n)}),n.readyWatingTimeout=setTimeout(function(){return t("Timeout")},r||15e3)})},e.prototype.call=function(e,t){if(null!=t&&"object"!=typeof t&&(t={uniqId:t}),this.swfInstance&&this.swfFunc&&this.swfInstance[this.swfFunc])return this.swfInstance[this.swfFunc](e,t)},e.prototype.emitter=function(){return this.eventEmitter},e.Bridge=function(t,r,n){var i=e.swfs[t];i&&i instanceof e&&i.emitter().emit(r,n)},e.globalInit=function(t){var r=t||1e5*Math.random()|0;e.bridgeName=e.BridgeName+r,window[e.bridgeName]=e.Bridge},e.swfs={},e.BridgeName="CEDATO_FLASHBRIDGE",e.bridgeName="",e}();t.FlashInterface=a},function(e,t,r){"use strict";function n(e){e.flashSupport&&(e.vpwVersion=2,e.vpwURL=e.conf.flName+"?v=")}function i(e,t){if(e.singleVPW&&!e.flashElement&&e.callingFlashObject&&(e.flashElement=e.callingFlashObject,e.flashInterface=e.callingFlashInterface,f.debugLog(e,"using calling flash object as vpw",!1)),e.singleVPW&&e.flashInterface&&(f.debugLogVast(e,t,"single vpw, using player vpw",!1),t.flashElement=e.flashElement,t.flashInterface=e.flashInterface,t.vpwLoaded=2),!t.flashInterface){var r=t.vastId+"-"+Math.floor(1000001*Math.random()),n=document.createElement("div");n.id=r,t.flashElementDiv.appendChild(n);var i="vpwid"+Math.floor(1000001*Math.random()),a=i,s=new b.FlashInterface(r),l={data:e.vpwURL+e.vpwVersion,width:e.widthOverwrite||e.width,height:e.heightOverwrite||e.height,name:a},d={flashvars:"?"+s.swfParams(),allowScriptAccess:"always",wmode:"opaque"};f.debugLogVast(e,t,"vpw url: "+l.data,!1),t.flashElement=e.SwfObject.createSWF(l,d,r),t.flashInterface=s,e.singleVPW&&(e.flashElement=t.flashElement,e.flashInterface=t.flashInterface),s.handshake(t.flashElement,3e4).then(function(){c(e,s)},function(){return f.debugLogVast(e,t,"flash load/handshake failed",!1)}),t.vpwLoaded=0}t.flashInterface.ready().then(function(){return o(e,t)},function(){return f.debugLogVast(e,t,"flash load failed",!1)})}function a(e,t){if(t.mediaURL.indexOf("streamrail")>=0)return t.state=h.PlayerDataState.Error,void(t.errorCount=1e3);e.urlReplacer&&e.urlReplacer.vastId==t.vastId&&t.mediaURL.indexOf(e.urlReplacer.searchFor)!=-1&&(t.mediaURL=e.urlReplacer.replaceWith+t.mediaURL.substr(t.mediaURL.indexOf("?"))),f.debugLogVast(e,t,"initMediaLoad, flash loadAd with url "+t.mediaURL,!1);try{t.mediaURL.indexOf("[[IMPORT]]")!==-1&&(t.mediaURL=t.mediaURL.replace("[[IMPORT]]",e.protocol+"/")),t.flashInterface.call("vpwLoadAd",{uniqId:t.uniqId,mediaURL:t.mediaURL,isIMA:t.isIMA,allowSound:e.allowSound,width:e.widthOverwrite||e.width,height:e.heightOverwrite||e.height})}catch(r){return t.state=h.PlayerDataState.Fetched,t.errorCount++,v.vastError(e,t.vastId,5,"vpwLoadAd exception - initMediaLoad: "+r.message,!1,t),void v.vpwException(e,t,"initMediaLoad")}}function o(e,t){if(f.debugLogVast(e,t,"flash loaded triggered,",!1),t.state==h.PlayerDataState.Fetched&&setTimeout(function(){f.debugLogVast(e,t,"has schedule media load - calling now",!1),E.initMediaLoad(e,t)},0),t.vpwLoaded=2,e.anyVPWLoaded<1&&(e.anyVPWLoaded=1,e.reportVPWLoaded)){var r=((new Date).getTime()-e.startTime)/1e3;e.firstVPWInitTime=(new Date).getTime(),f.debugLog(e,"vpws - reporting state 1",!1),m.logVastEvent(e,m.CEDATO_EVENT.E_VPWS,t,{time:r.toFixed(1),state:1})}}function s(e,t){if(e.singleVPW)e.flashElementDiv||(e.flashElementDiv=document.createElement("div"),e.flashElementDiv.style.position="absolute",e.flashElementDiv.style.top="-1000px",e.flashElementDiv.style.zIndex="1",e.divElem.appendChild(e.flashElementDiv)),t.flashElementDiv=e.flashElementDiv;else{t.flashElementDiv=document.createElement("div"),t.flashElementDiv.style.position="absolute";try{t.flashElementDiv.style.top="-1000px"}catch(e){}t.flashElementDiv.style.zIndex="1",e.divElem.appendChild(t.flashElementDiv)}i(e,t),null===t.flashElement&&g.playerError(e,4,"failed to create flash element")}function l(e,t){if(t.flashElement)try{e.SwfObject.removeSWF(t.flashElement.id)}catch(e){}if(t.flashElementDiv)try{t.flashElementDiv.parentNode.removeChild(t.flashElementDiv),t.flashElementDiv.innerHTML="",t.flashElementDiv=null}catch(t){f.debugLog(e,"removeFunc gave exception: "+t.message,!1)}}function d(e,t){if(!e.singleVPW&&t.flashElementDiv&&(t.flashElementDiv.style.zIndex="0"),t.flashInterface)try{f.debugLogVast(e,t,"clearAd called (destroyPlayerDataFlash)",!1),t.flashInterface.call("clearAd",t.uniqId)}catch(t){f.debugLog(e,"clearAd gave exception: "+t.message,!1)}if(!e.singleVPW){var r=t.state<h.PlayerDataState.Ready?1e3:1e4;setTimeout(function(){return l(e,t)},r)}}function u(e,t,r){var n=v.getPlayerDataByUniq(e,t);return n||f.debugLog(e,"got "+r+" callback for a gone uniq",!1),n}function c(e,t){var r={success:y.LoadedFunc,failure:y.FailureHandler,ad_loaded:y.AdLoadedHandler,ad_started:y.AdStartedHandler,ad_stopped:y.AdStoppedHandler,ad_impression:y.AdImpressionHandler,ad_video_start:y.AdVideoStartHandler,ad_first_quartile:y.AdFirstQuartileHandler,ad_midpoint:y.AdMidpointHandler,ad_third_quartile:y.AdThirdQuartileHandler,ad_complete:y.AdCompleteHandler,ad_paused:y.AdPausedHandler,ad_playing:y.AdPlayingHandler,ad_volume_change:y.AdVolumeChangeHandler,ad_size_change:y.AdSizeChangeHandler,ad_clickthrough:y.AdClickthruHandler,ad_error:y.AdErrorHandler,ad_skipped:y.AdSkippedHandler,ad_duration_change:y.AdDurationChangeHandler,ad_remaining_time_change:y.AdRemainingTimeChangeHandler,ad_skippable_state_change:y.AdSkippableStateChangeHandler,ad_linear_change:y.AdLinearChangeHandler,ad_expanded_change:y.AdExpandedChangeHandler,ad_interaction:y.AdInteractionHandler,ad_user_accept_invitation:y.AdUserAcceptInvitationHandler,ad_user_minimize:y.AdUserMinimizeHandler,ad_user_close:y.AdUserCloseHandler,ad_log:y.AdLogHandler};t.emitter().on("*",function(t){var n=this.event,i=r[n];i&&setTimeout(function(){try{var r=u(e,t.uniqId,n);r&&i(e,r,t)}catch(t){v.vastError(e,r.vastId,3,"flash "+n+"callback gave JS exception: ",t,r)}},0)}),t.emitter().on("failure",function(t){setTimeout(function(){try{var r=u(e,t.uniqId,"failure");if(!r)return;var n=r.vastId,i=t.errorCode,a=t.errorMessage;f.debugLogVast(e,r,"got flash failure callback, errorCode: "+i+", errorMessage: "+a,!1),r.state=h.PlayerDataState.Error,r.errorCount=r.errorCount+1,a.indexOf("#2035")!=-1&&(i=2035,a="URL not found"),a.indexOf("#2036")!=-1&&(i=2036,a="Load not completed"),v.vastError(e,n,i,"flash failure called: "+a,!1,r,!1,!0),v.requeryPlayerVast(e,r)}catch(t){v.vastError(e,r.vastId,3,"flash failure callback gave JS exception: ",t,r)}},0)}),t.emitter().on("ad_set_companions",function(t){setTimeout(function(){try{var r=u(e,t.uniqId,"ad_set_companions");if(!r)return;f.debugLogVast(e,r,"got flash set companions HTML callback",!1),r.companionHTML=t.companionHTML,r.companionHTML&&r.companionsElementDiv&&(r.companionsElementDiv.innerHTML=r.companionHTML)}catch(t){v.vastError(e,r.vastId,3,"flash ad_set_companions callback gave JS exception: ",t,r)}},0)})}var p=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},h=r(7),f=r(1),g=r(3),v=r(5),m=r(12),y=r(24),b=r(32),E=r(6),w=r(15),A=r(35);t.preparePreVPW=n,t.loadFlashVpaid=a,t.postPreparePlayerDataFlash=s,t.destroyPlayerDataFlash=d,t.subscribeFlashEvents=c;var T=function(e){function t(){e.apply(this,arguments)}return p(t,e),t.prototype.initMedia=function(){a(this.players,this)},t.prototype.initAd=function(){"string"!=typeof this.adParameters&&(this.adParameters="");var e=this.flashInterface.call("vpwInitAd",{uniqId:this.uniqId,adParameters:this.adParameters});if("1"!=e)return this.getError()},t.prototype.startAd=function(){this.players.callingFlashObject&&(this.players.divElem.style.display="none"),this.flashElementDiv.style.zIndex="9999",this.flashElementDiv.style.position="relative",this.flashElementDiv.style.left="0px",this.flashElementDiv.style.top="0px",this.players.rootDivElem.style.top="0px",this.vpaidPlaying=1;var e;return this.flashInterface&&(e=this.flashInterface.call("vpwStartAd",{uniqId:this.uniqId,allowSound:this.players.allowSound,width:this.players.widthOverwrite||this.players.width,height:this.players.heightOverwrite||this.players.height})),"1"!=e?(A.handleErrorState(this.players,this),this.getError()):(this.sureFastStart=this.expectedSureFastStart,A.initStartAdHalfStopper(this.players,this),A.initStartAdStopper(this.players,this),!1)},t.prototype.getError=function(){try{return this.flashInterface.call("getLastError",this.uniqId)}catch(e){return"getLastError gave exception: "+e.message}},t.prototype.pauseAd=function(){this.flashInterface&&this.flashInterface.call("vpwPauseAd",this.uniqId)},t.prototype.resumeAd=function(){this.flashInterface&&this.flashInterface.call("vpwResumeAd",this.uniqId)},t.prototype.stopAd=function(){this.flashInterface&&this.flashInterface.call("vpwStopAd",this.uniqId)},t.prototype.showAd=function(){this.players.singleVPW||(this.flashElementDiv.style.zIndex="10000",this.flashElementDiv.style.position="absolute",this.flashElementDiv.style.left="0px")},t.prototype.hideAd=function(){this.flashElementDiv&&!this.players.singleVPW&&(this.flashElementDiv.style.zIndex=(-1-this.uniqId).toString())},t.prototype.clearAd=function(){d(this.players,this)},t.prototype.resizeAd=function(e,t,r){this.flashInterface&&this.flashInterface.call("vpwResizeAd",{uniqId:this.uniqId,width:e,height:t,viewMode:r})},t.prototype.setAdVolume=function(e){this.flashInterface&&this.flashInterface.call("vpwVolume",{uniqId:this.uniqId,volume:e})},t}(w.PlayerData);t.PlayerDataVpaidFlash=T},function(e,t,r){"use strict";function n(e,t){return g.debugLog(e,"initializing player for vastId "+t.id+", group: "+t.group+", url: "+t.url,!1),new E.PlayerData(e,t)}function i(e,t){g.debugLogVast(e,t,"duplicating player data",!1);var r=[];r.id=t.vastId,r.url=t.vastURL,r.group=t.group,r.lsa=t.longStartAd,r.pid=t.playerId,r.mvr=t.maxFailedVastRetries,r.vt=t.vastPreferType,r.ct=t.corsType,r.cxvid=t.cxvid,r.cxpid=t.cxpid,r.aq=t.allocatedQuota,r.capt=t.capType,r.vos=t.viewableOnStart;var i=n(e,r);return i.customVars=t.customVars,i.beacons=t.beacons,i.originalUniqId=t.originalUniqId,i.duplicatedNow=!0,i}function a(e,t){if("c"!=t.id)return null;var r={};if("d"==t.c)return{deleteAll:!0};if(t.tpt&&(e.thirdPartyTimeout=+t.tpt),e.vastWaitFactor=1,t.vwf&&(e.vastWaitFactor=+t.vwf),e.totalVastRetries=0,e.maxTotalVastRetries=0,t.tvr&&(e.maxTotalVastRetries=+t.tvr),e.maxFailedVastRetries=0,t.mvr&&(e.maxFailedVastRetries=+t.mvr),t.mas&&(e.maxAdStarts=+t.mas),t.rtg&&(e.retryTestGroup=+t.rtg),t.scb&&(e.closeButton=!!t.scb),t.ssb&&(e.skipButton=!!t.ssb),t.sc&&(e.allowSound=t.sc),t.lc&&(e.noContentLoop=!t.lc),t.paf&&(e.adsAfterContent=t.paf,e.adsAfterContent&&(e.autoplayOverwrite||(e.autoplay=!1))),t.sdlr?e.debugLogReason=t.sdlr:e.debugLogReason="gpv","1"==t.sdl&&(g.debugLog(e,"gpv turned sdl on",!1),g.submitDebugLogBuffer(e),e.keepDebugLog=!0),"1"==t.lvr&&(e.logVastResponse=!0),"1"==t.sdlpe&&(e.submitDebugLogOnPlayerError=!0),"1"==t.sdlve&&(e.submitDebugLogOnVastError=!0),t.vd&&(e.submitDebugLogForVastId=+t.vd),t.ni&&(e.networkId=+t.ni),e.autoplayOverwrite?e.mainAutoplay=e.autoplay:t.ap===!1?(e.autoplay=!1,e.mainAutoplay=!1,e.usejsv=!1):(e.autoplay=!0,e.mainAutoplay=!0),t.rvu&&(e.urlReplacer=[],e.urlReplacer.vastId=t.rvu.v,e.urlReplacer.searchFor=t.rvu.s,e.urlReplacer.replaceWith=t.rvu.r,e.vpwURL&&(e.vpwURL=e.vpwURL.replace("v=","edl=2&v="))),void 0!==t.vos&&(e.viewableOnStart=!!t.vos),void 0!==t.ruv&&(e.reuseVPW=!!t.ruv),t.ho&&1==t.ho&&(e.flashSupport=!1),t.as?e.allowSound=t.as:e.allowSound=!1,t.co?e.controlBar=t.co:e.controlBar=!1,t.callbacks&&(e.beacons=t.callbacks),t.cvars&&(e.customVars=t.cvars),t.content){var n=t.content;e.content={url:n.url,loader_image_url:n.loader_image_url,
type:n.type,loop:!!(1*n.cl),click:n.click,playFull:!!(1*n.cpf),wait:n.wait,controlBar:null!=n.co?n.co:e.controlBar,autoplay:null!=n.ap?n.ap:e.autoplay},e.content.playFull&&!e.autoplayOverwrite&&(e.autoplay=!1)}else e.content={url:"",loader_image_url:"",type:0,loop:!0,click:"",playFull:!1,autoplay:e.autoplay},e.skipButton=!1;t.is&&(r.injectScript=t.is),void 0!==t.gpvck&&(e.gpvCookie=t.gpvck);for(var i=0,a=e.initOverrides.length;i<a;i++){var o=e.initOverrides[i].name,s=e.initOverrides[i].value;switch(o){case"autoplay":e.autoplay=!!s,e.content.autoplay=!!s;break;case"contentUrl":e.content.type=1,e.content.url=s;break;case"contentClickUrl":e.content.click=s;break;case"rotate":e.maxAdStarts=1*s;break;case"allowSound":case"skipButton":e[o]=!!s}if(e.isDebugVersion)switch(o){case"callbacks":e.beacons=s;break;case"customVars":case"content":h.extend(e[o],s)}}return e.initOverrides=[],e.gpvConfLoaded=!0,r}function o(e){setTimeout(function(){e.autoplay===!0&&s(e)},e.requeryInterval)}function s(e){var t=(new Date).getTime(),r="";e.domainDetected!==e.domain&&(r=encodeURIComponent(e.domainDetected));var n={p:e.playerIds.join(","),cb:t,d:encodeURIComponent(e.domain),sid:e.subid,pv:e.playerVersion,w:e.width,h:e.height,f:e.flashSupport?"1":"0",dd:r,vs:e.hasVideoSupport?"1":"0",sa:e.detect,av:void 0,extra:e.gpvExtraParams};if(e.plist.length){var i=[];i=[];for(var a=0,s=e.plist.length;a<s;a++)i.indexOf(e.plist[a].vastId)===-1&&i.push(e.plist[a].vastId);n.av=i.join(",")}var d;e.gpvUrl?(d=e.gpvUrl,n.av&&(d+="&av="+n.av)):d=f.buildUrl(e.serverHost()+"/player/gpv?",n);try{l(e,{url:d,onSuccess:function(e,t){u(e,t),o(e)}})}catch(t){v.playerError(e,3,"init stage getPlayerVast gave JS exception: "+t.message,t)}}function l(e,t){function r(){s>0&&(s--,setTimeout(function(){l(e,{url:i,onSuccess:o})},e.retryInterval))}var n=t.url,i=void 0===n?"":n,a=t.onSuccess,o=void 0===a?function(e,t){}:a,s=2;g.debugLog(e,"gpv url: "+i,!1),e.gpvAttempt++,p.requestWithJSONP(i).then(function(t){t?o(e,t):r()}).catch(r)}function d(e,t){if(t&&(t.onloadGPV||t.gpvData))if(t.gpvData)setTimeout(function(){u(e,t.gpvData)},0),o(e);else{var r=setTimeout(function(){s(e)},e.retryInterval);t.onloadGPV=function(t){clearTimeout(r),t?(u(e,t),o(e)):setTimeout(function(){s(e)},0)}}else s(e)}function u(e,t){try{e.gpvReturned=!0,e.vasts=t,g.debugLog(e,"gpv answer",!1),e.gpvTime=h.getFixedAgoTime(e.startTime),g.debugLog(e,t,!0),g.debugLog(e,"initializing players",!1),e.urlReplacer=null,t.fs&&(t=t.fs[e.flashSupport?1:0]);for(var r=!1,i=!1,o=[],s=0,l=t.length;s<l;s++){var d=t[s],u=a(e,d);if(u){if(u.deleteAll&&(r=!0,b.destroyAllPlayerDatas(e,!1),A.showRotator(e)),u.injectScript){var p=f.fixURLPrm(e.protocol,u.injectScript),E=(new Date).getTime().toString(),S="";p=p.replace(/\[CB\]/g,E).replace(/\[DIVID\]/g,e.divId),e.callingFlashObject&&e.callingFlashObject.id&&(S=e.callingFlashObject.id),p=p.replace(/\[FLASHID\]/g,S),c(p),g.debugLog(e,"gpv requested script: "+p,!1)}}else if("d"==d.c){for(var _=[],L=0,x=e.plist.length;L<x;L++)e.plist[L].vastId==d.id&&_.push(e.plist[L]);e.anyPlaying=_.length>0||e.anyPlaying;for(var L=0,x=_.length;L<x;L++)b.destroyPlayerData(e,_[L]),e.anyPlaying=e.anyPlaying&&w.anyOtherPlaying(e,_[L]);r=!0,i=i||_.length>0}else{var I=n(e,d);o.push(I)}}g.debugLog(e,"adding remaining vasts from gpv",!1),y.addRemainingVasts(e,o),r?i&&w.playNextVasts(e):T.playerDomLoaded(e),m.triggerBeacon(e,null,"ready")}catch(t){v.playerError(e,3,"gpv gave JS exception: "+t.message,t)}}function c(e){try{var t=document.createElement("script"),r=document.getElementsByTagName("head")[0]||document.documentElement;t.setAttribute("type","text/javascript"),t.src=e,r.appendChild(t)}catch(e){}}var p=r(26),h=r(4),f=r(2),g=r(1),v=r(3),m=r(23),y=r(5),b=r(6),E=r(15),w=r(8),A=r(9),T=r(58);t.preparePlayerData=n,t.duplicatePlayerData=i,t.gpvConfigParse=a,t.loadGPV=d,t.gpvAnswerFunc=u},function(e,t,r){"use strict";function n(e,t){if(t.durationKnown)p.debugLogVast(e,t,"playPlayer: has already known duration of: "+t.duration,!1);else if("flvpaid"==t.adType||"jsvpaid"==t.adType)t.duration=60,p.debugLogVast(e,t,"playPlayer: no known duration, setting to 60",!1);else if("video"==t.adType){t.durationKnown=!0;try{t.duration=t.videoElement.duration}catch(e){}p.debugLogVast(e,t,"playPlayer: duration taken from video element: "+t.duration,!1)}}function i(e,t){var r={clickthrough:function(e){t.adClickUrl=e},adVideoStart:null,firstQuartile:function(){f.logVastProgress(e,t,1)},midpoint:function(){f.logVastProgress(e,t,2)},thirdQuartile:function(){f.logVastProgress(e,t,3)},complete:function(){e.anyPlaying=m.anyOtherPlaying(e,t.vastId),e.anyPlaying||y.showRotator(e),f.logVastProgress(e,t,4),v.notifyApi(e,t,"adcomplete"),c.triggerBeacon(e,t,"adcomplete"),null!=t.longImpressionStopper&&(clearTimeout(t.longImpressionStopper),t.longImpressionStopper=null)},error:null};if(t.requiredTrackingEvents=["firstQuartile","midpoint","thirdQuartile","complete"],t.vtHandler=function(n,i){if(t.requiredTrackingEvents.length){var a=t.requiredTrackingEvents.indexOf(n);if(a!==-1){for(var o=0;o<a;o++)t.vtHandler(t.requiredTrackingEvents[o]);t.requiredTrackingEvents.splice(a,1)}}var s="tracker on-"+n;try{p.debugLogVast(e,t,s,!1);var l=r[n];l&&l(i)}catch(r){h.vastError(e,t.vastId,3,s+" gave JS exception: ",r,t)}},t.vastTracker){var n=function(e){r.hasOwnProperty(e)&&t.vastTracker.on(e,function(r){return t.vtHandler(e,r)})};for(var i in r)n(i);p.debugLogVast(e,t,"playPlayer: events ready",!1)}}function a(e,t){t.skipVastTracker?p.debugLogVast(e,t,"playPlayer: no need for our vastTracker",!1):(p.debugLogVast(e,t,"playPlayer: initializing vastTracker",!1),null==t.creative.trackingEvents?(t.creative.trackingEvents=[],p.debugLog(e,"added trackingEvents",!1)):p.debugLog(e,"had trackingEvents",!1),t.vastTracker=new e.DMVAST.tracker(t.ad,t.creative),p.debugLogVast(e,t,"playPlayer: vastTracker set",!1),!t.durationKnown&&t.vastTracker.duration&&t.vastTracker.duration>0&&(t.duration=t.vastTracker.duration,p.debugLogVast(e,t,"playPlayer: duration from tracker: "+t.duration,!1)),t.vastTracker.playerId=e.playerId,t.vastTracker.subid=e.subid,t.vastTracker.domain=e.domain,t.vastTracker.vastId=t.vastId,t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration),p.debugLogVast(e,t,"playPlayer: creating events",!1)),i(e,t)}function o(e,t){e.parallelStartAd&&(null!=t.startAdHalfStopper&&(clearTimeout(t.startAdHalfStopper),t.startAdHalfStopper=null),t.state==u.PlayerDataState.Started&&(t.startAdHalfStopper=setTimeout(function(){t.startAdHalfStopper=null,p.debugLogVast(e,t,"half stopper point, starting more if ready",!1),m.playNextVast(e)},7e3)))}function s(e,t){if(null!=t.startAdStopper&&(clearTimeout(t.startAdStopper),t.startAdStopper=null),t.state==u.PlayerDataState.Started){var r=6e4;t.longStartAd&&(r=7e4);var n=function(e,t){v.stopPlayer(e,t),t.startAdStopper=null,h.vastError(e,t.vastId,60,"gave up on startAd",!1,t,e.parallelStartAd),l(e,t),m.playNextVasts(e)};t.startAdStopper=setTimeout(function(){n(e,t)},r)}}function l(e,t){t.state=u.PlayerDataState.Error,t.errorCount=t.errorCount+100,h.requeryPlayerVast(e,t)}function d(e,t){if("function"==typeof e.playPlayer)return e.playPlayer(t);try{p.debugLogVast(e,t,"playPlayer",!1),p.debugLogVast(e,t,"playPlayer: hiding all another vasts",!0);for(var r=0,i=e.plist.length;r<i;r++)e.plist[r].vastId==t.vastId&&e.plist[r].uniqId==t.uniqId||e.parallelStartAd&&e.plist[r].state==u.PlayerDataState.Started||g.hidePlayerData(e,e.plist[r]);n(e,t),a(e,t),e.scheduledPixelSent||(p.debugLogVast(e,t,"playPlayer: first play - logging scheduled pixel",!1),e.scheduledPixelSent=!0,b.logEvent(e,b.CEDATO_EVENT.E_SCHEDULED,{},{})),p.debugLogVast(e,t,"playPlayer: playing media",!1),e.parallelStartAd||f.logVastRequest(e,t),t.adImpressionCount=0,t.gotLastAdImpressionOn=null,t.adStartCount=0,t.startAdTime=(new Date).getTime(),t.state=u.PlayerDataState.Started,v.notifyApi(e,t,"adstartreq"),p.debugLogVast(e,t,"startAd called",!1);var o=void 0;try{o=t.startAd()}catch(r){o=r.message,"flvpaid"===t.adType&&h.vpwException(e,t,"startAd"),p.debugLogVast(e,t," startAd gave exception on "+t.adType+" startAd: "+r.message,!1)}o?h.vastError(e,t.vastId,5,"startAd failed - "+o,!1,t,e.parallelStartAd):p.debugLogVast(e,t,"playPlayer: done",!1)}catch(r){h.vastError(e,t.vastId,3,"playPlayer issue: ",r,t)}}var u=r(7),c=r(23),p=r(1),h=r(5),f=r(12),g=r(6),v=r(11),m=r(8),y=r(9),b=r(3);t.initStartAdHalfStopper=o,t.initStartAdStopper=s,t.handleErrorState=l,t.playPlayer=d},function(e,t,r){"use strict";function n(e){if(!e.frozen)if(e.parallelStartAd){for(var t=!0,r=0,n=e.plist.length;r<n;r++)if(1==e.plist[r].group&&0==e.plist[r].errorCount){t=!1;break}if(t)return void i.debugLog(e,"all have errors, not reseting readyForStartAd",!1);i.debugLog(e,"reseting readyForStartAd",!1),e.readyForStartAd=!1,null!=e.initialStartAd&&(clearTimeout(e.initialStartAd),e.initialStartAd=null);var o=function(e){i.debugLog(e,"readyForStartAd",!1),e.readyForStartAd=!0,e.initialStartAd=null,a.playNextVasts(e)};e.initialStartAd=setTimeout(function(){o(e)},12e3)}else e.readyForStartAd=!0}var i=r(1),a=r(8);t.resetReadyForStartAd=n},function(e,t,r){function n(e,t){this.afterTransform=function(e,r){return i(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,l.isNullOrUndefined(r)||e.push(r),i&&i(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);s.call(this,e),this._transformState=new n(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){l.isFunction(this._flush)?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=a;var s=r(13),l=r(21);l.inherits=r(22),l.inherits(a,s),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;l.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t,r){(function(t){function n(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function i(e,t){var n=r(13);e=e||{};var i=e.highWaterMark,a=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:a,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function a(e){var t=r(13);return this instanceof a||this instanceof t?(this._writableState=new i(e,this),this.writable=!0,void T.call(this)):new a(e)}function o(e,r,n){var i=new Error("write after end");e.emit("error",i),t.nextTick(function(){n(i)})}function s(e,r,n,i){var a=!0;if(!(A.isBuffer(n)||A.isString(n)||A.isNullOrUndefined(n)||r.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),t.nextTick(function(){i(o)}),a=!1}return a}function l(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&A.isString(t)&&(t=new w(t,r)),t}function d(e,t,r,i,a){r=l(t,r,i),A.isBuffer(r)&&(i="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new n(r,i,a)):u(e,t,!1,o,r,i,a),s}function u(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function c(e,r,n,i,a){n?t.nextTick(function(){r.pendingcb--,a(i)}):(r.pendingcb--,a(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function p(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,r){var n=e._writableState,i=n.sync,a=n.writecb;if(p(n),r)c(e,n,i,r,a);else{var o=m(e,n);o||n.corked||n.bufferProcessing||!n.buffer.length||v(e,n),i?t.nextTick(function(){f(e,n,o,a)}):f(e,n,o,a)}}function f(e,t,r,n){r||g(e,t),t.pendingcb--,n(),b(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,u(e,t,!0,t.length,t.buffer,"",function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)}),t.buffer=[]}else{for(var n=0;n<t.buffer.length;n++){var i=t.buffer[n],a=i.chunk,o=i.encoding,s=i.callback,l=t.objectMode?1:a.length;if(u(e,t,!1,l,a,o,s),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function m(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function b(e,t){var r=m(e,t);return r&&(0===t.pendingcb?(y(e,t),t.finished=!0,e.emit("finish")):y(e,t)),r}function E(e,r,n){r.ending=!0,b(e,r),n&&(r.finished?t.nextTick(n):e.once("finish",n)),r.ended=!0}e.exports=a;var w=r(19).Buffer;a.WritableState=i;var A=r(21);A.inherits=r(22);var T=r(17);A.inherits(a,T),a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},a.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return A.isFunction(t)&&(r=t,t=null),A.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),A.isFunction(r)||(r=function(){}),n.ended?o(this,n,r):s(this,n,e,r)&&(n.pendingcb++,i=d(this,n,e,t,r)),i},a.prototype.cork=function(){var e=this._writableState;e.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||v(this,e))},a.prototype._write=function(e,t,r){r(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,r){var n=this._writableState;A.isFunction(e)?(r=e,e=null,t=null):A.isFunction(t)&&(r=t,t=null),A.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||E(this,n,r)}}).call(t,r(16))},function(e,t,r){"use strict";function n(){var e=document.createElement("iframe");return e.src="about:blank",e.width="100%",e.height="100%",e.id="vjs"+Math.floor(5e3*Math.random()),e.setAttribute("frameBorder","0"),e.setAttribute("scrolling","no"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.overflow="hidden",e}function i(e){var t=document.createElement("div");return t.style.zIndex="0",t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.margin="0",t.style.padding="0",t.id="vpaidContainerDiv_"+e+"_"+Math.floor(5e3*Math.random()),t}function a(e){var t=e.createElement;e.createElement=function(r){var n=t.call(e,r);try{"video"===r.toLowerCase()&&(n.muted=!0,n.playsInline=!0,Object.defineProperty(n,"muted",{get:function(){return!0},set:function(e){}}),Object.defineProperty(n,"volume",{get:function(){return 0},set:function(e){}}))}catch(e){}return n}}function o(e,t){return new l.Promise(function(r,o){var l=i(t.vastId);t.jsVPAIDElementDiv=l,e.divElem.appendChild(l);var u=n();t.jsVpaidFrame=u;var c=!1,h=!1;l.appendChild(u);var f=u.contentWindow&&u.contentWindow.document;if(!f)throw new Error("loadJSVpaid frame document not defined");var g=function(){try{s(e,t),r()}catch(e){o(e)}};f.write('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n</head>\n<body></body>\n</html>\n'),f.body.style.margin="0",f.body.style.padding="0";var v;e.usejsv&&e.mainAutoplay?(v=f.createElement("script"),v.setAttribute("type","text/javascript"),v.src=e.conf.pJsvUrl,p(v,"load",function(){c=!0,c&&h&&g()},!1),f.body.appendChild(v)):((e.mainAutoplay&&e.muteToPlay||!e.allowSound)&&a(f),c=!0),v=f.createElement("script"),v.setAttribute("type","text/javascript"),v.src=t.mediaURL,p(v,"load",function(){h=!0,c&&h&&g()},!1);var m=f.createElement("div");m.id="vpaid-js-ad-elem",m.style.margin="0",m.style.padding="0",m.style.width="100%",m.style.height="100%",m.style.position="absolute",m.style.left="0",m.style.top="0",t.vpaidJsIframeAdElem=m,l.appendChild(m),f.body.appendChild(v),t.companionHTML&&(t.companionsElementDiv=null,t.companionsElementDiv=f.createElement("div"),t.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+e.height+"px; z-index: 0; "),m.appendChild(t.companionsElementDiv),t.companionsElementDiv&&(d.debugLogVast(e,t,"companionHTML: "+t.companionHTML,!1),t.companionsElementDiv.innerHTML=t.companionHTML)),d.debugLog(e,"vastId writing iframe content",!1)})}function s(e,t){if("function"==typeof e.jsVpaidLoaded)return e.jsVpaidLoaded(t);d.debugLogVast(e,t,"VPAID JS script loaded",!1);var r=t.jsVpaidFrame;if(t.isJSVPaid){if(!r||!r.contentWindow||!r.contentWindow.getVPAIDAd)throw new Error("couldn't find js vpaid module");var n,i=r.contentWindow&&r.contentWindow.document;if(n=e.usejsv&&e.mainAutoplay?new r.contentWindow.video_jsv:i.createElement("video"),t.vpaidJsIframeVideo=n,n.setAttribute("preload","auto"),n.style.margin="0",n.style.padding="0",n.style.top="0px",n.style.left="0px",n.style.position="absolute",n.style.width="100%",n.style.height="100%",e.allowSound||(n.volume=0,n.muted=!0),e.usejsv&&e.mainAutoplay){var a="";n.canPlayType=function(){return a&&a.length>8&&!u.isStreamingUrl(a)?"probably":""},n.proxyUrl=function(t){return a=u.getVprUrl(t,e)}}t.vpaidJsIframeAdElem.appendChild(n),e.usejsv&&e.mainAutoplay&&(t.vpaidJsIframeVideoCanvas=t.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]),t.initAdEnvObject={},t.initAdEnvObject.slot=t.vpaidJsIframeAdElem,t.initAdEnvObject.videoSlot=t.vpaidJsIframeVideo,t.initAdEnvObject.videoSlotCanAutoPlay=!0,e.usejsv&&!e.mainAutoplay&&(t.initAdEnvObject.videoSlotCanAutoPlay=!1),t.vpaidJs=r.contentWindow.getVPAIDAd()}if(!t.vpaidJs)throw new Error("failed to create js vpaid module");t.vpaidJs.handshakeVersion&&t.vpaidJs.handshakeVersion("2.0")}var l=r(29),d=r(1),u=r(2),c=r(14),p=c.addEvent;t.createVpaidJsIframe=n,t.createVpaidJSDiv=i,t.loadJSVpaid=o,t.jsVpaidLoaded=s},function(e,t,r){"use strict";function n(e,t,r){return function(n){var a=(new Date).getTime();n=n.replace(/\[CB\]/g,a).replace(/\[CACHE_BUSTER\]/g,a).replace(/\[CACHEBUSTING\]/g,a),n=n.replace(/\[WIDTH\]/g,e.width).replace(/\[CONTAINER_WIDTH\]/g,e.width).replace(/\[HEIGHT\]/g,e.height).replace(/\[CONTAINER_HEIGHT\]/g,e.height),e.info&&(n=n.replace(/\[DEVICEOS\]/gi,encodeURIComponent(e.info.os)),n=n.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(e.info.osv)),n=n.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(e.info.make)),n=n.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(e.info.model))),n=n.replace(/\[UA\]/g,encodeURIComponent(navigator.userAgent)),n=n.replace(/\[SUPPLY_ID\]/g,e.playerId).replace(/\[PLAYER_ID\]/g,e.playerId).replace(/\[SUBID\]/g,encodeURIComponent(e.subid)).replace(/\[PAGE_TITLE\]/g,encodeURIComponent(e.pageTitle)).replace(/\[URL\]/g,encodeURIComponent(e.domain)).replace(/\[URL_DETECTED\]/g,encodeURIComponent(e.domainDetected)),e.appParams&&(n=n.replace(/\[APP_NAME\]/g,encodeURIComponent(e.appParams.appn)).replace(/\[APP_BUNDLE\]/g,encodeURIComponent(e.appParams.appb)));var o=e.content&&e.content.url||"";"string"==typeof o&&(o=o.split(","));var s=o[0],l=i.hashCode(s||""+e.playerId+e.subid);if(n=n.replace(/\[VIDEO_DESCRIPTION\]/g,"Entertainment").replace(/\[VIDEO_TITLE\]/g,"Entertainment").replace(/\[VIDEO_ID\]/g,l).replace(/\[VIDEO_DURATION\]/g,"00:30:00").replace(/\[VIDEO_KEYWORDS\]/g,"Entertainment").replace(/\[VIDEO_FILE_URL\]/g,encodeURIComponent(s)).replace(/\[AUTOPLAY\]/g,"1").replace(/\[MUTED\]/g,"1"),e.customParams)for(var d=0;d<e.customParams.length;d++){var u=e.customParams[d];void 0!==u&&(n=n.replace(new RegExp("\\[CUSTOM"+d+"\\]","g"),encodeURIComponent(u)))}if(r&&(n=n.replace(/\[CLICK_URL\]/g,encodeURIComponent(r.clickUrl))),t){var c=t.playerId,p=t.cxvid||t.vastId,h=t.vastId;n=n.replace(/\[XSUPPLY_ID\]/g,c).replace(/\[DEMAND_ID\]/g,p).replace(/\[XDEMAND_ID\]/g,h),t.customVars&&(n=n.replace(/\[XRPM\]/g,t.customVars.rpm||"").replace(/\[RPM\]/g,(t.cxvid?t.customVars.cx_rpm:t.customVars.rpm)||""))}if(e.customVars)for(var f in e.customVars)e.customVars.hasOwnProperty(f)&&(n=n.replace(new RegExp("\\["+f+"\\]","g"),encodeURIComponent(e.customVars[f])));return n}}var i=r(4);t.macros=n},function(e,t,r){"use strict";function n(e){var t=e.split("//");return e.indexOf(".cnn.com")!==-1?+t[1].split("/")[1]:e.indexOf("spotx://")!==-1?+t[1]:null}var i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=r(2),o=r(15),s=r(4),l=r(39),d=r(24),u=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.spotxSilent||console.log("["+this.vastId+"][Spotx]",e,t)},t.prototype.initMedia=function(){this.spotxSilent=!0,this.spotxElementDiv=l.createVpaidJSDiv(this.channelId),this.videoElement=document.createElement("video"),this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.muted=!0,this.spotxElementDiv.appendChild(this.videoElement),this.players.divElem.appendChild(this.spotxElementDiv),this.players=this.players,this.slot=this.spotxElementDiv,this.video_slot=this.videoElement,this.protocol=this.players.protocol,this.hide_skin=!1,this.autoplay=!1,this.sdk={},this.handlers={inited:d.LoadedFunc,AdLoaded:d.AdLoadedHandler,AdStarted:d.AdStartedHandler,AdStopped:d.AdStoppedHandler,AdSkipped:d.AdSkippedHandler,AdImpression:d.AdImpressionHandler,AdVideoStart:d.AdVideoStartHandler,AdVideoFirstQuartile:d.AdFirstQuartileHandler,AdVideoMidpoint:d.AdMidpointHandler,AdVideoThirdQuartile:d.AdThirdQuartileHandler,AdVideoComplete:d.AdCompleteHandler,AdClickThru:d.AdClickthruHandler,AdUserMinimize:d.AdUserMinimizeHandler,AdUserClose:d.AdUserMinimizeHandler,AdPaused:d.AdPausedHandler,AdPlaying:d.AdPlayingHandler,AdError:d.AdErrorHandler,AdSizeChange:d.AdSizeChangeHandler,AdRemainingTimeChange:d.AdRemainingTimeChangeHandler,AdVolumeChange:d.AdVolumeChangeHandler},this.init()},t.prototype.init=function(){var e=this;return this.log("initing ..."),"undefined"==typeof SpotX?(this.log("injecting script"),s.injectScriptOnce("spotx-direct-ados-sdk",function(){return a.fixURLPrm(e.protocol,"http://js.spotx.tv/directsdk/v1/"+e.channelId+".js")},function(){e.handlers.inited(e.players,e)})):void setTimeout(function(){e.handlers.inited(e.players,e)},0)},t.prototype.initAd=function(){var e=this;this.log("loadAd called"),this.sdk=new SpotX.DirectAdOS({channel_id:this.channelId,slot:this.slot,video_slot:this.video_slot,hide_skin:this.hide_skin,autoplay:this.autoplay}),this.subscribe(),this.sdk.loadAd().then(function(){e.log("loadAd success")},function(){e.log("loadAd failed")})},t.prototype.subscribe=function(){var e=this;this.sdk.eachVPAIDEvent(function(t){e.sdk.subscribe(function(){"AdRemainingTimeChange"!=t&&e.log(t+" fired");var r=e.handlers[t];r&&("AdRemainingTimeChange"==t?r(e.players,e,0):"AdClickThru"==t?r(e.players,e,""):"AdError"==t?r(e.players,e,{errorMsg:"spotxSDK gives AdError"}):r(e.players,e))},t)},this)},t.prototype.startAd=function(){this.log("playAd called"),this.players.allowSound||this.setAdVolume(0),this.sdk.playAd()},t.prototype.pauseAd=function(){this.log("pauseAd called"),this.sdk.pauseAd()},t.prototype.resumeAd=function(){this.sdk.playAd()},t.prototype.stopAd=function(){this.log("stopAd called"),this.sdk&&this.sdk.stopAd()},t.prototype.showAd=function(){var e=this.sdk.slot();e.style.zIndex="10000",e.style.position="absolute"},t.prototype.hideAd=function(){var e=this.sdk.slot();e.style.zIndex=(1-this.uniqId).toString()},t.prototype.clearAd=function(){var e=this.sdk.slot();e.style.display="none",e.parentNode.removeChild(e)},t.prototype.resizeAd=function(e,t,r){this.log("resize called"),this.sdk.resize(e,t,r)},t.prototype.setAdVolume=function(e){this.log("setAdVolume called");var t=this.sdk.videoSlot();e>0&&this.players.allowSound?(t.muted=!1,t.volume=e):(t.muted=!0,t.volume=0)},t}(o.PlayerData);t.PlayerDataSpotx=u,t.getChannelId=n},function(e,t){"use strict";function r(e){if(!e)return!1;var t={algovid:e.indexOf("algovid"),cedatoplayer:e.indexOf("cedato_player"),vpaid:e.indexOf("cedato_vpaid")};return!((-1===t.algovid||t.algovid>18)&&-1===t.cedatoplayer||-1!==t.vpaid)}function n(e){for(var t,n=document.getElementsByTagName("script"),i=n.length-1;i>=0;i--){var a=n[i];if(r(a.src)&&(t||(t=a),e&&a.src.indexOf("cb="+e)!==-1))return a}return t}t.checkIndexes=r,t.getScriptTag=n},function(e,t,r){(function(){var n,i,a;i=r(44),a=r(28),n=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,r,n){var a,o,s;return o=+new Date,a=t.extend=function(e,t){var r,n;for(r in t)n=t[r],e[r]=n;return e},n||("function"==typeof r&&(n=r),s={}),s=a(this.options,r),this.totalCallsTimeout<o?(this.totalCalls=1,this.totalCallsTimeout=o+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls?void n(null):o-this.lastSuccessfullAd<this.cappingMinimumTimeInterval?void n(null):i.parse(e,s,function(e){return function(e){return n(e)}}(this))},function(){var t,r;r=a.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){t(e,n,{get:function(){return r.getItem(n)},set:function(e){return r.setItem(n,e)},configurable:!1,enumerable:!0})}),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),e.exports=n}).call(this)},function(e,t,r){(function(){var t,n,i,a,o,s,l,d,u,c,p,h,f,g,v=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};n=r(70),f=r(68),i=r(61),a=r(63),o=r(64),g=r(28),d=r(27).VASTCreativeLinear,l=r(27).VASTCreativeCompanion,u=r(27).VASTCreativeNonLinear,c=r(66),s=r(62),p=r(67),t=r(20).EventEmitter,h=function(){function e(){}var r;return r=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&r.push(e)},e.removeURLTemplateFilter=function(){return r.pop()},e.countURLTemplateFilters=function(){return r.length},e.clearUrlTemplateFilters=function(){return r=[]},e.parse=function(e,t,r){return r||("function"==typeof t&&(r=t),t={}),this._parse(e,null,t,function(e,t){return r(t)})},e.vent=new t,e.track=function(e,t){return this.vent.emit("VAST-error",t),g.track(e,t)},e.on=function(e,t){return this.vent.on(e,t)},e.once=function(e,t){return this.vent.once(e,t)},e._parse=function(e,t,i,a){var o,s,l;for(a||("function"==typeof i&&(a=i),i={}),s=0,l=r.length;s<l;s++)o=r[s],e=o(e);return null==t&&(t=[]),t.push(e),n.get(e,i,function(r){return function(n,o){var s,l,d,u,c,p,h,g,m,y,b;if(null!=n)return a(n);if(c=new f,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return a();for(y=o.documentElement.childNodes,p=0,g=y.length;p<g;p++)u=y[p],"Error"===u.nodeName&&c.errorURLTemplates.push(r.parseNodeText(u));for(b=o.documentElement.childNodes,h=0,m=b.length;h<m;h++)u=b[h],"Ad"===u.nodeName&&(s=r.parseAdElement(u),null!=s?c.ads.push(s):r.track(c.errorURLTemplates,{ERRORCODE:101}));for(l=function(e){var t,n,i;if(null==e&&(e=!1),c){for(i=c.ads,t=0,n=i.length;t<n;t++)if(s=i[t],null!=s.nextWrapperURL)return;return 0===c.ads.length&&(e||r.track(c.errorURLTemplates,{ERRORCODE:303}),c=null),a(null,c)}},d=c.ads.length;d--;)s=c.ads[d],null!=s.nextWrapperURL&&!function(n){var a,o,s;return t.length>=10||(s=n.nextWrapperURL,v.call(t,s)>=0)?(r.track(n.errorURLTemplates,{ERRORCODE:302}),c.ads.splice(c.ads.indexOf(n),1),void l()):(0===n.nextWrapperURL.indexOf("//")?(o=location.protocol,n.nextWrapperURL=""+o+n.nextWrapperURL):n.nextWrapperURL.indexOf("://")===-1&&(a=e.slice(0,e.lastIndexOf("/")),n.nextWrapperURL=""+a+"/"+n.nextWrapperURL),r._parse(n.nextWrapperURL,t,i,function(e,t){var i,a,o,s,d,u,p,h,f,g,v,m,y,b,E,w,A,T;if(a=!1,null!=e)r.track(n.errorURLTemplates,{ERRORCODE:301}),c.ads.splice(c.ads.indexOf(n),1),a=!0;else if(null==t)r.track(n.errorURLTemplates,{ERRORCODE:303}),c.ads.splice(c.ads.indexOf(n),1),a=!0;else for(c.errorURLTemplates=c.errorURLTemplates.concat(t.errorURLTemplates),s=c.ads.indexOf(n),c.ads.splice(s,1),E=t.ads,p=0,h=E.length;p<h;p++){if(d=E[p],d.errorURLTemplates=n.errorURLTemplates.concat(d.errorURLTemplates),d.impressionURLTemplates=n.impressionURLTemplates.concat(d.impressionURLTemplates),null!=n.trackingEvents)for(w=d.creatives,m=0,f=w.length;m<f;m++)if(i=w[m],"linear"===i.type||"nonlinear"===i.type)for(A=Object.keys(n.trackingEvents),y=0,g=A.length;y<g;y++)o=A[y],(u=i.trackingEvents)[o]||(u[o]=[]),i.trackingEvents[o]=i.trackingEvents[o].concat(n.trackingEvents[o]);if(null!=n.videoClickTrackingURLTemplates)for(T=d.creatives,b=0,v=T.length;b<v;b++)i=T[b],"linear"!==i.type&&"nonlinear"!==i.type||(i.videoClickTrackingURLTemplates=i.videoClickTrackingURLTemplates.concat(n.videoClickTrackingURLTemplates));c.ads.splice(s,0,d)}return delete n.nextWrapperURL,l(a)}))}(s);return l()}}(this))},e.childByName=function(e,t){var r,n,i,a;for(a=e.childNodes,n=0,i=a.length;n<i;n++)if(r=a[n],r.nodeName===t)return r},e.childsByName=function(e,t){var r,n,i,a,o;for(n=[],o=e.childNodes,i=0,a=o.length;i<a;i++)r=o[i],r.nodeName===t&&n.push(r);return n},e.parseAdElement=function(e){var t,r,n,i;for(i=e.childNodes,r=0,n=i.length;r<n;r++){if(t=i[r],t.id=e.getAttribute("id"),"Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},e.parseWrapperElement=function(e){var t,r,n,i,a,o,s;for(t=this.parseInLineElement(e),i=this.childByName(e,"VASTAdTagURI"),null!=i?t.nextWrapperURL=this.parseNodeText(i):(i=this.childByName(e,"VASTAdTagURL"),null!=i&&(t.nextWrapperURL=this.parseNodeText(this.childByName(i,"URL")))),s=t.creatives,a=0,o=s.length;a<o;a++)r=s[a],n=null,"linear"!==r.type&&"nonlinear"!==r.type||(n=r,null!=n&&(null!=n.trackingEvents&&(t.trackingEvents=n.trackingEvents),null!=n.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates)));if(null!=t.nextWrapperURL)return t},e.parseInLineElement=function(e){var t,r,n,a,o,s,l,d,u,c,p,h,f,g;for(t=new i,t.id=e.id,h=e.childNodes,s=0,u=h.length;s<u;s++)switch(o=h[s],o.nodeName){case"Error":t.errorURLTemplates.push(this.parseNodeText(o));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(o));break;case"Creatives":for(f=this.childsByName(o,"Creative"),l=0,c=f.length;l<c;l++)for(n=f[l],g=n.childNodes,d=0,p=g.length;d<p;d++)switch(a=g[d],a.nodeName){case"Linear":r=this.parseCreativeLinearElement(a),r&&t.creatives.push(r);break;case"NonLinearAds":r=this.parseNonLinear(a),r&&t.creatives.push(r);break;case"CompanionAds":r=this.parseCompanionAd(a),r&&t.creatives.push(r)}break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(o,"Extension"))}return t},e.parseExtension=function(e,t){var r,n,i,s,l,d,u,c,p,h,f,g,v,m,y,b,E,w;for(w=[],u=0,f=t.length;u<f;u++){if(l=t[u],n=new a,l.attributes)for(y=l.attributes,c=0,g=y.length;c<g;c++)d=y[c],n.attributes[d.nodeName]=d.nodeValue;for(b=l.childNodes,
p=0,v=b.length;p<v;p++)if(r=b[p],"#text"!==r.nodeName){if(i=new o,i.name=r.nodeName,i.value=this.parseNodeText(r),r.attributes)for(E=r.attributes,h=0,m=E.length;h<m;h++)s=E[h],i.attributes[s.nodeName]=s.nodeValue;n.children.push(i)}w.push(e.push(n))}return w},e.parseCreativeLinearElement=function(e){var t,r,n,i,a,o,s,l,u,p,h,f,g,v,m,y,b,E,w,A,T,S,_,L,x,I,D,R,P,C,V,k,O,N,j,U;if(n=new d,n.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),n.duration===-1&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(g=e.getAttribute("skipoffset"),null==g?n.skipDelay=null:"%"===g.charAt(g.length-1)?(h=parseInt(g,10),n.skipDelay=n.duration*(h/100)):n.skipDelay=this.parseDuration(g),b=this.childByName(e,"VideoClicks"),null!=b){for(n.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(b,"ClickThrough")),V=this.childsByName(b,"ClickTracking"),w=0,_=V.length;w<_;w++)r=V[w],n.videoClickTrackingURLTemplates.push(this.parseNodeText(r));for(k=this.childsByName(b,"CustomClick"),A=0,L=k.length;A<L;A++)i=k[A],n.videoCustomClickURLTemplates.push(this.parseNodeText(i))}for(t=this.childByName(e,"AdParameters"),null!=t&&(n.adParameters=this.parseNodeText(t)),O=this.childsByName(e,"TrackingEvents"),T=0,x=O.length;T<x;T++)for(m=O[T],N=this.childsByName(m,"Tracking"),S=0,I=N.length;S<I;S++)if(v=N[S],a=v.getAttribute("event"),y=this.parseNodeText(v),null!=a&&null!=y){if("progress"===a){if(p=v.getAttribute("offset"),!p)continue;a="%"===p.charAt(p.length-1)?"progress-"+p:"progress-"+Math.round(this.parseDuration(p))}null==(E=n.trackingEvents)[a]&&(E[a]=[]),n.trackingEvents[a].push(y)}for(j=this.childsByName(e,"MediaFiles"),P=0,D=j.length;P<D;P++)for(u=j[P],U=this.childsByName(u,"MediaFile"),C=0,R=U.length;C<R;C++)l=U[C],s=new c,s.id=l.getAttribute("id"),s.fileURL=this.parseNodeText(l),s.deliveryType=l.getAttribute("delivery"),s.codec=l.getAttribute("codec"),s.mimeType=l.getAttribute("type"),s.apiFramework=l.getAttribute("apiFramework"),s.bitrate=parseInt(l.getAttribute("bitrate")||0),s.minBitrate=parseInt(l.getAttribute("minBitrate")||0),s.maxBitrate=parseInt(l.getAttribute("maxBitrate")||0),s.width=parseInt(l.getAttribute("width")||0),s.height=parseInt(l.getAttribute("height")||0),f=l.getAttribute("scalable"),f&&"string"==typeof f&&(f=f.toLowerCase(),"true"===f?s.scalable=!0:"false"===f&&(s.scalable=!1)),o=l.getAttribute("maintainAspectRatio"),o&&"string"==typeof o&&(o=o.toLowerCase(),"true"===o?s.maintainAspectRatio=!0:"false"===o&&(s.maintainAspectRatio=!1)),n.mediaFiles.push(s);return n},e.parseNonLinear=function(e){var t,r,n,i,a,o,s,l,d,c,h,f,g,v,m,y,b,E,w,A,T,S,_,L,x,I,D,R,P;for(t=new u,L=this.childsByName(e,"TrackingEvents"),f=0,y=L.length;f<y;f++)for(d=L[f],x=this.childsByName(d,"Tracking"),g=0,b=x.length;g<b;g++)l=x[g],r=l.getAttribute("event"),c=this.parseNodeText(l),null!=r&&null!=c&&(null==(h=t.trackingEvents)[r]&&(h[r]=[]),t.trackingEvents[r].push(c));for(I=this.childsByName(e,"NonLinear"),v=0,E=I.length;v<E;v++){for(o=I[v],a=new p,a.id=o.getAttribute("id")||null,a.width=o.getAttribute("width"),a.height=o.getAttribute("height"),a.minSuggestedDuration=o.getAttribute("minSuggestedDuration"),a.apiFramework=o.getAttribute("apiFramework"),D=this.childsByName(o,"HTMLResource"),m=0,w=D.length;m<w;m++)n=D[m],a.type=n.getAttribute("creativeType")||"text/html",a.htmlResource=this.parseNodeText(n);for(R=this.childsByName(o,"IFrameResource"),S=0,A=R.length;S<A;S++)i=R[S],a.type=i.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(i);for(P=this.childsByName(o,"StaticResource"),_=0,T=P.length;_<T;_++)s=P[_],a.type=s.getAttribute("creativeType")||0,a.staticResource=this.parseNodeText(s);a.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"NonLinearClickThrough")),t.variations.push(a)}return t},e.parseCompanionAd=function(e){var t,r,n,i,a,o,d,u,c,p,h,f,g,v,m,y,b,E,w,A,T,S,_,L,x,I,D,R,P;for(n=new l,L=this.childsByName(e,"Companion"),f=0,y=L.length;f<y;f++){for(r=L[f],t=new s,t.id=r.getAttribute("id")||null,t.width=r.getAttribute("width"),t.height=r.getAttribute("height"),x=this.childsByName(r,"HTMLResource"),g=0,b=x.length;g<b;g++)a=x[g],t.type=a.getAttribute("creativeType")||"text/html",t.htmlResource=this.parseNodeText(a);for(I=this.childsByName(r,"IFrameResource"),v=0,E=I.length;v<E;v++)o=I[v],t.type=o.getAttribute("creativeType")||0,t.iframeResource=this.parseNodeText(o);for(D=this.childsByName(r,"StaticResource"),m=0,w=D.length;m<w;m++)d=D[m],t.type=d.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(d);for(R=this.childsByName(r,"TrackingEvents"),S=0,A=R.length;S<A;S++)for(c=R[S],P=this.childsByName(c,"Tracking"),_=0,T=P.length;_<T;_++)u=P[_],i=u.getAttribute("event"),p=this.parseNodeText(u),null!=i&&null!=p&&(null==(h=t.trackingEvents)[i]&&(h[i]=[]),t.trackingEvents[i].push(p));t.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(r,"CompanionClickThrough")),t.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(r,"CompanionClickTracking")),n.variations.push(t)}return n},e.parseDuration=function(e){var t,r,n,i,a;return null==e?-1:(t=e.split(":"),3!==t.length?-1:(a=t[2].split("."),i=parseInt(a[0]),2===a.length&&(i+=parseFloat("0."+a[1])),n=parseInt(60*t[1]),r=parseInt(60*t[0]*60),isNaN(r||isNaN(n||isNaN(i||n>3600||i>60)))?-1:r+n+i))},e.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},e}(),e.exports=h}).call(this)},function(e,t,r){function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t){function r(){}var i=e.prototype;if(Object.create){var a=Object.create(t.prototype);i.__proto__=a}i instanceof t||(r.prototype=t.prototype,r=new r,n(i,r),e.prototype=i=r),i.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),i.constructor=e)}function a(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,ne[e]),this.message=ne[e],Error.captureStackTrace&&Error.captureStackTrace(this,a);return r.code=e,t&&(this.message=this.message+": "+t),r}function o(){}function s(e,t){this._node=e,this._refresh=t,l(this)}function l(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);F(e,"length",r.length),n(r,e),e._inc=t}}function d(){}function u(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function c(e,t,r,n){if(n?t[u(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&b(i,e,n),y(i,e,r))}}function p(e,t,r){var n=u(t,r);if(!(n>=0))throw a(ie,new Error);for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var o=e.ownerDocument;o&&(b(o,e,r),r.ownerElement=null)}}function h(e){if(this._features={},e)for(var t in e)this._features=e[t]}function f(){}function g(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function v(e,t){if(t(e))return!0;if(e=e.firstChild)do if(v(e,t))return!0;while(e=e.nextSibling)}function m(){}function y(e,t,r){e&&e._inc++;var n=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==n&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function b(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete t._nsMap[r.prefix?r.localName:""]}function E(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a}}}function w(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,E(e.ownerDocument,e),t}function A(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===ee){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var o=r?r.previousSibling:e.lastChild;i.previousSibling=o,a.nextSibling=r,o?o.nextSibling=i:e.firstChild=i,null==r?e.lastChild=a:r.previousSibling=a;do i.parentNode=e;while(i!==a&&(i=i.nextSibling));return E(e.ownerDocument||e,e),t.nodeType==ee&&(t.firstChild=t.lastChild=null),t}function T(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);var n=e.lastChild}var n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,E(e.ownerDocument,e,t),t}function S(){this._nsMap={}}function _(){}function L(){}function x(){}function I(){}function D(){}function R(){}function P(){}function C(){}function V(){}function k(){}function O(){}function N(){}function j(e,t){switch(e.nodeType){case J:var r=e.attributes,n=r.length,i=e.firstChild,a=e.tagName,o=H===e.namespaceURI;t.push("<",a);for(var s=0;s<n;s++)j(r.item(s),t,o);if(i||o&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(t.push(">"),o&&/^script$/i.test(a))i&&t.push(i.data);else for(;i;)j(i,t),i=i.nextSibling;t.push("</",a,">")}else t.push("/>");return;case K:case ee:for(var i=e.firstChild;i;)j(i,t),i=i.nextSibling;return;case z:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,g),'"');case W:return t.push(e.data.replace(/[<&]/g,g));case Y:return t.push("<![CDATA[",e.data,"]]>");case $:return t.push("<!--",e.data,"-->");case Z:var l=e.publicId,d=e.systemId;if(t.push("<!DOCTYPE ",e.name),l)t.push(' PUBLIC "',l),d&&"."!=d&&t.push('" "',d),t.push('">');else if(d&&"."!=d)t.push(' SYSTEM "',d,'">');else{var u=e.internalSubset;u&&t.push(" [",u,"]"),t.push(">")}return;case X:return t.push("<?",e.target," ",e.data,"?>");case G:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function U(e,t,r){var n;switch(t.nodeType){case J:n=t.cloneNode(!1),n.ownerDocument=e;case ee:break;case z:r=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(U(e,i,r)),i=i.nextSibling;return n}function M(e,t,r){var n=new t.constructor;for(var i in t){var a=t[i];"object"!=typeof a&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new o),n.ownerDocument=e,n.nodeType){case J:var s=t.attributes,l=n.attributes=new d,u=s.length;l._ownerElement=n;for(var c=0;c<u;c++)n.setAttributeNode(M(e,s.item(c),!0));break;case z:r=!0}if(r)for(var p=t.firstChild;p;)n.appendChild(M(e,p,r)),p=p.nextSibling;return n}function F(e,t,r){e[t]=r}function B(e){switch(e.nodeType){case 1:case 11:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(B(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}var H="http://www.w3.org/1999/xhtml",q={},J=q.ELEMENT_NODE=1,z=q.ATTRIBUTE_NODE=2,W=q.TEXT_NODE=3,Y=q.CDATA_SECTION_NODE=4,G=q.ENTITY_REFERENCE_NODE=5,Q=q.ENTITY_NODE=6,X=q.PROCESSING_INSTRUCTION_NODE=7,$=q.COMMENT_NODE=8,K=q.DOCUMENT_NODE=9,Z=q.DOCUMENT_TYPE_NODE=10,ee=q.DOCUMENT_FRAGMENT_NODE=11,te=q.NOTATION_NODE=12,re={},ne={},ie=(re.INDEX_SIZE_ERR=(ne[1]="Index size error",1),re.DOMSTRING_SIZE_ERR=(ne[2]="DOMString size error",2),re.HIERARCHY_REQUEST_ERR=(ne[3]="Hierarchy request error",3),re.WRONG_DOCUMENT_ERR=(ne[4]="Wrong document",4),re.INVALID_CHARACTER_ERR=(ne[5]="Invalid character",5),re.NO_DATA_ALLOWED_ERR=(ne[6]="No data allowed",6),re.NO_MODIFICATION_ALLOWED_ERR=(ne[7]="No modification allowed",7),re.NOT_FOUND_ERR=(ne[8]="Not found",8)),ae=(re.NOT_SUPPORTED_ERR=(ne[9]="Not supported",9),re.INUSE_ATTRIBUTE_ERR=(ne[10]="Attribute in use",10));re.INVALID_STATE_ERR=(ne[11]="Invalid state",11),re.SYNTAX_ERR=(ne[12]="Syntax error",12),re.INVALID_MODIFICATION_ERR=(ne[13]="Invalid modification",13),re.NAMESPACE_ERR=(ne[14]="Invalid namespace",14),re.INVALID_ACCESS_ERR=(ne[15]="Invalid access",15);a.prototype=Error.prototype,n(re,a),o.prototype={length:0,item:function(e){return this[e]||null}},s.prototype.item=function(e){return l(this),this[e]},i(s,o),d.prototype={length:0,item:o.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new a(ae);var r=this.getNamedItem(e.nodeName);return c(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new a(ae);return t=this.getNamedItemNS(e.namespaceURI,e.localName),c(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return p(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return p(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},h.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new m;if(n.doctype=r,r&&n.appendChild(r),n.implementation=this,n.childNodes=new o,t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new R;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},f.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return A(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return w(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return M(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==W&&e.nodeType==W?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},n(q,f),n(q,f.prototype),m.prototype={nodeName:"#document",nodeType:K,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==ee){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&1==e.nodeType&&(this.documentElement=e),A(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),w(this,e)},importNode:function(e,t){return U(this,e,t)},getElementById:function(e){var t=null;return v(this.documentElement,function(r){if(1==r.nodeType&&r.getAttribute("id")==e)return t=r,!0}),t},createElement:function(e){var t=new S;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new o;var r=t.attributes=new d;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new k;return e.ownerDocument=this,e.childNodes=new o,e},createTextNode:function(e){var t=new x;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new I;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new D;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new O;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new _;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new V;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new S,n=t.split(":"),i=r.attributes=new d;return r.childNodes=new o,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new _,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},i(m,f),S.prototype={nodeType:J,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===ee?this.insertBefore(e,null):T(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new s(this,function(t){var r=[];return v(t,function(n){n===t||n.nodeType!=J||"*"!==e&&n.tagName!=e||r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new s(this,function(r){var n=[];return v(r,function(i){i===r||i.nodeType!==J||i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)}),n})}},m.prototype.getElementsByTagName=S.prototype.getElementsByTagName,m.prototype.getElementsByTagNameNS=S.prototype.getElementsByTagNameNS,i(S,f),_.prototype.nodeType=z,i(_,f),L.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(ne[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}},i(L,f),x.prototype={nodeName:"#text",nodeType:W,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},i(x,L),I.prototype={nodeName:"#comment",nodeType:$},i(I,L),D.prototype={nodeName:"#cdata-section",nodeType:Y},i(D,L),R.prototype.nodeType=Z,i(R,f),P.prototype.nodeType=te,i(P,f),C.prototype.nodeType=Q,i(C,f),V.prototype.nodeType=G,i(V,f),k.prototype.nodeName="#document-fragment",k.prototype.nodeType=ee,i(k,f),O.prototype.nodeType=X,i(O,f),N.prototype.serializeToString=function(e){var t=[];return j(e,t),t.join("")},f.prototype.toString=function(){return N.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(s.prototype,"length",{get:function(){return l(this),this.$$length}}),Object.defineProperty(f.prototype,"textContent",{get:function(){return B(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=value,this.nodeValue=e}}}),F=function(e,t,r){e["$$"+t]=r})}catch(e){}t.DOMImplementation=h,t.XMLSerializer=N},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,r){function n(e){return this instanceof n?void i.call(this,e):new n(e)}e.exports=n;var i=r(37),a=r(21);a.inherits=r(22),a.inherits(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){(function(t){function n(e,t){var n=r(13);e=e||{};var i=e.highWaterMark,a=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:a,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(I||(I=r(49).StringDecoder),this.decoder=new I(e.encoding),this.encoding=e.encoding)}function i(e){r(13);return this instanceof i?(this._readableState=new n(e,this),this.readable=!0,void L.call(this)):new i(e)}function a(e,t,r,n,i){var a=d(t,r);if(a)e.emit("error",a);else if(x.isNullOrUndefined(r))t.reading=!1,t.ended||u(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&c(e)),h(e,t);else i||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=R)e=R;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||x.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function d(e,t){var r=null;return x.isBuffer(t)||x.isString(t)||x.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function u(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,c(e)}function c(e){var r=e._readableState;r.needReadable=!1,r.emittedReadable||(D("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?t.nextTick(function(){p(e)}):p(e))}function p(e){D("emit readable"),e.emit("readable"),y(e)}function h(e,r){r.readingMore||(r.readingMore=!0,t.nextTick(function(){f(e,r)}))}function f(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(D("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&_.listenerCount(e,"data")&&(t.flowing=!0,y(e))}}function v(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(function(){m(e,r)}))}function m(e,t){t.resumeScheduled=!1,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;if(D("flow",t.flowing),t.flowing)do var r=e.read();while(null!==r&&t.flowing)}function b(e,t){var r,n=t.buffer,i=t.length,a=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=a?n.join(""):S.concat(n,i),n.length=0;else if(e<n[0].length){var s=n[0];r=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)r=n.shift();else{r=a?"":new S(e);for(var l=0,d=0,u=n.length;d<u&&l<e;d++){var s=n[0],c=Math.min(e-l,s.length);a?r+=s.slice(0,c):s.copy(r,l,0,c),c<s.length?n[0]=s.slice(c):n.shift(),l+=c}}return r}function E(e){var r=e._readableState;if(r.length>0)throw new Error("endReadable called on non-empty stream");r.endEmitted||(r.ended=!0,t.nextTick(function(){r.endEmitted||0!==r.length||(r.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function A(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}e.exports=i;var T=r(87),S=r(19).Buffer;i.ReadableState=n;var _=r(20).EventEmitter;_.listenerCount||(_.listenerCount=function(e,t){return e.listeners(t).length});var L=r(17),x=r(21);x.inherits=r(22);var I,D=r(103);D=D&&D.debuglog?D.debuglog("stream"):function(){},x.inherits(i,L),i.prototype.push=function(e,t){var r=this._readableState;return x.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=new S(e,t),t="")),a(this,r,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return a(this,t,e,"",!0)},i.prototype.setEncoding=function(e){return I||(I=r(49).StringDecoder),this._readableState.decoder=new I(e),this._readableState.encoding=e,this};var R=8388608;i.prototype.read=function(e){D("read",e);var t=this._readableState,r=e;if((!x.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return D("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?E(this):c(this),null;if(e=l(e,t),0===e&&t.ended)return 0===t.length&&E(this),null;var n=t.needReadable;D("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,D("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,D("reading or ended",n)),n&&(D("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=l(r,t));var i;return i=e>0?b(e,t):null,x.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&E(this),x.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,r){function n(e){D("onunpipe"),e===c&&a()}function i(){D("onend"),e.end()}function a(){D("cleanup"),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("drain",v),e.removeListener("error",s),e.removeListener("unpipe",n),c.removeListener("end",i),c.removeListener("end",a),c.removeListener("data",o),!p.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function o(t){D("ondata");var r=e.write(t);!1===r&&(D("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,c.pause())}function s(t){D("onerror",t),u(),e.removeListener("error",s),0===_.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",d),u()}function d(){D("onfinish"),e.removeListener("close",l),u()}function u(){D("unpipe"),c.unpipe(e)}var c=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,D("pipe count=%d opts=%j",p.pipesCount,r);var h=(!r||r.end!==!1)&&e!==t.stdout&&e!==t.stderr,f=h?i:a;p.endEmitted?t.nextTick(f):c.once("end",f),e.on("unpipe",n);var v=g(c);return e.on("drain",v),c.on("data",o),e._events&&e._events.error?T(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",l),e.once("finish",d),e.emit("pipe",c),p.flowing||(D("pipe resume"),c.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var i=A(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,r){var n=L.prototype.on.call(this,e,r);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&c(this,i);else{var a=this;t.nextTick(function(){D("readable nexttick read 0"),a.read(0)})}}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!0,e.reading||(D("resume read 0"),this.read(0)),v(this,e)),this},i.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(D("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){if(D("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var a=n.push(i);a||(r=!0,e.pause())}});for(var i in e)x.isFunction(e[i])&&x.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return w(a,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){D("wrapped _read",t),r&&(r=!1,e.resume())},n},i._fromList=b}).call(t,r(16))},function(e,t,r){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function a(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=r(19).Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},d=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};d.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,n=t.charCodeAt(i);if(n>=55296&&n<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,i)}return t},d.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},d.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},function(e,t,r){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,r){if(e&&d(e)&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}function a(e){return l(e)&&(e=i(e)),e instanceof n?e.format():n.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function d(e){return"object"==typeof e&&null!==e}function u(e){return null===e}function c(e){return null==e}var p=r(93);t.parse=i,t.resolve=o,t.resolveObject=s,t.format=a,t.Url=n;var h=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","\t"],v=["{","}","|","\\","^","`"].concat(g),m=["'"].concat(v),y=["%","/","?",";","#"].concat(m),b=["/","?","#"],E=255,w=/^[a-z0-9A-Z_-]{0,63}$/,A=/^([a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0
},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=r(96);n.prototype.parse=function(e,t,r){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e;n=n.trim();var i=h.exec(n);if(i){i=i[0];var a=i.toLowerCase();this.protocol=a,n=n.substr(i.length)}if(r||i||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===n.substr(0,2);!o||i&&S[i]||(n=n.substr(2),this.slashes=!0)}if(!S[i]&&(o||i&&!_[i])){for(var s=-1,d=0;d<b.length;d++){var u=n.indexOf(b[d]);u!==-1&&(s===-1||u<s)&&(s=u)}var c,f;f=s===-1?n.lastIndexOf("@"):n.lastIndexOf("@",s),f!==-1&&(c=n.slice(0,f),n=n.slice(f+1),this.auth=decodeURIComponent(c)),s=-1;for(var d=0;d<y.length;d++){var u=n.indexOf(y[d]);u!==-1&&(s===-1||u<s)&&(s=u)}s===-1&&(s=n.length),this.host=n.slice(0,s),n=n.slice(s),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),d=0,x=v.length;d<x;d++){var I=v[d];if(I&&!I.match(w)){for(var D="",R=0,P=I.length;R<P;R++)D+=I.charCodeAt(R)>127?"x":I[R];if(!D.match(w)){var C=v.slice(0,d),V=v.slice(d+1),k=I.match(A);k&&(C.push(k[1]),V.unshift(k[2])),V.length&&(n="/"+V.join(".")+n),this.hostname=C.join(".");break}}}if(this.hostname.length>E?this.hostname="":this.hostname=this.hostname.toLowerCase(),!g){for(var O=this.hostname.split("."),N=[],d=0;d<O.length;++d){var j=O[d];N.push(j.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(j):j)}this.hostname=N.join(".")}var U=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+U,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!T[a])for(var d=0,x=m.length;d<x;d++){var F=m[d],B=encodeURIComponent(F);B===F&&(B=escape(F)),n=n.split(F).join(B)}var H=n.indexOf("#");H!==-1&&(this.hash=n.substr(H),n=n.slice(0,H));var q=n.indexOf("?");if(q!==-1?(this.search=n.substr(q),this.query=n.substr(q+1),t&&(this.query=L.parse(this.query)),n=n.slice(0,q)):t&&(this.search="",this.query={}),n&&(this.pathname=n),_[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",j=this.search||"";this.path=U+j}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&d(this.query)&&Object.keys(this.query).length&&(a=L.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&i!==!1?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+i+r+o+n},n.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(l(e)){var t=new n;t.parse(e,!1,!0),e=t}var r=new n;if(Object.keys(this).forEach(function(e){r[e]=this[e]},this),r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(r[t]=e[t])}),_[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(e.protocol&&e.protocol!==r.protocol){if(!_[e.protocol])return Object.keys(e).forEach(function(t){r[t]=e[t]}),r.href=r.format(),r;if(r.protocol=e.protocol,e.host||S[e.protocol])r.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),r.pathname=i.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var a=r.pathname||"",o=r.search||"";r.path=a+o}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&"/"===r.pathname.charAt(0),d=e.host||e.pathname&&"/"===e.pathname.charAt(0),p=d||s||r.host&&e.pathname,h=p,f=r.pathname&&r.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],g=r.protocol&&!_[r.protocol];if(g&&(r.hostname="",r.port=null,r.host&&(""===f[0]?f[0]=r.host:f.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),p=p&&(""===i[0]||""===f[0])),d)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,f=i;else if(i.length)f||(f=[]),f.pop(),f=f.concat(i),r.search=e.search,r.query=e.query;else if(!c(e.search)){if(g){r.hostname=r.host=f.shift();var v=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");v&&(r.auth=v.shift(),r.host=r.hostname=v.shift())}return r.search=e.search,r.query=e.query,u(r.pathname)&&u(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!f.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var m=f.slice(-1)[0],y=(r.host||e.host)&&("."===m||".."===m)||""===m,b=0,E=f.length;E>=0;E--)m=f[E],"."==m?f.splice(E,1):".."===m?(f.splice(E,1),b++):b&&(f.splice(E,1),b--);if(!p&&!h)for(;b--;b)f.unshift("..");!p||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),y&&"/"!==f.join("/").substr(-1)&&f.push("");var w=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(g){r.hostname=r.host=w?"":f.length?f.shift():"";var v=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");v&&(r.auth=v.shift(),r.host=r.hostname=v.shift())}return p=p||r.host&&f.length,p&&!w&&f.unshift(""),f.length?r.pathname=f.join("/"):(r.pathname=null,r.path=null),u(r.pathname)&&u(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){t=e.exports=r(52)(),t.push([e.id,"#__cedato_root_container{background-color:#000;border:0 none;display:block;height:100%;margin:0;overflow:hidden;padding:0;position:relative;top:0;width:100%}.__cedato_hidden{position:absolute;top:-10000px;left:-10000px}#__cedato_root_container .__cedato_close_button,#__cedato_root_container .__cedato_skip_button{color:#ccc;cursor:pointer;font-size:12px;font-family:arial,sans-serif-light,sans-serif;position:absolute;right:5px;border:1px solid #ccc;text-align:center;background-color:rgba(0,0,0,.1)}#__cedato_root_container .__cedato_close_button:hover,#__cedato_root_container .__cedato_skip_button:hover{color:#fff;border:1px solid #fff}#__cedato_root_container .__cedato_close_button{top:5px;z-index:10012;width:16px;height:16px}#__cedato_root_container .__cedato_skip_button{bottom:5px;z-index:10010;padding:4px 10px}#__cedato_root_container .__cedato_content_container{width:100%;height:100%;top:0;left:0;position:absolute;background:#000;z-index:10001}#__cedato_root_container .__cedato_content_container .__cedato_content_banner{width:100%;height:100%;top:0;left:0;position:absolute;z-index:1}#__cedato_root_container .__cedato_content_container .__cedato_content_video{height:100%!important;display:block;width:100%;position:relative;z-index:0}#__cedato_root_container .__cedato_content_container .__cedato_content_video.__cedato_active{z-index:2}#__cedato_root_container .__cedato_content_container .__cedato_play_overlay{display:table;position:absolute;top:0;left:0;width:100%;height:100%;z-index:10011;background-color:#000;cursor:pointer}#__cedato_root_container .__cedato_content_container .__cedato_play_overlay>div{display:table-cell;vertical-align:middle;text-align:center}#__cedato_root_container .__cedato_content_container .__cedato_play_overlay>div>img{width:auto}#__cedato_root_container .__cedato_flash_container{position:absolute;top:-1000px;z-index:1}#__cedato_root_container .__cedato_video_element{height:100%!important;width:100%;position:relative;top:0;left:0;background-color:#000}#__cedato_root_container .__cedato_jsvpaid_element{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;padding:0;margin:0}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){"use strict";function n(e){e.sendPixel=function(e){(new Image).src=e},e.playerEvents=new h({wildcard:!0,maxListeners:20})}function i(e){if(e){var t="h";"https:"===e.protocol&&(t="s");var r="h";"vpaid"===e.mode&&(r=e.flashCallingVpaid?"f":"j");var n="d";return e.info&&e.info.mobile&&(n="m"),t+r+n}}function a(e,t){var r={},a=0,o=!1;try{if(window&&(window.onerror=function(e,t,n){try{-1!==t.indexOf("algovid")&&g.debugLog(r,"Unhandeled exception "+e+" == "+t+" == "+n,!1)}catch(e){}}),r=E.configurePlayer(f.getUrlVars(e.params,!0))){r.JSV=t.jsv,r.SwfObject=t.swf,n(r);try{if(r.src=e.params,e.currentScript&&(r.currentScript=e.currentScript),a=1,o=!1,g.initDebugLog(r),g.debugLog(r,"Tag: "+r.src,!1),g.debugLog(r,"player initialized. player version: "+r.playerVersion+", playerId: "+r.playerId+", subid: "+r.subid+", domain: "+r.domain+", singleVPW: "+r.singleVPW+", autoplay: "+r.autoplay+", width: "+r.width+", height: "+r.height,!1),g.debugLog(r,"ua: "+window.navigator.userAgent,!1),g.debugLog(r,"domain detected: "+r.domainDetected,!1),r.domain!==r.domainDetected?g.debugLog(r,"domain received in param: "+r.domain,!1):g.debugLog(r,"using detected domain: "+r.domain,!1),r.hasVideoSupport||(g.debugLog(r,"no video support",!1),r.hasVideoSupport=!1),r.info?g.debugLog(r,"get device info returned mobile: "+r.info.mobile+", os: "+r.info.os+", osv: "+r.info.osv+", make: "+r.info.make+", model: "+r.info.model,!1):(r.info={mobile:!1},g.debugLog(r,"get device info - flash",!1)),r.divId||m.playerError(r,6,"divId not defined"),r.playerId||m.playerError(r,6,"playerId not defined"),a=2,r.flashCallingVpaid||r.jsCallingVpaid?(r.mode="vpaid",r.autoplay=!1,r.autoplayOverwrite=!0,r.maxAdStarts=1,T.prePrepareCallingObject(r)):b.FlashInterface.globalInit(),r.detect=i(r),a=41,c.include(),a=42,r.DMVAST=p,r.forceJSV&&(r.info.mobile=!0),r.info.mobile&&(r.htmlOnly=!0,r.flashSupport=!1,r.usejsv=r.JSV&&(null!=r.forceJSV?r.forceJSV:r.JSV.isNeeded()),r.muteToPlay=!0,r.parallelStartAd=!1,r.freqRetry=!0,v.jsvUsage(r,r.forceJSV)),a=5,r.flashCallingVpaid)r.flashSupport=!0;else if((f.isFileProtocol()||u.nonFlashSandbox())&&(r.flashSupport=!1,r.htmlOnly=!0),r.htmlOnly)r.flashSupport=!1;else if(5==Math.floor(100*Math.random())&&(r.reportVPWLoaded=!0),r.flashSupport=r.SwfObject&&r.SwfObject.hasFlashPlayerVersion("12.0"),!r.flashSupport){if(r.SwfObject&&r.SwfObject.hasFlashPlayerVersion("6.0.0")){var s="",l="";try{s=navigator.userAgent,l=r.SwfObject.getFlashPlayerVersion()}catch(e){}m.playerError(r,2,"noflash old ver "+l+": "+s)}r.reportVPWLoaded&&m.logEvent(r,m.CEDATO_EVENT.E_VPWS,{state:3},{})}if(m.logEvent(r,m.CEDATO_EVENT.E_START,{},{}),o=!0,a=52,r.usejsv&&r.JSV){g.debugLog(r,"using jsv",!1);try{r.JSV.include(),g.debugLog(r,"jsv loaded",!1)}catch(e){}r.hasVideoSupport=!0}a=53,S.preparePreVPW(r),a=54,T.postPrepareCallingObject(r),a=6,g.debugLog(r,"calling gpv",!1),r.gpvReturned=!1,a=56,r.requeryInterval=6e5,r.retryInterval=1e4,A.loadGPV(r,e),a=57,w.setupAPI(r,t.api||window.CEDATO_API)}catch(e){m.playerError(r,3,"init stage "+a+" gave JS exception: "+e.message,e)}}}catch(e){r.playerId||(r.playerId="0"),r.machineId||(r.machineId="s2.algovid.com"),r.subid||(r.subid=""),r.playerVersion||(r.playerVersion="107.81"),r.sessionId||(r.sessionId="");try{a&&(a=a)}catch(e){a=0}0===a&&g.initDebugLog(r),m.playerError(r,3,"init error  gave JS exception: "+encodeURIComponent(e.message),e),o||m.logEvent(r,m.CEDATO_EVENT.E_START,{},{})}}function o(){var e,t;return document.currentScript?(e=document.currentScript,t=e.src):t=f.ScriptPath(),t&&y.checkIndexes(t)||(e||(e=y.getScriptTag()),e&&(t=e.src)),{src:t,currentScript:e}}function s(e){var t=o();t.src.indexOf("?ob=")!==-1&&t.src.indexOf("&ob=")!==-1||t.src.indexOf("?job=")!==-1&&t.src.indexOf("&job=")!==-1||a({params:t.src,currentScript:t.currentScript},e)}function l(e,t){for(var r=0;r<e.players.length;r++){var n=e.players[r];n.inited||(a(n,t),n.inited=!0)}}function d(e){var t=e.tag;t?(t.init||(t.init=function(){l(t,e)}),t.init()):s(e)}var u=r(14),c=r(101),p=r(65),h=r(30).EventEmitter2,f=r(2),g=r(1),v=r(18),m=r(3),y=r(42),b=r(32),E=r(55),w=r(11),A=r(34),T=r(10),S=r(33);r(54),t.create=d},function(e,t){"use strict";function r(e){var t=window.CEDATO_INIT;return"undefined"==typeof a[e]?(a[e]=new i,a[e]._ready=!0,t&&("function"==typeof t?a[e].init=t:"object"==typeof t&&"function"==typeof t[e]&&(a[e].init=t[e]))):(a[e]._ready=!0,setTimeout(function(){a[e].trigger("ready")},0)),a[e]}function n(e){return"undefined"==typeof a[e]&&(a[e]=new i),a[e]}window.CEDATO_API=window.CEDATO_API||{registerPlayer:r,getPlayer:n};var i=function(){function e(){this.handlers={ready:[],click:[],aderror:[],adstart:[],adstartreq:[],adcomplete:[],adpause:[],adplay:[],contentcompleted:[]},this._ready=!1,this.playerVersion="100.0"}return e.prototype.on=function(e,t){var r=this,n=e.toLowerCase();return this.handlers[n]||n&&"_"==n[0]&&(this.handlers[n]=[]),this.handlers[n]&&this.handlers[n].push(t),"ready"===n&&this._ready&&setTimeout(function(){return r.trigger("ready")},0),this},e.prototype.off=function(e,t){var r=e.toLowerCase();if(this.handlers[r])if("function"==typeof t){var n=this.handlers[r].indexOf(t);n>=0&&this.handlers[r].splice(n,1)}else this.handlers[r]=[];return this},e.prototype.trigger=function(e,t){var r=e.toLowerCase();if(this.handlers[r]){for(var n=this.handlers[r].slice(),i=0,a=n.length;i<a;i++)if(this.handlers[r].indexOf(n[i])>-1){var o={};o.name=r,o.player=this,o.data="undefined"==typeof t?{}:t,n[i](o)}"ready"===r&&this.off("ready")}return this},e.prototype.play=function(){this.trigger("_play")},e.prototype.show=function(){this.trigger("_show")},e.prototype.hide=function(){this.trigger("_hide")},e.prototype.pause=function(){this.trigger("_pause")},e.prototype.overrideInitParams=function(e){this.trigger("_overrideInit",e)},e.prototype.setContentUrls=function(e){this.trigger("_setContentUrls",e)},e.prototype.sound=function(e){switch(typeof e){case"boolean":case"number":this.trigger("_sound",e);break;case"string":"on"!==e&&"off"!==e||this.trigger("_sound","on"===e)}},e.prototype.resize=function(e,t){var r=Number(e),n=Number(t);r>=0&&n>=0&&this.trigger("_resize",{width:r,height:n})},e.prototype.skip=function(){this.trigger("_skip")},e.prototype.close=function(){this.trigger("_close")},e.prototype.pauseAds=function(){this.trigger("_pauseads")},e.prototype.resumeAds=function(){this.trigger("_resumeads")},e.prototype.getPlayerVersion=function(){return this.playerVersion},e}();t.PlayerInterface=i;var a={};t.API_VER="1.0.3",t.registerPlayer=r,t.getPlayer=n},function(e,t,r){"use strict";function n(e){if(!e.p||null==e.sid)return null;var t={},r=e.p,n=[];n.push(r),r.indexOf(",")!==-1&&(n=r.split(","),r=n[0]);var d;e.d&&(d=e.d);var u=e.sid;u||(u="");var c;c=e.cb?e.cb:"";var p;p=e.did?e.did:c?"video"+r+c:"video"+r;var h,f="107.81",g=!1;e.pv?h=e.pv:e.playerVersion&&(h=e.playerVersion),f&&!g||!h||(f=h);var v="s2.algovid.com";e.mid&&(v=e.mid);var m=e.sd;m||(m=v.split(".").slice(1).join(".")||"algovid.com"),v.indexOf(".")<0&&(v=[v,m].join("."));var y="cedato_3.2.2.swf";e.swfUrl&&(y=e.swfUrl);var b=!0;void 0!==e.ruv&&(b=!!e.ruv);var E=!1,w=!1;2==e.cnl&&(E=!0),3==e.sl&&(E=!0,w=!0);var A=!0;void 0!==e.sv&&(A=!!+e.sv);var T=!0,S=!1;0==e.ap&&(T=!1,S=!0);var _=!1;2==e.sdl&&(_=!0);var L;L=e.se?e.se:a();var x=300,I=250;isNaN(e.w)||(x=e.w),isNaN(e.h)||(I=e.h);var D=!1;1==e.lvr&&(D=!0);var R,P=!1,C=[];1==e.app&&(P=!0);var V=null;e.tpt&&(V=e.tpt);var k={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(P){t.appParams={};var O=["appsu","appidfa","appv","appn","appb","appc","appaid"];for(R in O)O.hasOwnProperty(R)&&(k[O[R]]=!0,e[O[R]]&&(C.push(O[R]+"="+encodeURIComponent(e[O[R]])),t.appParams[O[R]]=e[O[R]]));!e.d&&e.appn&&(d="app://"+encodeURIComponent(e.appn))}var N=null;null!=e.jsv&&""!==e.jsv&&(N=!!+e.jsv);var j=e.ob,U=e.job,M=!1;e.hasOwnProperty("muted")&&"0"==e.muted&&(M=!0);var F=null;e.mas&&(F=e.mas);var B=P;e.ho&&"1"==e.ho&&(B=!0);var H=!1;e.hasOwnProperty("vos")&&"1"==e.vos&&(H=!0);var q="",J=[];for(var z in e)if(isNaN(z)&&!k[z]&&e.hasOwnProperty(z)&&(q=q+"&"+z+"="+e[z],"c"==z[0])){var W=parseInt(z.slice(1));!isNaN(W)&&W>=1&&W<=6&&(J[W]=e[z])}if(P){var Y=C.join("&");Y&&(q="&"+Y)}t.isApp=P,t.gpvExtraParams=q,t.customParams=J.length?J:null;var G=!1;isNaN(e.scb)||1!=e.scb||(G=!0);var Q=!1;return isNaN(e.ssb)||1!=e.ssb||(Q=!0),t.playerId=r,t.playerIds=n,t.subid=u,t.domain=d,t.sessionId=L,t.width=x,t.height=I,t.cacheBuster=c,t.divId=p,t.playerVersion=f,t.isDebugVersion=g,t.machineId=v,t.serverDomain=m,t.parallelStartAd=!0,t.freqRetry=!1,t.usejsv=!1,t.flashSupport=!1,t.forceJSV=N,t.htmlOnly=B,t.autoplayOverwrite=S,t.reuseVPW=b,t.viewableOnStart=H,t.closeButton=G,t.skipButton=Q,t.pageTitle=s.getPageTitle(),t.logDebugToConsole=E,t.keepDebugLog=_,t.keepDetailedDebugLog=w,t.logToHTML=!1,j||(t.info=l.getDeviceInfo()),t.logVastResponse=D,t.singleVPW=A,t.autoplay=T,t.allowLongImpressions=!1,t.allowSound=M,t.adsAfterContent=!1,t.maxAdStarts=F,t.noContentLoop=!1,t.mode="single",t.vpaidInitLimit=3,t.domainDetected=o.getDetectedDomain(),t.domain||(t.domain=t.domainDetected),t.protocol=o.getProtocol(t.domain),t.serverHost=function(e){return t.protocol+"//"+(e?e+"."+t.serverDomain:t.machineId)},t.conf={},t.conf.sUrl=t.serverHost("c"),t.conf.flName=y.indexOf("//")>=0?y:t.conf.sUrl+"/player/"+y,t.conf.pJsvUrl=t.conf.sUrl+"/player/jsv_pure_2.js",t.conf.maxDomLoadTimes=60,t.conf.domLoadRetryTimeout=200,t.conf.domLoadInitTimeout=500,t.conf.content={},t.conf.content.defaultLoader=t.conf.sUrl+"/player/spinner.gif",t.conf.content.playButton=t.conf.sUrl+"/player/play_button_gr.png",t.content={},(E||_)&&(t.debugLogReason="tag"),t.submitDebugLogOnPlayerError=!1,t.submitDebugLogOnVastError=!1,t.submitDebugLogForVastId=null,t.thirdPartyTimeout=V,t.jsCallingVpaid=U,t.flashCallingVpaid=j,t.hasVideoSupport=!0,s.msie&&s.msie.version<9&&(t.hasVideoSupport=!1),t.hasVideoSupport&&!s.supportsVideo()&&(t.hasVideoSupport=!1),i(t)}function i(e){return e.plist=[],e.curUniq=0,e.initialStartAd=null,e.reportVPWStateInterval=null,e.curAdStarts=0,e.gpvM="0",e.anyAdPlayed=!1,e.startTime=(new Date).getTime(),e.fpwReadyTime=null,e.scheduledPixelSent=!1,e.domReady=!1,e.domReadyTime=!1,e.anyPlaying=!1,e.gpvAttempt=0,e.widthOverwrite=null,e.heightOverwrite=null,e.gpvConfLoaded=!1,e.cedatoxPlayersToFetchesCount={},e}function a(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var o=r(2),s=r(14),l=r(100);t.configurePlayer=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(4),a=r(2),o=r(15),s=r(24),l="http://imasdk.googleapis.com/js/sdkloader/ima3.js",d=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.initMedia=function(){this.adContainer=this.players.divElem,this.videoElement=document.createElement("video"),this.videoElement.style.display="none",this.videoElement.className="ima-"+this.vastId,this.adContainer.appendChild(this.videoElement),this.width=this.players.width,this.height=this.players.height,this.silent=!0,this.msg="",this.isAdsRequested=!1,this.isStarted=!1,this.initGoogleSDK()},t.prototype.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.silent||console.log("["+this.vastId+"][GoogleIMA]",e,t)},t.prototype.initGoogleSDK=function(){var e=this;return"undefined"==typeof google?i.injectScriptOnce("google-ima-script-new",function(){return a.fixURLPrm(e.players.protocol,l)},function(){e.initAndRequest()}):void this.initAndRequest()},t.prototype.emitEvent=function(e,t){switch(this.log("EVENT",e,t,this.uniqId),e){case"sdkLoaded":s.LoadedFunc(this.players,this);break;case google.ima.AdErrorEvent.Type.AD_ERROR:s.AdErrorHandler(this.players,this,{errorMsg:t&&t.msg});break;case google.ima.AdEvent.Type.AD_BREAK_READY:break;case google.ima.AdEvent.Type.AD_METADATA:break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:break;case google.ima.AdEvent.Type.CLICK:s.AdClickthruHandler(this.players,this,{url:null});break;case google.ima.AdEvent.Type.DURATION_CHANGE:t.ad&&s.AdDurationChangeHandler(this.players,this,{t:t.ad.getDuration()});break;case google.ima.AdEvent.Type.STARTED:this.players.contentUrlPlayer&&this.players.contentUrlPlayer.hideContent(),s.AdStartedHandler(this.players,this);break;case google.ima.AdEvent.Type.IMPRESSION:s.AdImpressionHandler(this.players,this,null);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:s.AdFirstQuartileHandler(this.players,this);break;case google.ima.AdEvent.Type.MIDPOINT:s.AdMidpointHandler(this.players,this);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:s.AdThirdQuartileHandler(this.players,this);break;case google.ima.AdEvent.Type.COMPLETE:s.AdCompleteHandler(this.players,this);break;case google.ima.AdEvent.Type.LOADED:t&&t.ad&&(this.duration=t.ad.getDuration(),this.durationKnown=!0),s.AdLoadedHandler(this.players,this,null);break;case google.ima.AdEvent.Type.LINEAR_CHANGED:break;case google.ima.AdEvent.Type.LOG:break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:break;case google.ima.AdEvent.Type.SKIPPED:break;case google.ima.AdEvent.Type.USER_CLOSE:break;case google.ima.AdEvent.Type.VOLUME_CHANGED:break;case google.ima.AdEvent.Type.VOLUME_MUTED:break;case google.ima.AdEvent.Type.PAUSED:s.AdPausedHandler(this.players,this)}},t.prototype.initAndRequest=function(){this.log("initAndRequest",this.isAdsRequested),this.isAdsRequested||(this.isAdsRequested=!0,this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer),this.adDisplayContainer.initialize(),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.adTagUrl=this.mediaURL,this.adsRequest.linearAdSlotWidth=this.width,this.adsRequest.linearAdSlotHeight=this.height,this.adsLoader.requestAds(this.adsRequest))},t.prototype.clearAd=function(){this.log("clearAd");try{this.adDisplayContainer.destroy(),this.adsLoader.destroy(),this.adsManager.destroy(),this.adContainer.removeChild(this.videoElement)}catch(e){}},t.prototype.initAd=function(){this.log("initAd",this.width,this.height);try{this.adsManager.init(this.width,this.height,google.ima.ViewMode.NORMAL)}catch(e){this.log("Error",e)}},t.prototype.startAd=function(){this.log("startAd"),this.isStarted||(this.players.allowSound||this.adsManager.setVolume(0),this.adsManager&&this.adsManager.start&&(this.adsManager.start(),this.isStarted=!0))},t.prototype.stopAd=function(){this.log("stopAd"),this.adsManager&&this.adsManager.stop&&this.adsManager.stop()},t.prototype.resizeAd=function(e,t){this.log("resizeAd",this.width,this.height,e,t),this.width===e&&this.height===t||(this.width=e,this.height=e,this.adsManager&&this.adsManager.resize&&this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},t.prototype.setAdVolume=function(e){this.log("setAdVolume",this.volume,e),this.volume!==e&&this.adsManager&&this.adsManager.setVolume&&this.adsManager.setVolume(e)},t.prototype.pauseAd=function(){this.log("pauseAd"),this.adsManager.pause()},t.prototype.resumeAd=function(){this.log("resumeAd"),this.adsManager.resume()},t.prototype.onAdsManagerLoaded=function(e){this.log("onAdsManagerLoaded",e);var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=e.getAdsManager(this.videoElement,t),this.players.allowSound||this.adsManager.setVolume(0);var r=this.onAdEvent.bind(this),n=this.onAdProgressEvent.bind(this),i=this.onAdUserEvent.bind(this);this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.adBreakReadyHandler.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,i),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,i),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,i),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,i),this.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,i),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,i),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,i),this.emitEvent("sdkLoaded")},t.prototype.onAdEvent=function(e){this.log("onAdEvent ",e.type,e),this.emitEvent(e.type,{ad:e.getAd()})},t.prototype.onAdProgressEvent=function(e){this.log("onAdProgressEvent ",e.type,e),this.emitEvent(e.type)},t.prototype.onAdUserEvent=function(e){this.log("onAdUserEvent ",e.type,e),this.emitEvent(e.type)},t.prototype.onAdError=function(e){var t=e.getError();this.log("onAdError ",this.msg),this.adsManager&&this.adsManager.destroy(),this.emitEvent(google.ima.AdErrorEvent.Type.AD_ERROR,{msg:t.getMessage()})},t.prototype.onContentPauseRequested=function(){this.log("onContentPauseRequested "),this.emitEvent(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED),this.videoElement.pause()},t.prototype.onContentResumeRequested=function(){this.log("onContentResumeRequested "),this.emitEvent(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED),this.videoElement.play()},t.prototype.adBreakReadyHandler=function(e){this.log("adBreakReadyHandler ",e)},t}(o.PlayerData);t.PlayerDataGoogleIMA=d},function(e,t,r){"use strict";function n(e,t){if(!e.allowSound)try{t.vpaidJs.setAdVolume&&t.vpaidJs.setAdVolume(0)}catch(e){}}function i(e,t){if(!e.allowSound){var r=null;try{t.vpaidJs.setAdVolume?t.vpaidJs.setAdVolume(0):r="JS VPAID - setAdVolume not defined",0!=t.vpaidJs.getAdVolume()&&(r="JS VPAID - setAdVolume/getAdVolume do not match:"+t.vpaidJs.getAdVolume())}catch(e){r="JS VPAID - setAdVolume exception:"+(e&&e.message?e.message:"")}if(r&&!e.info.mobile&&(m.vpaidVolumeError(e,t,r),y))throw new Error(r)}}function a(e,t){if(!e.allowSound&&!e.info.mobile){var r=!0,n=null;try{if(0==t.vpaidJs.getAdVolume())return;t.adStartedAt?t.adStartedAt>(new Date).getTime()-1e3&&(r=!1,n="JS VPAID - AdVolume change too soon after adStarted"):n="JS VPAID - AdVolume change before adStarted",n&&(t.vpaidJs.setAdVolume(0),0==t.vpaidJs.getAdVolume()&&(r=!0,n="JS VPAID - AdVolume change reverted"))}catch(e){n="JS VPAID - AdVolumeChanged exception"+(e&&e.message?e.message:"")}if(m.vpaidVolumeChanged(e,t,r,n||"JS VPAID - AdVolume change allowed"),!r&&y)throw new Error(n)}}function o(e,t){t.jsVPAIDSubscriptions={};for(var r in b)if(b.hasOwnProperty(r)){var n=b[r],i=function(n){return function(i){null!=t.vpaidJs?n(i,e,t):m.vpaidJSDisappearedError(e,t,r)}}(n);t.vpaidJs.subscribe(i,r),t.jsVPAIDSubscriptions[r]=i}}function s(e){try{for(var t in b)b.hasOwnProperty(t)&&e.jsVPAIDSubscriptions[t]&&e.vpaidJs.unsubscribe(e.jsVPAIDSubscriptions[t],t)}catch(e){}e.jsVPAIDSubscriptions={}}var l=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},d=r(7),u=r(1),c=r(5),p=r(24),h=r(15),f=r(39),g=r(10),v=r(35),m=r(18),y=!1,b={AdLoaded:function(e,t,r){try{setTimeout(function(){p.AdLoadedHandler(t,r)},10),u.debugLogVast(t,r,"got js adLoaded event",!1)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdLoaded callback gave JS exception: ",e,r)}},AdError:function(e,t,r){try{"undefined"==typeof e?e="no message":"string"!=typeof e&&(e=e.message?e.message:e.data&&e.data.message?e.data.message:"Couldnt extract error message"),setTimeout(function(){p.AdErrorHandler(t,r,{errorMsg:e})},10),u.debugLogVast(t,r,"got js adError event: "+e,!1)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdError callback gave JS exception: ",e,r)}},AdStarted:function(e,t,r){try{u.debugLogVast(t,r,"got js adStarted event: ",!1),i(t,r),r.adStartedAt=(new Date).getTime(),setTimeout(function(){p.AdStartedHandler(t,r)},0)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdStarted callback gave JS exception: ",e,r),c.terminateVastAndContinue(t,r)}},AdImpression:function(e,t,r){try{setTimeout(function(){p.AdImpressionHandler(t,r)},10),u.debugLogVast(t,r,"got js adImpression event: ",!1),n(t,r)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdImpression callback gave JS exception: ",e,r)}},AdVideoStart:function(e,t,r){try{setTimeout(function(){p.AdVideoStartHandler(t,r)},10),u.debugLogVast(t,r,"got js AdVideoStart event",!1),n(t,r)}catch(e){c.vastError(t,r.vastId,3,"jsVPAdVideoStartFunc callback gave JS exception: ",e,r)}},AdVideoFirstQuartile:function(e,t,r){try{setTimeout(function(){p.AdFirstQuartileHandler(t,r)},10),u.debugLogVast(t,r,"got js FirstQuartile event",!1)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdFirstQuartile callback gave JS exception: ",e,r)}},AdVideoMidpoint:function(e,t,r){try{setTimeout(function(){p.AdMidpointHandler(t,r)},10),u.debugLogVast(t,r,"got js midpoint event",!1)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdMidpoint callback gave JS exception: ",e,r)}},AdVideoThirdQuartile:function(e,t,r){try{setTimeout(function(){p.AdThirdQuartileHandler(t,r)},0),u.debugLogVast(t,r,"got js adThirdQuartile event",!1)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdThirdQuartile callback gave JS exception: ",e,r)}},AdVideoComplete:function(e,t,r){try{u.debugLogVast(t,r,"got js adComplete event",!1),setTimeout(function(){p.AdCompleteHandler(t,r)},0)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdComplete callback gave JS exception: ",e,r)}},AdStopped:function(e,t,r){try{u.debugLogVast(t,r,"got js adStopped event",!1),setTimeout(function(){p.AdStoppedHandler(t,r)},10)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdStopped callback gave JS exception: ",e,r);
}},AdRemainingTimeChange:function(e,t,r){try{"undefined"==typeof e&&(e=!1);var n;try{n=r.vpaidJs.getAdRemainingTime()}catch(e){n=!1}if(!n&&(n=e,!n))try{n=r.vpaidJs.remainingTime}catch(e){}if(!n)return;setTimeout(function(){p.AdRemainingTimeChangeHandler(t,r,{t:n})},10)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdRemainingTimeChange callback gave JS exception: ",e,r)}},AdDurationChange:function(e,t,r){try{"undefined"==typeof e&&(e=!1);var n;try{n=r.vpaidJs.getAdDuration()}catch(e){n=!1}if(!n&&(n=e,!n))try{n=r.vpaidJs.duration}catch(e){}if(u.debugLogVast(t,r,"got js adDurationChange event, duration:"+n,!1),!n)return;setTimeout(function(){p.AdDurationChangeHandler(t,r,{t:n})},10),u.debugLogVast(t,r,"got js adDurationChange event, t:"+n,!1)}catch(e){c.vastError(t,r.vastId,3,"adDurationChange callback gave JS exception: ",e,r)}},AdClickThru:function(e,t,r){try{"undefined"==typeof e&&(e=""),setTimeout(function(){p.AdClickthruHandler(t,r,{url:e})},10),u.debugLogVast(t,r,"got js adClickthru event, url: "+e,!1)}catch(e){c.vastError(t,r.vastId,3,"jsVpaidAdClickthru callback gave JS exception: ",e,r)}},AdVolumeChange:function(e,t,r){try{u.debugLogVast(t,r,"got js adVolumeChange event",!1),a(t,r),setTimeout(function(){p.AdVolumeChangeHandler(t,r)},10)}catch(e){c.vastError(t,r.vastId,3,"jsAdVolumeChange callback gave JS exception: ",e,r),c.terminateVastAndContinue(t,r)}}},E=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.initMedia=function(){var e=this;this.vpaidJs=null,this.jsVPAIDElementDiv=null,f.loadJSVpaid(this.players,this).then(function(){o(e.players,e),u.debugLogVast(e.players,e,"VPAID JS element prepared",!1),p.LoadedFunc(e.players,e)}).catch(function(t){c.vastError(e.players,e.vastId,324,t.message,!1,e),e.state=d.PlayerDataState.Error,e.errorCount=e.errorCount+1,c.requeryPlayerVast(e.players,e)})},t.prototype.initAd=function(){var e={AdParameters:this.adParameters||{}},t=this.vpaidJs.initAd(this.players.widthOverwrite||this.players.width,this.players.heightOverwrite||this.players.height,"normal",4800,e,this.initAdEnvObject);if(this.players.usejsv&&this.players.mainAutoplay&&0==this.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&this.vpaidJsIframeVideo.appendChild(this.vpaidJsIframeVideoCanvas),!t&&"undefined"!=typeof t)return"jsVpaid error"},t.prototype.startAd=function(){this.flashElementDiv&&(this.flashElementDiv.style.display="none"),this.players.rootDivElem.style.top="0px",this.vpaidPlaying=1,this.players.allowSound||n(this.players,this);var e=this.vpaidJs.startAd()||"1";return"1"!=e?(v.handleErrorState(this.players,this),"jsVpaid error"):(this.sureFastStart=this.expectedSureFastStart,v.initStartAdHalfStopper(this.players,this),v.initStartAdStopper(this.players,this),null)},t.prototype.pauseAd=function(){this.vpaidJs&&this.vpaidJs.pauseAd&&this.vpaidJs.pauseAd()},t.prototype.resumeAd=function(){this.vpaidJs&&this.vpaidJs.resumeAd&&this.vpaidJs.resumeAd()},t.prototype.stopAd=function(){this.vpaidJs&&this.vpaidJs.stopAd&&this.vpaidJs.stopAd()},t.prototype.showAd=function(){this.jsVPAIDElementDiv.style.zIndex="10000",this.jsVPAIDElementDiv.style.position="absolute",this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex="10000"),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.margin="0",this.vpaidJsIframeVideo.style.padding="0",this.vpaidJsIframeVideo.style.top="0px",this.vpaidJsIframeVideo.style.left="0px",this.vpaidJsIframeVideo.style.position="absolute"),g.hideCallingFlashObject(this.players,this)},t.prototype.hideAd=function(){this.jsVPAIDElementDiv&&(this.jsVPAIDElementDiv.style.zIndex=(1-this.uniqId).toString()),this.vpaidJsIframeAdElem&&(this.vpaidJsIframeAdElem.style.zIndex=(1-this.uniqId).toString()),this.vpaidJsIframeVideo&&(this.vpaidJsIframeVideo.style.zIndex=(1-this.uniqId).toString())},t.prototype.clearAd=function(){this.jsVPAIDElementDiv&&(this.jsVPAIDElementDiv.style.display="none");try{this.vpaidJs&&(this.vpaidJs.stopAd(),this.vpaidJs.clearAd&&this.vpaidJs.clearAd(),s(this))}catch(e){}try{if(this.jsVPAIDElementDiv){var e=this.jsVPAIDElementDiv;setTimeout(function(){e.parentNode.removeChild(e)},1e3)}}catch(e){}this.jsVpaidFrame=null,this.vpaidJsIframeAdElem=null,this.vpaidJsIframeVideo=null,this.vpaidJsIframeVideoCanvas=null,this.vpaidJs=null,this.jsVPAIDElementDiv=null},t.prototype.resizeAd=function(e,t,r){this.vpaidJs&&this.vpaidJs.resizeAd&&this.vpaidJs.resizeAd(e,t,r)},t.prototype.setAdVolume=function(e){this.vpaidJs&&this.vpaidJs.setAdVolume&&this.vpaidJs.setAdVolume(e)},t}(h.PlayerData);t.PlayerDataVpaidJs=E},function(e,t,r){"use strict";function n(e){var t=null,r="data-cedato-used";if(document.querySelectorAll)try{t=document.querySelectorAll("[id='"+e.divId+"']:not(["+r+"])")[0]}catch(e){}if(!t){var n=document.getElementById(e.divId);n&&!n.hasAttribute(r)&&(t=n)}if(!t&&(e.currentScript||(e.currentScript=d.getScriptTag(e.cacheBuster)),e.currentScript&&e.currentScript.parentNode)){var i=e.currentScript.parentNode;i.id.indexOf("video"+e.playerId)===-1||i.hasAttribute(r)||(t=i)}return t&&t.setAttribute(r,"used"),t}function i(e,t){if(e.domReadyTime===!1)try{if(s.debugLog(e,"on dom load",!1),e.rootDivElem||(e.rootDivElem=n(e)),!e.rootDivElem){if(t>e.conf.maxDomLoadTimes)e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),l.playerError(e,6,"div element not found playerDomLoaded: "+e.divId);else{s.debugLog(e,"domload timeout "+t+" retrying in "+e.conf.domLoadRetryTimeout,!1),e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null);var r=function(e,t){try{s.debugLog(e,"domload timeout",!1),e.domLoadTimeout=null,e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),i(e,t+1)}catch(e){}};e.domLoadTimeout=setTimeout(function(){r(e,t)},e.conf.domLoadRetryTimeout)}return}if(e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),e.domReadyTime=u.getFixedAgoTime(e.startTime),s.debugLog(e,"ondomload - adding div",!1),o.init(e.rootDivElem),e.widthOverwrite&&e.heightOverwrite)e.width=e.widthOverwrite,e.height=e.heightOverwrite,e.rootDivElem.style.width=e.width+"px",e.rootDivElem.style.height=e.height+"px";else{var a=e.rootDivElem.offsetWidth,d=e.rootDivElem.offsetHeight;if(a&&d&&0!==a&&0!==d||(a=e.rootDivElem.clientWidth,d=e.rootDivElem.clientHeight),!a||!d||0===a||0===d){var c=e.rootDivElem.getBoundingClientRect();d=c.height,a=c.width}e.width=a,e.height=d}e.divElem=document.createElement("div"),e.divElem.id=o.Ids.rootContainer,e.rootDivElem.appendChild(e.divElem),e.closeButton&&h.showCloseButton(e),s.debugLog(e,"ondomload - creating rotator",!1),h.createRotator(e),e.domReady=!0,p.postPrepareAllPlayerDatas(e)}catch(t){l.playerError(e,3,"playerDomLoaded gave JS exception: "+t.message,t)}}function a(e){if(c.resetReadyForStartAd(e),"single"==e.mode&&e.flashSupport){e.domLoadTimeout=null;var t=function(){e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),i(e,1)},r=function(){try{t()}catch(t){l.playerError(e,3,"ondomload gave JS exception: "+t.message,t),s.debugLog(e,"ondomload gave JS exception: "+t.message,!1)}};e.SwfObject.addDomLoadEvent(r);var n=function(e){try{s.debugLog(e,"domload timeout",!1),t()}catch(e){}};e.domLoadTimeout=setTimeout(function(){n(e)},e.conf.domLoadInitTimeout)}else e.domLoadTimeout=setTimeout(function(){i(e,1)},0)}var o=r(25),s=r(1),l=r(3),d=r(42),u=r(4),c=r(36),p=r(6),h=r(9);t.getRootDivElem=n,t.playerStart=i,t.playerDomLoaded=a},function(e,t,r){"use strict";function n(e,t,r,u,p){d.requestWithAjax({timeout:c,url:r,withCredentials:u}).then(function(n){if(n.status>=400)return t.vastResponseError={code:a.ERROR_RESPONSE,message:"xhr response to url "+r+" gave error "+n.status},null;try{e.logVastResponse&&(s.debugLog(e,"vastId "+t.vastId+" - xhr response to url "+r,!1),s.debugLog(e,n.responseText,!1)),p(null,o.getXML(n))}catch(n){n.message.indexOf("cross-origin")==-1?l.vastError(e,t.vastId,3,"xhr onload JS exception: ",n,t):e.logVastResponse&&s.debugLog(e,"vastId "+t.vastId+" - xhr response to url "+r+" gave cross origin error",!1),p(null,null)}},function(a){i(e,t,r,a),u?(s.debugLog(e,"vastId "+t.vastId+" - xhr error, retrying without credentials, url: "+r,!1),n(e,t,r,!u,p)):p(null,null)}),e.logVastResponse&&s.debugLog(e,"vastId "+t.vastId+" - xhr request send called url "+r+", credentials: "+u,!1)}function i(e,t,r,n){switch(s.debugLog(e,"vastId "+t.vastId+" - xhr error, response failed",!1),n.code){case d.HTTP.ERR_NO_SUPPORTED_XHR:s.debugLog(e,"vastId "+t.vastId+" - no supported xhr object",!1);break;case d.HTTP.ERR_OPEN:s.debugLog(e,"vastId "+t.vastId+" - xhr open failed with error: "+n.data&&n.data.message,!1);break;case d.HTTP.ERR_SEND:s.debugLog(e,"vastId "+t.vastId+" - xhr send failed with error: "+n.data&&n.data.message,!1);break;case d.HTTP.ERR_AFTER_SEND:break;case d.HTTP.ERR_TIMEOUT:s.debugLog(e,"vastId "+t.vastId+" - timeout error, url: "+r,!1);break;case d.HTTP.ERR_UNKNOWN:n.data&&n.data.message.indexOf("101")==-1&&2153644038!=n.data.result?l.vastError(e,t.vastId,3,"vastURLHandler JS exception: ",n.data,t):s.debugLog(e,"vastId "+t.vastId+" - xhr response gave cross origin exception",!1)}}var a,o=r(14),s=r(1),l=r(5),d=r(26),u=r(2);!function(e){e[e.INVALID_REQUEST=1]="INVALID_REQUEST",e[e.ERROR_RESPONSE=2]="ERROR_RESPONSE"}(a||(a={}));var c=12e4,p=function(){function e(e,t){this.players=e,this.playerData=t}return e.prototype.xhr=function(){return o.createXMLHTTPObject()},e.prototype.supported=function(){return!!this.xhr()},e.prototype.get=function(e,t,r){if(this.playerData.vastResponseError=null,this.players.logVastResponse&&s.debugLog(this.players,"vastId "+this.playerData.vastId+" - xhr request url "+e,!1),e.indexOf("noad.xml")!==-1)return void r(null,null);var i=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(i)try{var l=";base64"==i[2]?atob(i[3]):decodeURIComponent(i[3]),d=o.parseTextToXML(l);return r(null,d)}catch(e){return this.playerData.vastResponseError={code:a.INVALID_REQUEST,message:"Inline VAST failed: "+e.message},null}if(e=u.fixURLPrm(this.players.protocol,e),!e)return this.playerData.vastResponseError={code:a.INVALID_REQUEST,message:"Invalid VAST url"},null;o.oldIE&&e.indexOf(this.players.protocol)==-1&&(e=this.players.protocol+e.substr(e.indexOf("/")),s.debugLog(this.players,"vastId "+this.playerData.vastId+" - old ie and different scheme, adjusting url to "+e,!1));var c=!u.isFileProtocol()&&"withCredentials"in this.xhr();n(this.players,this.playerData,e,c,r)},e}();t.VastUrlHandler=p},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(6),a=r(15),o=r(12),s=r(2),l=r(10),d=r(18),u=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.initMedia=function(){if(this.videoElement||i.prepareVideoElem(this.players,this),o.logVastLoaded(this.players,this),this.players.usejsv){var e=s.getVprUrl(this.mediaURL,this.players);this.videoElement.setAttribute("src",e)}else this.videoElement.src=s.fixURLPrm(this.players.protocol,this.mediaURL),this.videoElement.preload="auto",this.videoElement.autoplay=!1,this.videoElement.controls=this.players.controlBar,this.videoElement.loop=!1,this.videoElement.load();this.players.allowSound||(this.videoElement.volume=0)},t.prototype.startAd=function(){this.videoElement.style.display="block",this.videoElement.style.zIndex="9999",this.sureFastStart=!0,this.players.divElem.appendChild(this.videoElement),d.validateVideoStart(this.players,this.videoElement,this.videoElement.play(),"vast")},t.prototype.pauseAd=function(){this.videoElement.pause()},t.prototype.resumeAd=function(){this.videoElement.play()},t.prototype.stopAd=function(){this.videoElement.pause()},t.prototype.showAd=function(){this.videoElement.style.zIndex="10000",this.videoElement.style.position="absolute",l.hideCallingFlashObject(this.players,this)},t.prototype.hideAd=function(){this.videoElement&&(this.videoElement.style.display="none")},t.prototype.clearAd=function(){this.videoElement&&this.videoElement.parentNode&&this.videoElement.parentNode.removeChild(this.videoElement)},t.prototype.setAdVolume=function(e,t){t&&"undefined"!=typeof t?(this.videoElement.muted=0==e,e&&this.videoElement.volume!=e&&(this.videoElement.volume=e)):(this.videoElement.muted=!1,this.videoElement.volume=e)},t}(a.PlayerData);t.PlayerDataVideo=u},function(e,t){(function(){var t;t=function(){function e(){this.id=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]}return e}(),e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}return e}(),e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(){this.attributes={},this.children=[]}return e}(),e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(){this.name=null,this.value=null,this.attributes={}}return e}(),e.exports=t}).call(this)},function(e,t,r){(function(){e.exports={client:r(43),tracker:r(69),parser:r(44),util:r(28)}}).call(this)},function(e,t){(function(){var t;t=function(){function e(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}return e}(),e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(){this.id=null,this.width=0,this.height=0,this.minSuggestedDuration="00:00:00",this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null}return e}(),e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(){this.ads=[],this.errorURLTemplates=[]}return e}(),e.exports=t}).call(this)},function(e,t,r){(function(){var t,n,i,a,o,s={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=r(43),o=r(28),i=r(27).VASTCreativeLinear,t=r(20).EventEmitter,a=function(e){function t(e,t){var r,a,o;this.ad=e,this.creative=t,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],o=this.creative.trackingEvents;for(r in o)a=o[r],this.trackingEvents[r]=a.slice(0);this.creative instanceof i?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){n.lastSuccessfullAd=+new Date})}return l(t,e),t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,r,n,i,a,o,s,l,d;if(a=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,a===-1||this.skipable||(a>e?this.emit("skip-countdown",a-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(r=[],e>0){r.push("start"),n=Math.round(e/this.assetDuration*100),r.push("progress-"+n+"%"),r.push("progress-"+Math.round(e)),d=this.quartiles;for(i in d)o=d[i],o<=e&&e<=o+1&&r.push(i)}for(s=0,l=r.length;s<l;s++)t=r[s],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setSkipDelay=function(e){if("number"==typeof e)return this.skipDelay=e},t.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.stop=function(){},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t,r;if((null!=(r=this.clickTrackingURLTemplates)?r.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(t={CONTENTPLAYHEAD:this.progressFormated()}),e=o.resolveURLTemplates([this.clickThroughURLTemplate],t)[0],this.emit("clickthrough",e)},t.prototype.track=function(e,t){var r,n;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),n=this.trackingEvents[e],r=this.emitAlwaysEvents.indexOf(e),null!=n?(this.emit(e,""),this.trackURLs(n)):r!==-1&&this.emit(e,""),t===!0&&(delete this.trackingEvents[e],r>-1&&this.emitAlwaysEvents.splice(r,1))},t.prototype.trackURLs=function(e,t){return null==t&&(t={}),this.linear&&(t.CONTENTPLAYHEAD=this.progressFormated()),o.track(e,t)},t.prototype.progressFormated=function(){var e,t,r,n,i;return i=parseInt(this.progress),e=i/3600,e.length<2&&(e="0"+e),t=i/60%60,t.length<2&&(t="0"+t),n=i%60,n.length<2&&(n="0"+t),r=parseInt(100*(this.progress-i)),""+e+":"+t+":"+n+"."+r},t}(t),e.exports=a}).call(this)},function(e,t,r){(function(){var t,n,i;i=r(73),n=r(71),t=function(){function e(){}return e.get=function(e,t,a){var o;return a||("function"==typeof t&&(a=t),t={}),null!=t.response?a(null,t.response):(null!=(o=t.urlhandler)?o.supported():void 0)?t.urlhandler.get(e,t,a):"undefined"==typeof window||null===window?r(72).get(e,t,a):i.supported()?i.get(e,t,a):n.supported()?n.get(e,t,a):a()},e}(),e.exports=t}).call(this)},function(e,t){(function(){var t;t=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,r){var n,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,n=this.xdr(),n.open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=function(){return i.loadXML(n.responseText),r(null,i)}):r()},e}(),e.exports=t}).call(this)},function(e,t,r){(function(){var t,n,i,a,o;o=r(50),i=r(77),a=r(81),t=r(74).DOMParser,n=function(){function e(){}return e.get=function(e,r,n){var s,l,d,u,c;return e=o.parse(e),"file:"===e.protocol?i.readFile(e.pathname,"utf8",function(e,r){var i;return e?n(e):(i=(new t).parseFromString(r),n(null,i))}):(s="",u=function(e){return function(){return e.abort()}},d=a.get(e.href,function(e){return e.on("data",function(e){var t;return s+=e,clearTimeout(t),t=setTimeout(l,r.timeout||12e4)}),e.on("end",function(){var e;return clearTimeout(c),e=(new t).parseFromString(s),n(null,e)})}),d.on("error",function(e){return clearTimeout(c),n(e)}),l=u(d),c=setTimeout(l,r.timeout||12e4))},e}(),e.exports=n}).call(this)},function(e,t){(function(){var t;t=function(){function e(){}return e.xhr=function(){var e;if(e=new window.XMLHttpRequest,"withCredentials"in e)return e},e.supported=function(){return!!this.xhr()},e.get=function(e,t,r){var n;if("https:"===window.location.protocol&&0===e.indexOf("http://"))return r(new Error("Cannot go from HTTPS to HTTP."));try{return n=this.xhr(),n.open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.overrideMimeType("text/xml"),n.send(),n.onreadystatechange=function(){if(4===n.readyState)return r(null,n.responseXML)}}catch(e){return r()}},e}(),e.exports=t}).call(this)},function(e,t,r){function n(e){this.options=e||{locator:{}}}function i(e,t,r){function n(t){var n=e[t];if(!n)if(o)n=2==e.length?function(r){e(t,r)}:e;else for(var a=arguments.length;--a&&!(n=e[arguments[a]]););i[t]=n&&function(e){n(e+s(r))}||function(){}}if(!e){if(t instanceof a)return t;e=t}var i={},o=e instanceof Function;return r=r||{},n("warning","warn"),n("error","warn","warning"),n("fatalError","warn","warning","error"),i}function a(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function l(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function d(e,t){e.currentElement?e.currentElement.appendChild(t):e.document.appendChild(t)}n.prototype.parseFromString=function(e,t){var r=this.options,n=new u,o=r.domBuilder||new a,s=r.errorHandler,l=r.locator,d=r.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&o.setDocumentLocator(l),n.errorHandler=i(s,o,l),n.domBuilder=r.domBuilder||o,/\/x?html?$/.test(t)&&(c.nbsp=" ",c.copy="©",d[""]="http://www.w3.org/1999/xhtml"),e?n.parse(e,d,c):n.errorHandler.error("invalid document source"),o.document},a.prototype={startDocument:function(){this.document=(new c).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.document,a=i.createElementNS(e,r||t),s=n.length;d(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var l=0;l<s;l++){var e=n.getURI(l),u=n.getValue(l),r=n.getQName(l),c=i.createAttributeNS(e,r);c.getOffset&&o(c.getOffset(1),c),c.value=c.nodeValue=u,a.setAttributeNode(c)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.document.createProcessingInstruction(e,t);this.locator&&o(this.locator,r),d(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=l.apply(this,arguments),this.currentElement&&e){if(this.cdata){var n=this.document.createCDATASection(e);this.currentElement.appendChild(n)}else{var n=this.document.createTextNode(e);this.currentElement.appendChild(n)}this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=l.apply(this,arguments);var n=this.document.createComment(e);this.locator&&o(this.locator,n),d(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.document.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&o(this.locator,i),d(this,i)}},warning:function(e){console.warn(e,s(this.locator))},error:function(e){console.error(e,s(this.locator))},fatalError:function(e){throw console.error(e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){a.prototype[e]=function(){return null}});var u=r(75).XMLReader,c=t.DOMImplementation=r(45).DOMImplementation;t.XMLSerializer=r(45).XMLSerializer,t.DOMParser=n},function(e,t,r){function n(){}function i(e,t,r,n,i){function u(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}function f(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?u(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function g(t){var r=e.substring(T,t).replace(/&#?\w+;/g,f);E&&v(T),n.characters(r,0,t-T),T=t}function v(t,r){for(;t>=y&&(r=b.exec(e));)m=r.index,y=m+r[0].length,E.lineNumber++;E.columnNumber=t-m+1}for(var m=0,y=0,b=/.+(?:\r\n?|\n)|.*$/g,E=n.locator,w=[{currentNSMap:t}],A={},T=0;;){var S=e.indexOf("<",T);if(S<0){if(!e.substr(T).match(/^\s*$/)){var _=n.document,L=_.createTextNode(e.substr(T));_.appendChild(L),n.currentElement=L}return}switch(S>T&&g(S),e.charAt(S+1)){case"/":var x=e.indexOf(">",S+3),I=e.substring(S+2,x),D=w.pop(),R=D.localNSMap;if(D.tagName!=I&&i.fatalError("end tag name: "+I+" is not match the current start tagName:"+D.tagName),n.endElement(D.uri,D.localName,I),R)for(var P in R)n.endPrefixMapping(P);x++;break;case"?":E&&v(S),x=p(e,S,n);break;case"!":E&&v(S),x=c(e,S,n,i);break;default:try{E&&v(S);var C=new h,x=o(e,S,C,f,i),V=C.length;if(V&&E){for(var k=a(E,{}),S=0;S<V;S++){var O=C[S];v(O.offset),O.offset=a(E,{})}a(k,E)}!C.closed&&d(e,x,C.tagName,A)&&(C.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),s(C,n,w),"http://www.w3.org/1999/xhtml"!==C.uri||C.closed?x++:x=l(e,x,C.tagName,f,n)}catch(e){i.error("element parse error: "+e),x=-1}}x<0?g(S+1):T=x}}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function o(e,t,r,n,i){for(var a,o,s=++t,l=b;;){var d=e.charAt(s);switch(d){case"=":if(l===E)a=e.slice(t,s),l=A;else{if(l!==w)throw new Error("attribute equal must after attrName");l=A}break;case"'":case'"':if(l===A){if(t=s+1,s=e.indexOf(d,t),!(s>0))throw new Error("attribute value no end '"+d+"' match");o=e.slice(t,s).replace(/&#?\w+;/g,n),r.add(a,o,t-1),l=S}else{if(l!=T)throw new Error('attribute value must after "="');o=e.slice(t,s).replace(/&#?\w+;/g,n),r.add(a,o,t),i.warning('attribute "'+a+'" missed start quot('+d+")!!"),t=s+1,l=S}break;case"/":switch(l){case b:r.setTagName(e.slice(t,s));case S:case _:case L:l=L,r.closed=!0;case T:case E:case w:break;default:throw new Error("attribute invalid close char('/')")}break;case"":i.error("unexpected end of input");case">":switch(l){case b:r.setTagName(e.slice(t,s));case S:case _:case L:break;case T:case E:o=e.slice(t,s),"/"===o.slice(-1)&&(r.closed=!0,o=o.slice(0,-1));case w:l===w&&(o=a),l==T?(i.warning('attribute "'+o+'" missed quot(")!!'),r.add(a,o.replace(/&#?\w+;/g,n),t)):(i.warning('attribute "'+o+'" missed value!! "'+o+'" instead!!'),r.add(o,o,t));break;case A:throw new Error("attribute value missed!!")}return s;case"":d=" ";default:if(d<=" ")switch(l){case b:r.setTagName(e.slice(t,s)),l=_;break;case E:a=e.slice(t,s),l=w;break;case T:var o=e.slice(t,s).replace(/&#?\w+;/g,n);i.warning('attribute "'+o+'" missed quot(")!!'),r.add(a,o,t);case S:l=_}else switch(l){case w:i.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!'),r.add(a,a,t),t=s,l=E;break;case S:i.warning('attribute space is required"'+a+'"!!');case _:l=E,t=s;break;case A:l=T,t=s;break;case L:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function s(e,t,r){for(var n=e.tagName,i=null,a=r[r.length-1].currentNSMap,o=e.length;o--;){var s=e[o],l=s.qName,d=s.value,c=l.indexOf(":");if(c>0)var p=s.prefix=l.slice(0,c),h=l.slice(c+1),f="xmlns"===p&&h;else h=l,p=null,f="xmlns"===l&&"";s.localName=h,f!==!1&&(null==i&&(i={},u(a,a={})),a[f]=i[f]=d,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,d))}for(var o=e.length;o--;){s=e[o];var p=s.prefix;p&&("xml"===p&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==p&&(s.uri=a[p]))}var c=n.indexOf(":");c>0?(p=e.prefix=n.slice(0,c),h=e.localName=n.slice(c+1)):(p=null,h=e.localName=n);var g=e.uri=a[p||""];if(t.startElement(g,h,n,e),e.closed){if(t.endElement(g,h,n),i)for(p in i)t.endPrefixMapping(p)}else e.currentNSMap=a,e.localNSMap=i,r.push(e)}function l(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),a)}return t+1}function d(e,t,r,n){var i=n[r];return null==i&&(i=n[r]=e.lastIndexOf("</"+r+">")),i<t}function u(e,t){for(var r in e)t[r]=e[r]}function c(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if("-"===e.charAt(t+3)){var a=e.indexOf("-->",t+4);return a>t?(r.comment(e,t+4,a-t-4),a+3):(n.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){var a=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3}var o=g(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],d=s>3&&/^public$/i.test(o[2][0])&&o[3][0],u=s>4&&o[4][0],c=o[s-1];return r.startDTD(l,d&&d.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),c.index+c[0].length}}return-1}function p(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return r.processingInstruction(i[1],i[2]),n+2}return-1}return-1}function h(e){}function f(e,t){return e.__proto__=t,e}function g(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}var v=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=new RegExp("[\\-\\.0-9"+v.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]"),y=new RegExp("^"+v.source+m.source+"*(?::"+v.source+m.source+"*)?$"),b=0,E=1,w=2,A=3,T=4,S=5,_=6,L=7;n.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),u(t,t={}),i(e,t,r,n,this.errorHandler),n.endDocument()}},h.prototype={setTagName:function(e){if(!y.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!y.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},f({},f.prototype)instanceof f||(f=function(e,t){function r(){}r.prototype=t,r=new r;for(t in e)r[t]=e[t];return r}),t.XMLReader=n},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){},function(e,t){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-r(e)}function i(e){var t,n,i,a,o,s,l=e.length;o=r(e),s=new u(3*l/4-o),i=o>0?l-4:l;var c=0;for(t=0,n=0;t<i;t+=4,n+=3)a=d[e.charCodeAt(t)]<<18|d[e.charCodeAt(t+1)]<<12|d[e.charCodeAt(t+2)]<<6|d[e.charCodeAt(t+3)],s[c++]=a>>16&255,s[c++]=a>>8&255,s[c++]=255&a;return 2===o?(a=d[e.charCodeAt(t)]<<2|d[e.charCodeAt(t+1)]>>4,s[c++]=255&a):1===o&&(a=d[e.charCodeAt(t)]<<10|d[e.charCodeAt(t+1)]<<4|d[e.charCodeAt(t+2)]>>2,s[c++]=a>>8&255,s[c++]=255&a),s}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function o(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(n));return i.join("")}function s(e){for(var t,r=e.length,n=r%3,i="",a=[],s=16383,d=0,u=r-n;d<u;d+=s)a.push(o(e,d,d+s>u?u:d+s));return 1===n?(t=e[r-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),a.push(i),a.join("")}t.byteLength=n,t.toByteArray=i,t.fromByteArray=s;for(var l=[],d=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=c.length;p<h;++p)l[p]=c[p],d[c.charCodeAt(p)]=p;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,d=l>>1,u=-7,c=r?i-1:0,p=r?-1:1,h=e[t+c];for(c+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+c],c+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+c],c+=p,u-=8);if(0===a)a=1-d;else{if(a===l)return o?NaN:(h?-1:1)*(1/0);o+=Math.pow(2,n),a-=d}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){
var o,s,l,d=8*a-i-1,u=(1<<d)-1,c=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+c>=1?p/l:p*Math.pow(2,1-c),t*l>=2&&(o++,l/=2),o+c>=u?(s=0,o=u):o+c>=1?(s=(t*l-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,d+=i;d>0;e[r+h]=255&o,h+=f,o/=256,d-=8);e[r+h-f]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n=e.exports,i=(r(20).EventEmitter,r(82)),a=r(50);n.request=function(e,t){"string"==typeof e&&(e=a.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.protocol||(e.scheme?e.protocol=e.scheme+":":e.protocol=window.location.protocol),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https:"==e.protocol?443:80);var r=new i(new o,e);return t&&r.on("response",t),r},n.get=function(e,t){e.method="GET";var r=n.request(e,t);return r.end(),r},n.Agent=function(){},n.Agent.defaultMaxSockets=4;var o=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var r=new window.ActiveXObject(e[t]);return function(){if(r){var n=r;return r=null,n}return new window.ActiveXObject(e[t])}}catch(e){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();n.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){var n=r(17),i=r(83),a=r(84),o=r(85),s=e.exports=function(e,t){var r=this;r.writable=!0,r.xhr=e,r.body=[],r.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(e){}if(t.responseType)try{e.responseType=t.responseType}catch(e){}if(e.open(t.method||"GET",r.uri,!0),e.onerror=function(e){r.emit("error",new Error("Network error"))},r._headers={},t.headers)for(var n=l(t.headers),o=0;o<n.length;o++){var s=n[o];if(r.isSafeRequestHeader(s)){var d=t.headers[s];r.setHeader(s,d)}}t.auth&&this.setHeader("Authorization","Basic "+a.btoa(t.auth));var u=new i;u.on("close",function(){r.emit("close")}),u.on("ready",function(){r.emit("response",u)}),u.on("error",function(e){r.emit("error",e)}),e.onreadystatechange=function(){e.__aborted||u.handle(e)}};o(s,n),s.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},s.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},s.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},s.prototype.write=function(e){this.body.push(e)},s.prototype.destroy=function(e){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},s.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=l(this._headers),r=0;r<t.length;r++){var n=t[r],i=this._headers[n];if(d(i))for(var a=0;a<i.length;a++)this.xhr.setRequestHeader(n,i[a]);else this.xhr.setRequestHeader(n,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(d(this.body[0])){for(var o=[],r=0;r<this.body.length;r++)o.push.apply(o,this.body[r]);this.xhr.send(o)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var s=0,r=0;r<this.body.length;r++)s+=this.body[r].length;for(var o=new this.body[0].constructor(s),u=0,r=0;r<this.body.length;r++)for(var p=this.body[r],a=0;a<p.length;a++)o[u++]=p[a];this.xhr.send(o)}else if(c(this.body[0]))this.xhr.send(this.body[0]);else{for(var o="",r=0;r<this.body.length;r++)o+=this.body[r].toString();this.xhr.send(o)}},s.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],s.prototype.isSafeRequestHeader=function(e){return!!e&&u(s.unsafeHeaders,e.toLowerCase())===-1};var l=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},c=function(e){return"undefined"!=typeof Blob&&e instanceof Blob||("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||("undefined"!=typeof FormData&&e instanceof FormData||void 0))}},function(e,t,r){function n(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),r={},n=0;n<t.length;n++){var i=t[n];if(""!==i){var a=i.match(/^([^:]+):\s*(.*)/);if(a){var o=a[1].toLowerCase(),s=a[2];void 0!==r[o]?l(r[o])?r[o].push(s):r[o]=[r[o],s]:r[o]=s}else r[i]=!0}}return r}var i=r(17),a=r(99),o=e.exports=function(e){this.offset=0,this.readable=!0};a.inherits(o,i);var s={streaming:!0,status2:!0};o.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},o.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},o.prototype.handle=function(e){if(2===e.readyState&&s.status2){try{this.statusCode=e.status,this.headers=n(e)}catch(e){s.status2=!1}s.status2&&this.emit("ready")}else if(s.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=n(e),this.emit("ready"))}catch(e){}try{this._emitData(e)}catch(e){s.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},o.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){!function(){function e(e){this.message=e}var r=t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",r.btoa||(r.btoa=function(t){for(var r,i,a=0,o=n,s="";t.charAt(0|a)||(o="=",a%1);s+=o.charAt(63&r>>8-a%1*8)){if(i=t.charCodeAt(a+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return s}),r.atob||(r.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,a=0,o=0,s="";i=t.charAt(o++);~i&&(r=a%4?64*r+i:i,a++%4)?s+=String.fromCharCode(255&r>>(-2*a&6)):0)i=n.indexOf(i);return s})}()},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){e.exports=r(13)},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){e.exports=r(47)},function(e,t,r){(function(n){t=e.exports=r(48),t.Stream=r(17),t.Readable=t,t.Writable=r(38),t.Duplex=r(13),t.Transform=r(37),t.PassThrough=r(47),n.browser||"disable"!==n.env.READABLE_STREAM||(e.exports=r(17))}).call(t,r(16))},function(e,t,r){e.exports=r(37)},function(e,t,r){e.exports=r(38)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){var n;(function(e,i){!function(a){function o(e){throw RangeError(C[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function l(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(P,".");var i=e.split("."),a=s(i,t).join(".");return n+a}function d(e){for(var t,r,n=[],i=0,a=e.length;i<a;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<a?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function u(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=O(e>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,r){var n=0;for(e=r?k(e/_):e>>1,e+=k(e/t);e>V*T>>1;n+=w)e=k(e/V);return k(n+(V+1)*e/(e+S))}function f(e){var t,r,n,i,a,s,l,d,p,f,g=[],v=e.length,m=0,y=x,b=L;for(r=e.lastIndexOf(I),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&o("not-basic"),g.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<v;){for(a=m,s=1,l=w;i>=v&&o("invalid-input"),d=c(e.charCodeAt(i++)),(d>=w||d>k((E-m)/s))&&o("overflow"),m+=d*s,p=l<=b?A:l>=b+T?T:l-b,!(d<p);l+=w)f=w-p,s>k(E/f)&&o("overflow"),s*=f;t=g.length+1,b=h(m-a,t,0==a),k(m/t)>E-y&&o("overflow"),y+=k(m/t),m%=t,g.splice(m++,0,y)}return u(g)}function g(e){var t,r,n,i,a,s,l,u,c,f,g,v,m,y,b,S=[];for(e=d(e),v=e.length,t=x,r=0,a=L,s=0;s<v;++s)g=e[s],g<128&&S.push(O(g));for(n=i=S.length,i&&S.push(I);n<v;){for(l=E,s=0;s<v;++s)g=e[s],g>=t&&g<l&&(l=g);for(m=n+1,l-t>k((E-r)/m)&&o("overflow"),r+=(l-t)*m,t=l,s=0;s<v;++s)if(g=e[s],g<t&&++r>E&&o("overflow"),g==t){for(u=r,c=w;f=c<=a?A:c>=a+T?T:c-a,!(u<f);c+=w)b=u-f,y=w-f,S.push(O(p(f+b%y,0))),u=k(b/y);S.push(O(p(u,0))),a=h(r,m,n==i),r=0,++n}++r,++t}return S.join("")}function v(e){return l(e,function(e){return D.test(e)?f(e.slice(4).toLowerCase()):e})}function m(e){return l(e,function(e){return R.test(e)?"xn--"+g(e):e})}var y=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);y.global!==y&&y.window!==y&&y.self!==y||(a=y);var b,E=2147483647,w=36,A=1,T=26,S=38,_=700,L=72,x=128,I="-",D=/^xn--/,R=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=w-A,k=Math.floor,O=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:d,encode:u},decode:f,encode:g,toASCII:m,toUnicode:v},n=function(){return b}.call(t,r,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,r(46)(e),function(){return this}())},function(e,t){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var d=0;d<l;++d){var u,c,p,h,f=e[d].replace(o,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),c=f.substr(g+1)):(u=f,c=""),p=decodeURIComponent(u),h=decodeURIComponent(c),r(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},function(e,t){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var a=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map(function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[i]))}).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""}},function(e,t,r){"use strict";t.decode=t.parse=r(94),t.encode=t.stringify=r(95)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){(function(e,n){function i(e,r){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),l(n,e,n.depth)}function a(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function o(e,t){return e}function s(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function l(e,r,n){if(e.customInspect&&r&&L(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return b(i)||(i=l(e,i,n)),i}var a=d(e,r);if(a)return a;var o=Object.keys(r),g=s(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),_(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(r);if(0===o.length){if(L(r)){var v=r.name?": "+r.name:"";return e.stylize("[Function"+v+"]","special")}if(A(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(_(r))return u(r)}var m="",y=!1,E=["{","}"];if(f(r)&&(y=!0,E=["[","]"]),L(r)){var w=r.name?": "+r.name:"";m=" [Function"+w+"]"}if(A(r)&&(m=" "+RegExp.prototype.toString.call(r)),S(r)&&(m=" "+Date.prototype.toUTCString.call(r)),_(r)&&(m=" "+u(r)),0===o.length&&(!y||0==r.length))return E[0]+m+E[1];if(n<0)return A(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var T;return T=y?c(e,r,n,g,o):o.map(function(t){return p(e,r,n,g,t,y)}),e.seen.pop(),h(T,m,E)}function d(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)P(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))}),a}function p(e,t,r,n,i,a){var o,s,d;if(d=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},d.get?s=d.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):d.set&&(s=e.stylize("[Setter]","special")),P(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(d.value)<0?(s=v(r)?l(e,d.value,null):l(e,d.value,r-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(o)){if(a&&i.match(/^\d+$/))return s;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function w(e){return void 0===e}function A(e){return T(e)&&"[object RegExp]"===I(e)}function T(e){return"object"==typeof e&&null!==e}function S(e){return T(e)&&"[object Date]"===I(e)}function _(e){return T(e)&&("[object Error]"===I(e)||e instanceof Error)}function L(e){return"function"==typeof e}function x(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function I(e){return Object.prototype.toString.call(e)}function D(e){return e<10?"0"+e.toString(10):e.toString(10)}function R(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var C=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,a=n.length,o=String(e).replace(C,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<a;s=n[++r])o+=v(s)||!T(s)?" "+s:" "+i(s);return o},t.deprecate=function(r,i){function a(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(n.noDeprecation===!0)return r;var o=!1;return a};var V,k={};t.debuglog=function(e){if(w(V)&&(V=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!k[e])if(new RegExp("\\b"+e+"\\b","i").test(V)){var r=n.pid;k[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else k[e]=function(){};return k[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=m,t.isNumber=y,t.isString=b,t.isSymbol=E,t.isUndefined=w,t.isRegExp=A,t.isObject=T,t.isDate=S,t.isError=_,t.isFunction=L,t.isPrimitive=x,t.isBuffer=r(98);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=r(97),t._extend=function(e,t){if(!t||!T(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,function(){return this}(),r(16))},function(e,t){t.getDeviceInfo=function(){var e,t={os:"",osv:"0",make:"",model:"",mobile:!1};try{e=navigator.userAgent,e||(e=window.navigator.userAgent)}catch(t){e=window.navigator.userAgent}var r,n;if(/iPod/i.test(e))t.os="iOS",t.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),t.make="Apple",t.model="iPod",t.mobile=!0;else if(/iPhone/i.test(e))t.os="iOS",t.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),t.make="Apple",t.model="iPhone",t.mobile=!0;else if(/iPad/i.test(e))t.os="iOS",t.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),t.make="Apple",t.model="iPad",t.mobile=!0;else if(/Android/i.test(e)){if(t.os="Android",t.mobile=!0,r=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,n=r.exec(e)){t.osv=n[1]||"0";var i=n[3]||"";/HTC/i.test(i)?(t.make="HTC",r=/HTC\s(.*)/i,n=r.exec(i),t.model=n?n[1]:""):/ASUS/i.test(i)?(t.make="ASUS",r=/ASUS\s(.*)/i,n=r.exec(i),t.model=n?n[1]:""):/ALCATEL/i.test(i)?(t.make="ALCATEL",r=/ALCATEL\s(.*)/i,n=r.exec(i),t.model=n?n[1]:""):/BLU/i.test(i)?(t.make="BLU",r=/BLU\s(.*)/i,n=r.exec(i),t.model=n?n[1]:""):/ME17\d/i.test(i)?(t.make="ASUS",t.model=i):/Nexus/i.test(i)?(t.make="Google",t.model=i):/Lenovo/i.test(i)?(t.make="Lenovo",r=/Lenovo\s(.*)/i):/IdeaTab/i.test(i)?(t.make="Lenovo",t.model=i):/Huawei/i.test(e)?(t.make="Huawei",t.model=i):/SGP\d/i.test(i)?(t.make="Sony",t.model=i):/LT[1-9]\d/i.test(i)?(t.make="Sony",t.model=i):/HP/i.test(i)?(t.make="HP",r=/HP\s(.*)/i,n=r.exec(i),t.model=n?n[1]:""):/A1-/i.test(i)||/B11-/i.test(i)?(t.make="Acer",t.model=i):/GT-/i.test(i)?(t.make="Samsung",r=/(GT-.*)/i,n=r.exec(i),t.model=n?n[1]:""):/SM-/i.test(i)?(t.make="Samsung",r=/(SM-.*)/i,n=r.exec(i),t.model=n?n[1]:""):/SPH-/i.test(i)?(t.make="Samsung",r=/(SPH-.*)/i,n=r.exec(i),t.model=n?n[1]:""):/SCH-/i.test(i)?(t.make="Samsung",r=/(SCH-.*)/i,n=r.exec(i),t.model=n?n[1]:""):/SGH-/i.test(i)?(t.make="Samsung",r=/(SGH-.*)/i,n=r.exec(i),t.model=n?n[1]:""):/DROID/i.test(i)?(t.make="Motorola",r=/(DROID.*)/i,n=r.exec(i),t.model=n?n[1]:""):/XT/i.test(i)?(t.make="Motorola",r=/(XT.*)/i,n=r.exec(i),t.model=n?n[1]:""):/LG-/i.test(i)?(t.make="LG",r=/(LG-.*)/i,n=r.exec(i),t.model=n?n[1]:""):/VS/i.test(i)?(t.make="LG",r=/(VS.*)/i,n=r.exec(i),t.model=n?n[1]:""):/Z[1-9]/i.test(i)?(t.make="ZTE",r=/(Z[1-9].*)/i,n=r.exec(i),t.model=n?n[1]:""):/NX[1-9]/i.test(i)?(t.make="NEXTBOOK",r=/(NX[1-9].*)/i,n=r.exec(i),t.model=n?n[1]:""):/C5[1-9]/i.test(i)?(t.make="Kyocera",r=/(C5[1-9].*)/i,n=r.exec(i),t.model=n?n[1]:""):t.model=i}}else/Windows.Phone/i.test(e)||/WPDesktop/i.test(e)?(t.os="WindowsPhone",t.osv=(e.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,t.mobile=!0,/NOKIA/i.test(e)&&(t.make="Nokia",r=/NOKIA;\s(.*?)(;|\))/i,n=r.exec(e),t.model=n?n[1]:"")):/BlackBerry/i.test(e)||navigator.userAgent.match(/BB10/i)?(t.os="BlackBerry",e.indexOf("Version/")>=0?(r=/Version\/(.*?)\s/i,n=r.exec(e),t.osv=n?n[1]:""):(r=/BlackBerry.*\/(.*?)\s/i,n=r.exec(e),t.osv=n?n[1]:""),t.mobile=!0):/Windows/i.test(e)?(t.os="Windows",r=/Windows\sNT\s(.*?)(;|\)|\s)/i,n=r.exec(e),t.osv=n?n[1]:""):/Mac\sOS/i.test(e)&&(t.os="MacOS",r=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,n=r.exec(e),t.osv=n?n[1]:"");return t}},function(e,t){t.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),"function"!=typeof Object.create&&(Object.create=function(e,t){function r(){}if("object"!=typeof e)throw TypeError();r.prototype=e;var n=new r;if(e&&(n.constructor=r),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(n,t)}return n}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty;Object.defineProperty=function(t,r,n){if(e)try{return e(t,r,n)}catch(e){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,r,n.set),"value"in n&&(t[r]=n.value),t}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(e,r,t[r]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw TypeError("Bind must be called on a function");var r=[].slice,n=r.call(arguments,1),i=this,a=function(){return i.apply(this instanceof t?this:e,n.concat(r.call(arguments)))};return t.prototype=i.prototype,a.prototype=new t,a}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),isNaN(n)?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var i=n>=0?n:Math.max(r-Math.abs(n),0);i<r;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=r;arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))));for(var i=n>=0?Math.min(n,r-1):r-Math.abs(n);i>=0;i--)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=arguments[1];for(n=0;n<r;n++)if(n in t&&!e.call(i,t[n],n,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=arguments[1];for(n=0;n<r;n++)if(n in t&&e.call(i,t[n],n,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=arguments[1];for(n=0;n<r;n++)n in t&&e.call(i,t[n],n,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n=[];n.length=r;var i,a=arguments[1];for(i=0;i<r;i++)i in t&&(n[i]=e.call(a,t[i],i,t));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,i=[],a=arguments[1];for(n=0;n<r;n++)if(n in t){var o=t[n];e.call(a,o,n,t)&&i.push(o)}return i}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,i=0;if(arguments.length>=2)n=arguments[1];else for(;;){if(i in t){n=t[i++];break}if(++i>=r)throw TypeError()}for(;i<r;)i in t&&(n=e.call(void 0,n,t[i],i,t)),i++;return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,i=r-1;if(arguments.length>=2)n=arguments[1];else for(;;){if(i in this){n=this[i--];break}if(--i<0)throw TypeError()}for(;i>=0;)i in t&&(n=e.call(void 0,n,t[i],i,t)),i--;return n}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return("00"+e).slice(-2)}function t(e){return("000"+e).slice(-3)}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+t(this.getUTCMilliseconds())+"Z"})}catch(e){}}},function(e,t){},function(e,t){},function(e,t){var r=function(){function e(){if(!J){try{var e=j.getElementsByTagName("body")[0].appendChild(m("span"));e.parentNode.removeChild(e)}catch(e){return}J=!0;for(var t=F.length,r=0;r<t;r++)F[r]()}}function t(e){J?e():F[F.length]=e}function n(e){if(typeof N.addEventListener!=D)N.addEventListener("load",e,!1);else if(typeof j.addEventListener!=D)j.addEventListener("load",e,!1);else if(typeof N.attachEvent!=D)y(N,"onload",e);else if("function"==typeof N.onload){var t=N.onload;N.onload=function(){t(),e()}}else N.onload=e}function i(){M?a():o()}function a(){var e=j.getElementsByTagName("body")[0],t=m(R);t.setAttribute("type",V);var r=e.appendChild(t);if(r){var n=0;!function(){if(typeof r.GetVariable!=D){var i=r.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),Y.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(n<10)return n++,void setTimeout(arguments.callee,10);e.removeChild(t),r=null,o()}()}else o()}function o(){var e=B.length;if(e>0)for(var t=0;t<e;t++){var r=B[t].id,n=B[t].callbackFn,i={success:!1,id:r};if(Y.pv[0]>0){var a=v(r);if(a)if(!b(B[t].swfVersion)||Y.wk&&Y.wk<312)if(B[t].expressInstall&&l()){var o={};o.data=B[t].expressInstall,o.width=a.getAttribute("width")||"0",o.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(o.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(o.align=a.getAttribute("align"));for(var c={},p=a.getElementsByTagName("param"),h=p.length,f=0;f<h;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(c[p[f].getAttribute("name")]=p[f].getAttribute("value"));d(o,c,r,n)}else u(a),n&&n(i);else w(r,!0),n&&(i.success=!0,i.ref=s(r),n(i))}else if(w(r,!0),n){var g=s(r);g&&typeof g.SetVariable!=D&&(i.success=!0,i.ref=g),n(i)}}}function s(e){var t=null,r=v(e);if(r&&"OBJECT"==r.nodeName)if(typeof r.SetVariable!=D)t=r;else{var n=r.getElementsByTagName(R)[0];n&&(t=n)}return t}function l(){return!z&&b("6.0.65")&&(Y.win||Y.mac)&&!(Y.wk&&Y.wk<312)}function d(e,t,r,n){z=!0,_=n||null,L={success:!1,id:r};var i=v(r);if(i){"OBJECT"==i.nodeName?(T=c(i),S=null):(T=i,S=r),e.id=k,(typeof e.width==D||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==D||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var a=Y.ie&&Y.win?["Active"].concat("").join("X"):"PlugIn",o="MMredirectURL="+N.location.toString().replace(/&/g,"%26")+"&MMplayerType="+a+"&MMdoctitle="+j.title;if(typeof t.flashvars!=D?t.flashvars+="&"+o:t.flashvars=o,Y.ie&&Y.win&&4!=i.readyState){var s=m("div");r+="SWFObjectNew",s.setAttribute("id",r),i.parentNode.insertBefore(s,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}p(e,t,r)}}function u(e){if(Y.ie&&Y.win&&4!=e.readyState){var t=m("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=m("div");if(Y.win&&Y.ie)t.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(R)[0];if(r){var n=r.childNodes;
if(n)for(var i=n.length,a=0;a<i;a++)1==n[a].nodeType&&"PARAM"==n[a].nodeName||8==n[a].nodeType||t.appendChild(n[a].cloneNode(!0))}}return t}function p(e,t,r){var n,i=v(r);if(Y.wk&&Y.wk<312)return n;if(i)if(typeof e.id==D&&(e.id=r),Y.ie&&Y.win){var a="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?a+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(a+=" "+o+'="'+e[o]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+s+"</object>",H[H.length]=e.id,n=v(e.id)}else{var d=m(R);d.setAttribute("type",V);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?d.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&d.setAttribute(u,e[u]));for(var c in t)t[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&h(d,c,t[c]);i.parentNode.replaceChild(d,i),n=d}return n}function h(e,t,r){var n=m("param");n.setAttribute("name",t),n.setAttribute("value",r),e.appendChild(n)}function f(e){var t=v(e);t&&"OBJECT"==t.nodeName&&(Y.ie&&Y.win?(t.style.display="none",function(){4==t.readyState?g(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function g(e){var t=v(e);if(t){for(var r in t)"function"==typeof t[r]&&(t[r]=null);t.parentNode.removeChild(t)}}function v(e){var t=null;try{t=j.getElementById(e)}catch(e){}return t}function m(e){return j.createElement(e)}function y(e,t,r){e.attachEvent(t,r),q[q.length]=[e,t,r]}function b(e){var t=Y.pv,r=e.split(".");return r[0]=parseInt(r[0],10),r[1]=parseInt(r[1],10)||0,r[2]=parseInt(r[2],10)||0,t[0]>r[0]||t[0]==r[0]&&t[1]>r[1]||t[0]==r[0]&&t[1]==r[1]&&t[2]>=r[2]}function E(e,t,r,n){if(!Y.ie||!Y.mac){var i=j.getElementsByTagName("head")[0];if(i){var a=r&&"string"==typeof r?r:"screen";if(n&&(x=null,I=null),!x||I!=a){var o=m("style");o.setAttribute("type","text/css"),o.setAttribute("media",a),x=i.appendChild(o),Y.ie&&Y.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0&&(x=j.styleSheets[j.styleSheets.length-1]),I=a}Y.ie&&Y.win?x&&typeof x.addRule==R&&x.addRule(e,t):x&&typeof j.createTextNode!=D&&x.appendChild(j.createTextNode(e+" {"+t+"}"))}}}function w(e,t){if(W){var r=t?"visible":"hidden";J&&v(e)?v(e).style.visibility=r:E("#"+e,"visibility:"+r)}}function A(e){var t=/[\\\"<>\.;]/,r=null!=t.exec(e);return r&&typeof encodeURIComponent!=D?encodeURIComponent(e):e}var T,S,_,L,x,I,D="undefined",R="object",P="Shockwave Flash",C="ShockwaveFlash.ShockwaveFlash",V="application/x-shockwave-flash",k="SWFObjectExprInst",O="onreadystatechange",N=window,j=document,U=navigator,M=!1,F=[i],B=[],H=[],q=[],J=!1,z=!1,W=!0,Y=function(){var e=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,t=U.userAgent.toLowerCase(),r=U.platform.toLowerCase(),n=r?/win/.test(r):/win/.test(t),i=r?/mac/.test(r):/mac/.test(t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o=!1,s=[0,0,0],l=null;if(typeof U.plugins!=D&&typeof U.plugins[P]==R)l=U.plugins[P].description,!l||typeof U.mimeTypes!=D&&U.mimeTypes[V]&&!U.mimeTypes[V].enabledPlugin||(M=!0,o=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof N[["Active"].concat("Object").join("X")]!=D)try{var d=new(window[["Active"].concat("Object").join("X")])(C);d&&(l=d.GetVariable("$version"),l&&(o=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(e){}return{w3:e,pv:s,wk:a,ie:o,win:n,mac:i}}();(function(){Y.w3&&((typeof j.readyState!=D&&"complete"==j.readyState||typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))&&e(),J||(typeof j.addEventListener!=D&&j.addEventListener("DOMContentLoaded",e,!1),Y.ie&&Y.win&&(j.attachEvent(O,function(){"complete"==j.readyState&&(j.detachEvent(O,arguments.callee),e())}),N==top&&!function(){if(!J){try{j.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}e()}}()),Y.wk&&!function(){if(!J)return/loaded|complete/.test(j.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))})(),function(){Y.ie&&Y.win&&window.attachEvent("onunload",function(){for(var e=q.length,t=0;t<e;t++)q[t][0].detachEvent(q[t][1],q[t][2]);for(var n=H.length,i=0;i<n;i++)f(H[i]);for(var a in Y)Y[a]=null;Y=null;for(var o in r)r[o]=null;r=null})}();return{registerObject:function(e,t,r,n){if(Y.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=r,i.callbackFn=n,B[B.length]=i,w(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){if(Y.w3)return s(e)},embedSWF:function(e,r,n,i,a,o,s,u,c,h){var f={success:!1,id:r};Y.w3&&!(Y.wk&&Y.wk<312)&&e&&r&&n&&i&&a?(w(r,!1),t(function(){n+="",i+="";var t={};if(c&&typeof c===R)for(var g in c)t[g]=c[g];t.data=e,t.width=n,t.height=i;var v={};if(u&&typeof u===R)for(var m in u)v[m]=u[m];if(s&&typeof s===R)for(var y in s)typeof v.flashvars!=D?v.flashvars+="&"+y+"="+s[y]:v.flashvars=y+"="+s[y];if(b(a)){var E=p(t,v,r);t.id==r&&w(r,!0),f.success=!0,f.ref=E}else{if(o&&l())return t.data=o,void d(t,v,r,h);w(r,!0)}h&&h(f)})):h&&h(f)},switchOffAutoHideShow:function(){W=!1},ua:Y,getFlashPlayerVersion:function(){return{major:Y.pv[0],minor:Y.pv[1],release:Y.pv[2]}},hasFlashPlayerVersion:b,createSWF:function(e,t,r){return Y.w3?p(e,t,r):void 0},showExpressInstall:function(e,t,r,n){Y.w3&&l()&&d(e,t,r,n)},removeSWF:function(e){Y.w3&&f(e)},createCSS:function(e,t,r,n){Y.w3&&E(e,t,r,n)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=j.location.search||j.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return A(t);for(var r=t.split("&"),n=0;n<r.length;n++)if(r[n].substring(0,r[n].indexOf("="))==e)return A(r[n].substring(r[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(z){var e=v(k);e&&T&&(e.parentNode.replaceChild(T,e),S&&(w(S,!0),Y.ie&&Y.win&&(T.style.display="block")),_&&_(L)),z=!1}}}}();e.exports=r},,,,,function(e,t){/*!
	* sandblaster
	* A client-side JavaScript library to detect if your code is running inside of a sandboxed iframe... and, if desired, might just be able to change that fact!
	* Copyright (c) 2014-2015 James M. Greene
	* Licensed MIT
	* http://jamesmgreene.github.io/sandblaster/
	* v1.1.1
	*/
!function(e,t){"use strict";function r(e){return{name:e.name,message:e.message,stack:e.stack}}function n(e,t){return(e||[]).concat(t||[]).filter(function(e,t,r){return r.indexOf(e)===t})}function i(){var t=!e.opener,r=!!(e.top&&e!=e.top||e.parent&&e!=e.parent);return t&&r}function a(e){var t;try{t="object"==typeof e&&null!==e&&1===e.nodeType&&/^I?FRAME$/.test(e.nodeName||"")&&!!e.hasAttribute&&!!e.getAttribute&&!!e.setAttribute}catch(e){t=!1}return t}function o(t){var n;try{n=e.frameElement,a(n)||(n=null)}catch(e){n=null,"function"==typeof t&&t(r(e))}return n}function s(e){var t;try{t=document.domain||null}catch(n){t=null,"function"==typeof e&&e(r(n))}return t}function l(){return{forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:!0,scripts:!0,topNavigation:null}}function d(e){var t,r=null;return null===e?r=l():"string"==typeof e&&(t=e.replace(/^\s+|\s+$/g,"").toLowerCase().split(/\s+/),r={forms:t.indexOf("allow-forms")!==-1,modals:t.indexOf("allow-modals")!==-1,pointerLock:t.indexOf("allow-pointer-lock")!==-1,popups:t.indexOf("allow-popups")!==-1,popupsToEscapeSandbox:t.indexOf("allow-popups-to-escape-sandbox")!==-1,sameOrigin:t.indexOf("allow-same-origin")!==-1,scripts:t.indexOf("allow-scripts")!==-1,topNavigation:t.indexOf("allow-top-navigation")!==-1}),r}function u(e,t){var r,i,a,o,s=!1;if(e&&"object"==typeof e&&t&&"object"==typeof t)for(r=n(Object.keys(e),Object.keys(t)),s=!0,i=0,a=r.length;i<a;i++)if(o=r[i],!e.hasOwnProperty(o)||!t.hasOwnProperty(o)||e[o]!==t[o]){s=!1;break}return s}function c(e,r){var n,i,o,s,l={sandboxed:t,sandboxAllowances:t,unsandboxable:t,resandboxable:t,errors:[]};if(a(e)){try{l.sandboxed=e.hasAttribute("sandbox")}catch(e){l.sandboxed=null,"function"==typeof r&&r(e)}if(l.sandboxed)try{n=e.getAttribute("sandbox")||""}catch(e){n=null,"function"==typeof r&&r(e)}else null===l.sandboxed&&(n=null);if(null!==n&&"string"!=typeof n||(l.sandboxAllowances=d(n)),l.sandboxed)try{e.removeAttribute("sandbox"),l.unsandboxable=!e.hasAttribute("sandbox")}catch(e){l.unsandboxable=!1,"function"==typeof r&&r(e)}if(l.unsandboxable&&"string"==typeof n)try{e.setAttribute("sandbox",n),i=e.hasAttribute("sandbox")}catch(e){i=!1,"function"==typeof r&&r(e)}if(i&&l.sandboxAllowances)try{o=e.getAttribute("sandbox")||""}catch(e){o=null,"function"==typeof r&&r(e)}else null===i&&(o=null);null!==o&&"string"!=typeof o||(o=d(o)),i&&(s=null,l.sandboxAllowances&&o&&(s=u(l.sandboxAllowances,o))),l.resandboxable=s}return l}function p(){var e=this;return e instanceof p?(e._initialState=e.detect(),void(e._unsandboxState=null)):new p}var h=Array.prototype.slice;p.prototype.detect=function(){var e,n,a,l={framed:!1,crossOrigin:null,sandboxed:null,sandboxAllowances:t,unsandboxable:t,resandboxable:t,sandboxable:t,errors:[]},d=function(e){l.errors.push(r(e))},u=function(e){n=r(e),l.errors.push(n)};try{l.framed=i(),l.framed?(e=o(u),null!=e?(l.crossOrigin=!1,a=c(e,d),l.sandboxed=a.sandboxed,l.sandboxAllowances=a.sandboxAllowances,l.unsandboxable=a.unsandboxable,l.resandboxable=a.resandboxable):(l.crossOrigin=!0,l.sandboxed=null,l.sandboxAllowances={forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:null,scripts:!0,topNavigation:null},l.unsandboxable=!1,l.resandboxable=!1,null===s(d)?(l.sandboxed=!0,l.sandboxAllowances.sameOrigin=!1):n&&("SecurityError"!==n.name?l.crossOrigin=null:/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(n.message.toLowerCase())&&(l.sandboxed=!0,l.sandboxAllowances.sameOrigin=!0))),l.sandboxable=l.resandboxable||l.framed===!0&&l.crossOrigin===!1&&(l.sandboxed===!1||l.sandboxAllowances.sameOrigin)||!1):(l.crossOrigin=t,l.sandboxed=t,l.errors=t)}catch(e){d(e)}return l},p.prototype.unsandbox=function(){var e,t,r=!1,n=this,i=n._initialState;if(i.framed===!1)r=!0;else if(i.crossOrigin===!1&&(e=n.detect(),r=e.sandboxed===!1,e.sandboxed&&e.unsandboxable&&(n._unsandboxState=e,t=o(function(){r=!1}))))try{t.removeAttribute("sandbox"),r=!t.hasAttribute("sandbox")}catch(e){r=!1}return r},p.prototype.resandbox=function(){var e=!1,t=this;return null!=t._unsandboxState&&(e=t.sandbox(t._unsandboxState.sandboxAllowances)),e===!0&&(t._unsandboxState=null),e},p.prototype.sandbox=function(e){var t,r,i,a,l,d,u,c=!1,p=this,h=p._initialState,f=[];if(e&&"object"==typeof e&&h.framed&&h.crossOrigin!==!1&&(i=p.detect(),(i.sandboxed===!1&&i.sandboxable||i.sandboxed&&i.unsandboxable)&&(a=i.sandboxAllowances,r=n(Object.keys(e),Object.keys(a||{})),r.forEach(function(t){(e[t]===!0||null==e[t]&&a&&a[t]===!0)&&f.push("allow-"+t.replace(/[A-Z]/g,"-$1").toLowerCase())}),f.length>0&&(d=o())))){l=f.indexOf("allow-same-origin")===-1||f.indexOf("allow-scripts")===-1,t=f.sort().join(" ");try{d.setAttribute("sandbox",t),c=l}catch(e){c=!1}if(d=o())try{u=(d.getAttribute("sandbox")||"").replace(/^\s+|\s+$/g,"").split(/\s+/).sort().join(" "),c=u===t||l&&(""===u||null===s())}catch(e){c=l}}return c},p.prototype.reload=function(){var e,t,r,n,i=!1,a=this,s=a._initialState;if(s.framed&&s.crossOrigin===!1&&(e=o()))try{e.parentNode&&e.parentNode.ownerDocument&&(t=h.call(e.attributes).map(function(e){return{name:e.name,value:e.value}}),r=e.parentNode.ownerDocument.createElement("iframe"),t.forEach(function(e){r.setAttribute(e.name,e.value)}),n=e.parentNode.replaceChild(r,e),i=e===n)}catch(e){i=!1}return i},e.sandblaster=new p}(window)}]);
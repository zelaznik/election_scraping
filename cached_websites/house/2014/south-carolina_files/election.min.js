!function(app,undefined){function initApp(a){if(!_init){a||(a={}),setOptions(a);var b=_options.develop?"":".min";_options.map&&(queueJS("map",_options.path.js+"map"+b+".js","mapLoadComplete"),queueJS("popup",_options.path.js+"popup"+b+".js","popupLoadComplete")),queueJS("election-model",_options.path.js+"election-model"+b+".js","modelLoadComplete"),addTasks([{task:"loadJS"},{task:"initComplete"}]),doNextTask()}}function setOptions(a){a.path||(a.path={}),a.colors||(a.colors={}),a.statePadding||(a.statePadding={}),a.initPadding||(a.initPadding={}),a.selected||(a.selected={}),_options.develop=a.develop||!1,_options.checkzeros=a.checkzeros||!1,_options.path={js:a.path.js||(1==_options.develop?"/2014-election/js/development/":"/js/election/"),lines:a.path.lines||"/js/election/vectors/",data:a.path.data||"/mapdata/"},_options.mapContainer=a.mapContainer||"map-interactive",_options.popupContainer=a.popupContainer||"map-tooltip",_options.map="boolean"!=typeof a.map||a.map,$("#"+_options.mapContainer).length<=0&&1==_options.map&&(_options.map=!1),_options.colors={GOP:a.colors.GOP||"#b70000",Dem:a.colors.Dem||"#004276",Ind:a.colors.Ind||"#e5a433",noelection:a.colors.noelection||"#ddd",noresults:a.colors.noresults||"#aaa",partial:a.colors.partial||"#61a79d",complete:a.colors.complete||"#176258",strokeColorNonSelectedState:a.colors.strokeColorNonSelectedState||"#ddd",strokeColorSelectedState:a.colors.strokeColorSelectedState||"#f5f5f5",strokeColorSelectedSubunit:a.colors.strokeColorSelectedSubunit||"#000",strokeColorDefault:a.colors.strokeColorDefault||"#f5f5f5",alphaOut:a.colors.alphaOut||1,alphaOver:a.colors.alphaOver||.8},_options.timerDuration=a.timerDuration||30,_options.lazy=!!a.hasOwnProperty("lazy")&&a.lazy,_options.selected={yearDefault:a.selected.yearDefault||"2014",year:a.selected.year||"2014",yearType:a.selected.yearType||"P",yearSeason:a.selected.yearSeason||"P",race:a.selected.hasOwnProperty("race")?a.selected.race:"S",state:a.selected.state||"US",date:a.selected.date||"",party:a.selected.party||"",district:a.selected.district||"",special:!!a.selected.hasOwnProperty("special")&&a.selected.special,runoff:!!a.selected.hasOwnProperty("runoff")&&a.selected.runoff,recall:!!a.selected.hasOwnProperty("recall")&&a.selected.recall,popup:{}},_options.isHomepage=!!a.hasOwnProperty("isHomepage")&&a.isHomepage,_options.isGeneralElection=!!a.hasOwnProperty("isGeneralElection")&&a.isGeneralElection,_options.isIpad=!!a.hasOwnProperty("isIpad")&&a.isIpad,_options.isMobile=!!a.hasOwnProperty("isMobile")&&a.isMobile,_options.isTouch=a.isTouch||"undefined"!=typeof Modernizr&&Modernizr.touch,_options.isSVG=a.isSVG||"undefined"==typeof Modernizr||Modernizr.inlinesvg,_options.isSchedule=!!a.hasOwnProperty("isSchedule")&&a.isSchedule,_options.isUS=!!(""==_options.selected.state||"US"==_options.selected.state||_options.isIpad||_options.isHomepage||_options.isMobile),_options.mapShowNationalDistricts="boolean"==typeof a.mapShowNationalDistricts&&a.mapShowNationalDistricts,_options.mapRollover="boolean"!=typeof a.mapRollover||a.mapRollover,_options.mapClick="boolean"!=typeof a.mapClick||a.mapClick,_options.mapClickAction=a.mapClickAction||{state:"popup",district:"zoomAndPopup",county:"popup"},_options.mapClickZoomedAction=a.mapClickZoomedAction||{state:"popup",district:"zoomAndPopup",county:"popup"},_options.mapStateZoomContinuous="boolean"==typeof a.mapStateZoomContinuous&&a.mapStateZoomContinuous,_options.mapAnimate="boolean"==typeof a.mapAnimate?a.mapAnimate:!_options.isTouch,_options.stageHeight=14766,_options.stageWidth=24e3+(_options.mapShowNationalDistricts?0:500+_options.stageHeight/10),_options.stageRatio=_options.stageHeight/_options.stageWidth,_options.paperWidth=a.paperWidth||999,_options.paperHeight=_options.paperWidth*_options.stageRatio,_options.statePadding={top:a.statePadding.top||25,right:a.statePadding.right||25,bottom:a.statePadding.bottom||25,left:a.statePadding.left||25},_options.initPadding={top:a.initPadding.top||25,right:a.initPadding.right||0,bottom:a.initPadding.bottom||0,left:a.initPadding.left||0},_options.allowResize=!a.hasOwnProperty("allowResize")||a.allowResize,_options.isAnimating=!1,_options.tasks=[]}function queueJS(a,b,c){_jsFilesToLoad.push({URL:b,callback:c,loaded:!1});var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("src",b),"undefined"!=typeof d&&document.getElementsByTagName("head")[0].appendChild(d)}function onFunctionAvailable(callback){var funcFound=!1;return"string"==typeof callback&&"function"==eval("typeof "+callback)&&(funcFound=!0),funcFound}function loadJS(){var a=!0,b=0;for(b;b<_jsFilesToLoad.length;b++)_jsFilesToLoad[b].loaded||(a=!1,_jsFilesToLoad[b].loaded=onFunctionAvailable(_jsFilesToLoad[b].callback));a?doNextTask():setTimeout(loadJS,100)}function loadVectors(a){$.ajax({url:_options.path.lines+"lines"+a+".js",dataType:"json",cache:!0,error:function(a,b,c){taskError()},success:function(b){app.map.setCountiesForStateAbb(a,b.counties),app.map.setDistrictsForStateAbb(a,b.districts),doNextTask()}})}function loadDistrictVectors(){$.ajax({url:_options.path.lines+"linesDistricts12.js",dataType:"json",cache:!0,error:function(a,b,c){taskError()},success:function(a){showNationalDistricts(a)}})}function initComplete(){_init||_options.isUS||_options.isHomepage||_options.isIpad||_options.isMobile||addTasks([{task:"writeSubNav",params:[_options.selected.state]}]),initEvents(),_initComplete=_options.map?{map:!1,model:!1}:{model:!1},_options.map?(addTasks([{task:"resize"}]),_options.mapShowNationalDistricts&&"H"==_options.selected.race?addTasks([{task:"loadDistrictVectors"}]):"US"==_options.selected.state||""==_options.selected.state||_options.isHomepage||_options.isIpad||_options.isMobile?addTasks([{task:"setStateColors"}]):(addTasks([{task:"stateClicked",params:[_options.selected.state,!1]}]),_options.selected.state="")):_options.isHomepage||_options.isIpad||_options.isMobile||_options.isIpad,(_options.isHomepage||_options.isIpad||_options.isMobile)&&(addTasks([{task:"initHomepage"}]),_options.isGeneralElection&&addTasks([{task:"updateBalanceOfPower"}])),_options.map&&(app.map=new Map(_options,null,!!_options.isSVG),_options.isHomepage||_options.isIpad||_options.isMobile||(app.popup=new Popup(_options))),app.model=new ElectionModel(_options)}function childInitComplete(a){_initComplete[a]=!0;var b,c=!0;for(b in _initComplete)if(_initComplete[b]===!1){c=!1;break}!_init&&c&&(getSelected("date"),doNextTask())}function initEvents(){$(window).bind("initComplete",function(a){a.params&&childInitComplete(a.params[0])}),$(window).bind("debug",doDebug),$(window).bind("dataLoaded",dataLoaded),_options.map&&(_options.isSVG&&$(window).bind("debouncedresize",doResize),$(window).bind("zoomComplete",zoomComplete),$(window).bind("stateOver",function(a){a.params&&stateOver(a.params[0])}),$(window).bind("stateOut",function(a){a.params&&stateOut(a.params[0])}),$(window).bind("countyOver",function(a){a.params&&countyOver(a.params[0],a.params[1],a.params[2])}),$(window).bind("countyOut",function(a){a.params&&countyOut(a.params[0],a.params[1],a.params[2])}),$(window).bind("districtOver",function(a){a.params&&districtOver(a.params[0],a.params[1])}),$(window).bind("districtOut",function(a){a.params&&districtOut(a.params[0],a.params[1])}),$(window).bind("stateClicked",function(a){a.params&&stateClicked(a.params[0],a.params[1],a)}),$(window).bind("countyClicked",function(a){a.params&&countyClicked(a.params[0],a.params[1],a.params[2])}),$(window).bind("districtClicked",function(a){a.params&&districtClicked(a.params[0],a.params[1],a)}),$(window).bind("popupCloseClicked",popupCloseClicked),$(window).bind("bgClicked",hidePopup),enableMouseMove(),$(window).bind("dragStart",dragStart),$(window).bind("dragEnd",dragEnd)),(_options.isHomepage||_options.isIpad||_options.isMobile)&&($("#selectRace").bind("change",raceSelected),$("#selectState").bind("change",stateSelected),$("#selectDistrict").bind("change",districtSelected))}function enableLazyLoad(){_options.isUS?"H"==_options.selected.race&&_options.isUS&&(_$lazyLoadedGroup=$(".timeline-group .results-group .results-data"),startAt=0):(_$lazyLoadedGroup=$(".election-results .results-group"),startAt=8);var a=0;for(a;a<_$lazyLoadedGroup.length;a++)a%10===startAt&&($(_$lazyLoadedGroup[a]).attr("data-z",a),$(_$lazyLoadedGroup[a]).waypoint(function(a){"down"===a&&triggerLazyLoad(this)},{triggerOnce:!0,offset:"bottom-in-view"}))}function triggerLazyLoad(a){var b,c=$(a),d=c.index()-1+2;if(_options.isUS){if("H"==_options.selected.race&&_options.isUS){var e=$(a).attr("data-racenum");if(!_lazyLoaded.hasOwnProperty(e)){_lazyLoaded[e]=!0,d=parseInt(c.attr("data-z"),10);var f,g,h,i,f,j,k,l,m,n,o,p,q,r=d+10,s=_options.selected.year,t=_options.selected.yearType,u=[],v="";for(d;d<r;d++)h=$(_$lazyLoadedGroup[d]).parent().parent().parent(),i=h.attr("data-fips"),h.find(".is-loading").removeClass("is-loading"),f=$(_$lazyLoadedGroup[d]).parent().parent().parent().parent().parent().parent().attr("id").split("state")[1],g=f+$(_$lazyLoadedGroup[d]).attr("data-racenum"),u=[app.model.getRaceNumConfig(g)],j=app.model.getRacesByRaceNums(s,u,i,!1),k=j[0].data,l=j[0].config,m=l.raceType,n=!1,o=app.model.getSortedRaceVotesByVoteCount(k,s,t,n),p=getRaceVotesHTML(o,_options.selected.year,_options.selected.yearType,k.officeID,m,!1,n),q="<tbody>"+p.join("")+"</tbody>",$(_$lazyLoadedGroup[d]).html('<div class="results-meta"><div class="title"><p class="reporting">'+k.precinctsPercent+'% Reporting</p></div><div class="actions"><a href="" class="twitter"><b aria-hidden="true" class="icon icon-twitter"></b> <span class="icon-text">Tweet</span></a></div></div><table class="results-table"></table>'),setTableHTML(q,"state-district",i,k,o,l);refreshLazy()}}}else if(b=$(a).attr("data-fips"),!_lazyLoaded.hasOwnProperty(b)){_lazyLoaded[b]=!0;var w,r=d+10,i=-1,u=[],v="";for(d;d<r;d++)i=$(_$lazyLoadedGroup[d]).attr("data-fips"),u=app.model.getRaceNums(_options.selected.year,_options.selected.yearSeason,_options.selected.yearType,_options.selected.date,_options.selected.race,_options.selected.state,_options.selected.special,_options.selected.runoff,_options.selected.recall,null,null),"undefined"!=typeof i&&u.length>0&&(w="G"==_options.selected.yearType?"-general":"-primary",0==i?w="state"+w:i<=999?w="district"+w:i>999&&(w="I"==_options.selected.race?"county-ballot":"county"+w),v=getLazyHTML(w,_options.selected.year,_options.selected.yearSeason,_options.selected.yearType,_options.selected.state,i,_options.selected.race,u),$(".results-group[data-fips='"+i+"'] header h4").removeClass("is-loading"),$(".results-group[data-fips='"+i+"']").append(v));refreshLazy()}}function refreshLazy(){$.waypoints("refresh"),reenableTwitterClicks()}function reenableTwitterClicks(){$("a.twitter").off("click"),$("a.twitter").on("click",function(){return window.open(this.href,"Share","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1})}function enableMouseMove(){_mouseMoveEnabled||(_mouseMoveEnabled=!0,$("#"+_options.mapContainer).bind("mousemove",onMouseMove))}function disableMouseMove(){_mouseMoveEnabled&&(_mouseMoveEnabled=!1,$("#"+_options.mapContainer).unbind("mousemove",onMouseMove))}function dataLoaded(a){if(app.model&&app.model.isLive()){if(app.map)if(_options.isUS&&!_options.mapShowNationalDistricts||_options.isHomepage||_options.isIpad||_options.isMobile)setStateColors("US");else if("H"!=_options.selected.race)setCountyColors(_options.selected.state),app.map.showCountiesByStateAbb(_options.selected.state);else if("H"==_options.selected.race)if(_options.mapShowNationalDistricts){var b,c=0;for(c;c<_options.stateAbbs.length;c++)b=_options.stateAbbs[c],setDistrictColors(b),app.map.updateDistrictColors(b)}else setDistrictColors(_options.selected.state),app.map.showDistrictsByStateAbb(_options.selected.state);app.popup&&app.popup.isShowing()&&updatePopup(null,!0),updateHTML()}doNextTask()}function getScheduleKey(a,b,c,d){var e="";switch(b){case"P":e="primary";break;case"D":e="primary";break;case"R":e="primary";break;case"I":e="primary";break;case"O":e="primary";break;case"E":e="primary";break;case"S":e="primary";break;case"G":e="general"}return e+=c===!0?"-special":"",e+=d===!0?"-runoff":""}function writeSubNav(a){var b="/mapdata/"+_options.selected.year+"/election_schedule.json"+app.model.cacheBuster(),c="application/json",d="json";$.ajax({url:b,mimeType:c,dataType:d,cache:!0,error:function(a,b,c){doDebug("Error loading sub nav JSON...")},success:function(b){doDebug("load successful");var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=b[a],s={},t=_options.selected.year,u=_options.selected.yearSeason,v=_options.selected.yearType,w=0,x="",y=["P","S","H","G","I","L","M"],z=0,A="",B="/"+t+"-election/results/"+getStateURLName(a)+"/",C="<li"+(""==_options.selected.race?' class="current"':"")+'><a href="'+B+'">Overview</a></li>',D="";for(w;w<y.length;w++)if(d=y[w],p=d==_options.selected.race,x=getOfficeName(d,!0),r.hasOwnProperty(d)){for(e=r[d].sort(function(a,b){return b.date-a.date}),"I"!=d&&(C+='<li class="subnav'+(p?" current":"")+'">',C+='<a href="#" class="subnav-toggle">'+x+"</a>",C+='<div class="tools-subnav-list subnav-content"><ul>'),z=0,s={},z;z<e.length;z++)f=e[z],g=f.raceType,k=f.date,h=f.special,i=f.runoff,j=f.recall,c=getScheduleKey(d,g,h,i),s.hasOwnProperty(c)||(s[c]=c,q=!!p&&((g==v||"G"!=g&&"P"==v)&&h==_options.selected.special&&i==_options.selected.runoff&&(j==_options.selected.recall||j==undefined)),A=x+("I"!=d?" "+getRaceName(f,!0):""),D=getDetailedResultsURL(t,u,g,a,d,g,k,h,i,j),C+="<li"+(q?' class="current"':"")+'><a href="'+(q?"javascript:void(0)":D)+'">'+A,(f.special||f.runoff)&&(l=k.substr(0,4),m=k.substr(4,2),n=k.substr(6,2),o=parseInt(n,10),C+=' <time datetime="'+l+"-"+m+"-"+n+'">'+app.model.getMonthNameByNum(m-1)+" "+o+", "+l+"</time>"),C+="</a>","I"!=d&&(C+="</li>"));C+="</ul>",C+="</li>"}$($("header.content-header .tools-nav-list ul")[0]).html(C),reBindSubnav()},complete:function(){doNextTask()}})}function reBindSubnav(){$(".subnav .subnav-toggle").off(),$("html").off(),$(".subnav").off(),bindSubnav()}function updateHTML(){if(doDebug("updateHTML"),app.model&&app.model.isLive()){var a=_options.selected.year,b=_options.selected.yearSeason,c=_options.selected.yearType;if("G"==_options.selected.yearType&&"G"==_options.selected.yearSeason&&_options.isUS&&!_options.isSchedule&&updateBalanceOfPower(),_options.isHomepage||_options.isIpad||_options.isMobile)"G"==_options.selected.yearType&&"G"==_options.selected.yearSeason?updateHomepage():updateHomepageOld();else{var d=_options.selected.race,e=!(""!=d&&!_options.isUS)||null,f=_options.isUS?"All":_options.selected.state,g=[],h=[],i=!_options.isUS&&"H"!=_options.selected.race&&""!=_options.selected.race;if(g=app.model.getRaceNums(a,b,c,"LIVE",d,f,null,null,null,null,e),h=app.model.getRacesByRaceNums(a,g,null,i),h.length>0){_updatedOnce||!_options.isUS||_options.isSchedule||writeSpecialRaces(h);var j,k,l,m,n,o,p,q,r=!1,s=0;for(s;s<h.length;s++){j=h[s].data,k=h[s].config,l=j.fips,m=k.raceType,p=l>999,n=app.model.getSortedRaceVotesByVoteCount(j,a,c,p),o=getRaceVotesHTML(n,a,c,d,m,r,p),resultsHTML="<tbody>"+o.join("")+"</tbody>";var t;t="I"==d?p?"county-ballot":"state-ballot":"state-primary",setTableHTML(resultsHTML,t,l,j,n,k),_options.isUS&&j.special&&_updatedOnce&&(q=$('.special dl[data-racenum="'+j.raceNum.slice(2)+'"]'),q.children("dd").html(j.precinctsPercent+"% Reporting"),q.removeClass(),j.hasWinner&&""!=j.winningParty?q.addClass(getPartyClass(j.winningParty)):j.hasRunoff||"100"==j.precinctsPercent?q.addClass("complete"):j.hasResults?q.addClass("partial"):q.addClass("none"))}}}}}function setTableHTML(a,b,c,d,e,f){var g,h,i,j=_options.selected.year,k=_options.selected.yearType,l=d.raceNum,m="",n="ballot"==b.split("-")[1];n?(g=".results-detail",h=".share",i=".results-about"):(g=".results-data",h=".actions",i=".results-meta"),m=".results-group[data-fips='"+c+"'] "+g+"[data-racenum='"+l.slice(2)+"']",$(m+" "+i+" "+h+" a.twitter").removeAttr("target"),$(m+" "+i+" "+h+" a.twitter").attr("href",getTwitterLink(getTwitterJSON(j,k,d,f,e))),$(m+" .results-table").html(a),$(m+" "+i+" .reporting").html(d.precinctsPercent+"% Reporting")}function initHomepage(){if(app.model.isLive()){var a=_options.selected.year,b=_options.selected.yearType,c=_options.selected.yearSeason,d="All",e="All",f=!!(_options.isHomepage||_options.isIpad||_options.isMobile),g=null,h="boolean"==typeof _options.selected.special?_options.selected.special:null,i="boolean"==typeof _options.selected.runoff?_options.selected.runoff:null,j="boolean"==typeof _options.selected.recall?_options.selected.recall:null,k=[],l=[];k=app.model.getRaceNums(a,c,b,"LIVE",d,e,h,i,j,f,g),l=app.model.getRacesByRaceNums(a,k,null,!1),l.length>0&&("G"==_options.selected.yearType&&"G"==_options.selected.yearSeason&&_options.isGeneralElection?buildHomepageGeneralElection(a,b,c,l):buildHomepageGeneralElection(a,b,c,l))}doNextTask()}function buildHomepage(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=!0,t={},u=0;for(u;u<d.length;u++)e=d[u],f=e.data,g=e.config,h=g.date,"undefined"!=typeof i&&i!=f.stateAbb&&(s=!1),i=f.stateAbb,j=f.fips,k=j<10&&j>0?"0"+j:j,l=f.officeID,m=g.raceType,n=f.special,o=f.runoff,p=f.recall,q=g.bitly,r=_options.statesInfo[i].name,t.hasOwnProperty(i)||(t[i]={}),t[i].hasOwnProperty(l)||(t[i].hasOwnProperty("offices")||(t[i].offices=[]),t[i].offices.push(l),t[i][l]=[]),t[i][l].push(g),_options.selected.race!=l&&""!=_options.selected.race||_options.selected.state!=i&&""!=_options.selected.state&&"US"!=_options.selected.state||_options.selected.special!=n||_options.selected.runoff!=o||!("G"==m&&"G"==b||"G"!=m&&"G"!=b)||(_options.selected.race=l,_options.selected.state=i,"H"!=l||_options.selected.district!=j&&""!=_options.selected.district||(_options.selected.district=j));_options.selected.keyRaces=t;var v,w="",x="",y="",z=_options.selected.state,A=_options.selected.race,B=_options.selected.district,C=_options.stateAbbs,D=0,E=0,F=0;for(D;D<C.length;D++)if(i=C[D],t.hasOwnProperty(i)&&(s&&($(".election-subnav h3").html("Key "+_options.statesInfo[i].name+" Races"),$("#selectState").remove(),$(".subnav-contextual").remove()),(z==i||"US"==z)&&(_options.selected.state=i,t[i].hasOwnProperty("offices")))){for(v=t[i].offices,E;E<v.length;E++)if(l=v[E],A==l||""==A?(x+='<option value="'+l+'" selected="selected">'+getOfficeName(l,!0)+"</option>",_options.selected.race=l):x+='<option value="'+l+'">'+getOfficeName(l,!0)+"</option>","H"==l&&t[i].hasOwnProperty(l))for(F;F<t[i][l].length;F++)j=t[i][l].fips,B!=j&&""!=B||(y+='<option value="'+l+'" selected="selected">'+getDistrictTitle(i,j,"html")+"</option>",_options.selected.district=j);"H"!=A?($("#selectDistrict").attr("disabled","disabled"),$("#selectDistrict").hide()):($("#selectDistrict").removeAttr("disabled"),$("#selectDistrict").show())}$("#selectState").html(w),$("#selectRace").html(x),$("#selectDistrict").html(y),selectRace(_options.selected.race)}function homepageNextPreviousClicked(a){a&&a.preventDefault();var b=$(a.target);b.hasClass("next")?homepageChangeRace("next"):b.hasClass("previous")&&homepageChangeRace("previous")}function homepageChangeRace(a){var b=_options.selected.race,c=_options.selected.state,d=_options.selected.district,e=$("#selectRace option"),f=0,g=0,h=_options.selected.keyRaces,i=h[b][c].length,j=h[b].states.length,k=e.length;if("H"==b){for(f;f<i;f++)if(h[b][c][f].fips==d){d="next"==a&&f!=i-1?h[b][c][f+1].fips:"previous"==a&&f>0?h[b][c][f-1].fips:"";break}}else if("I"==b)for(f;f<i;f++)if(h[b][c][f].raceNum==d){d="next"==a&&f!=i-1?h[b][c][f+1].raceNum:"previous"==a&&f>0?h[b][c][f-1].raceNum:"";break}if(""==d)for(g;g<j;g++)if(h[b].states[g].abb==c){"next"==a&&g!=j-1?c=h[b].states[g+1].abb:"previous"==a&&g>0?(c=h[b].states[g-1].abb,"H"==b?d=h[b][c][i-1].fips:"I"==b&&(d=h[b][c][i-1].raceNum)):c="";break}if(""==c)for(g=0;g<k;g++)if(b==e[g].value){"next"==a&&g!=e.length-1?b=e[g+1].value:"previous"==a&&g>0?(b=e[g-1].value,c=h[b].states[j-1].abb,"H"==b?d=h[b][c][i-1].fips:"I"==b&&(d=h[b][c][i-1].raceNum)):(c=_options.selected.state,d=_options.selected.district);break}showHideRace(b,c,d)}function buildHomepageGeneralElection(a,b,c,d){_options.isHomepage&&($(".linear-nav").bind("click",homepageNextPreviousClicked),$("form.subnav-specific").submit(function(a){a.preventDefault();var b=document.createElement("a");for(b.setAttribute("href",$(this).attr("data-url")),b.setAttribute("target","_blank");b;)"A"==b.tagName&&""!=b.href?("_blank"==b.target?window.open(b.href,b.target):document.location=b.href,b=null):b=b.parentElement}));var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s={},t=0;for(t;t<d.length;t++)e=d[t],f=e.data,g=e.config,h=g.date,i=f.stateAbb,j=f.fips,k=j<10&&j>0?"0"+j:j,l=f.officeID,m=g.raceType,n=f.special,o=f.runoff,p=f.recall,q=g.bitly,r=_options.statesInfo[i].name,s.hasOwnProperty(l)||(s[l]={}),n?(s[l].hasOwnProperty("special")||(s[l].special=[]),s[l].special.push(g)):(s[l].hasOwnProperty(i)||(s[l].hasOwnProperty("states")||(s[l].states=[]),s[l].states.push({name:r,abb:i}),s[l][i]=[]),s[l][i].push(g)),_options.selected.race!=l&&""!=_options.selected.race||_options.selected.state!=i&&""!=_options.selected.state&&"US"!=_options.selected.state||_options.selected.special!=n||_options.selected.runoff!=o||!("G"==m&&"G"==b||"G"!=m&&"G"!=b)||(_options.selected.state=i,_options.selected.race=l,"H"!=l||_options.selected.district!=j&&""!=_options.selected.district||(_options.selected.district=j));_options.selected.keyRaces=s;var u="",v=_options.selected.race,w=["P","S","H","G","I","L","M"],x=0;for(x;x<w.length;x++)l=w[x],s.hasOwnProperty(l)&&($("#selectRace").removeAttr("disabled"),l!=v?u+='<option value="'+l+'">'+getOfficeName(l,!0)+"</option>":($("#selectState").removeAttr("disabled"),u+='<option value="'+l+'" selected>'+getOfficeName(l,!0)+"</option>"));$("#selectRace").html(u),selectRace(_options.selected.race)}function selectRace(a){var b=_options.selected.state,c=_options.selected.district;_options.selected.keyRaces[a].hasOwnProperty(b)||(b=""),"H"!=_options.selected.race&&(c=""),showHideRace(a,b,c)}function selectState(a){var b=_options.selected.race,c="";showHideRace(b,a,c)}function raceSelected(a){selectRace(a.currentTarget.value)}function stateSelected(a){selectState(a.currentTarget.value)}function districtSelected(a){showHideRace(_options.selected.race,_options.selected.state,a.currentTarget.value)}function showHideRace(a,b,c){var d,e,f,g,h,i,j,k=_options.selected.keyRaces,l="",m=0,n=0,o=!1,p=[],q="";for(m;m<_options.stateAbbs.length;m++)if(h=_options.stateAbbs[m],h.charAt(0)!=q&&(q=h.charAt(0),o=!1),k[a].hasOwnProperty(h)&&(o||p.push('<optgroup label="'+q+'">'),p.push('<option value="'+h+'">'+_options.statesInfo[h].name+"</option>"),""==b&&(b=h),f=k[a][h],o=!0,h==b))if("H"==a||"I"==a)for(n=0;n<f.length;n++)g=f[n],i=g.fips,j=g.raceNum,(""==c||"I"==a&&c>=0)&&(c="H"==a?i:j),("H"==a&&c==i||"I"==a&&c==j)&&(d=[g]),"H"==a?l+='<option value="'+i+'">'+getDistrictTitle(h,i)+"</option>":"I"==a&&(l+='<option value="'+j+'">'+g.title+"</option>");else d=f;$("#selectState").html(p.join("")),""!=l?($("#selectDistrict").prop("disabled",!1),$("#selectDistrict").show()):($("#selectDistrict").prop("disabled",!0),$("#selectDistrict").hide()),$("#selectDistrict").html(l),$("#selectRace").val(a),$("#selectState").val(b),$("#selectDistrict").val(c),_options.selected.race=a,_options.selected.state=b,_options.selected.district=c,e=app.model.getRacesByRaceNums(_options.selected.year,d),e.length>0&&(writeRaces(e),updateSpecialRaces()),"I"==a?($(".key-complete").show(),$(".key-democrat").hide(),$(".key-republican").hide(),$(".key-independent").hide()):"H"==a?($(".key-complete").show(),$(".key-democrat").hide(),$(".key-republican").hide(),$(".key-independent").hide()):($(".key-complete").hide(),$(".key-democrat").show(),$(".key-republican").show(),$(".key-independent").show()),_updatedOnce&&setStateColors("US")}function updateSpecialRaces(){var a=[];_options.selected.keyRaces[_options.selected.race].hasOwnProperty("special")&&(a=app.model.getRacesByRaceNums(_options.selected.year,_options.selected.keyRaces[_options.selected.race].special)),writeSpecialRaces(a)}function writeSpecialRaces(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=_options.selected.year,s=_options.selected.yearType,t=_options.selected.yearSeason,u=[],v="",w=0;if(a){for(w;w<a.length;w++)b=a[w],c=b.config,d=b.data,i=d.special,i&&(e=d.stateAbb,f=d.officeID,g=d.fips,h=d.raceTypeID,precinctsPercent=d.precinctsPercent,j=d.runoff,k=d.recall,l=c.date,m=c.bitly,n=_options.statesInfo[e].name,d.hasWinner&&""!=d.winningParty?o=getPartyClass(d.winningParty):d.hasRunoff?o="complete":(o=getColor(r,s,e,g,{},d).type,"noresults"==o?o="none":"noelection"==o&&(o="null")),_options.isHomepage||_options.isIpad||_options.isMobile?(p='<li class="type-'+o+'">',q="</li>"):(p='<dl class="'+o+'"><dt>',q="</dt><dd>"+precinctsPercent+"% Reporting</dd></dl>"),u.push(p+'<a href="'+getDetailedResultsURL(r,t,s,e,f,h,l,i,j,k)+'" target="_blank"><b aria-hidden="true" class="stateface stateface-'+e.toLowerCase()+'"></b> '+n+"</a>"+q));u.length>0&&(v=_options.isHomepage||_options.isIpad||_options.isMobile?'<h2><b aria-hidden="true" class="icon icon-bullet-star"></b> Special '+getOfficeName(f)+' Elections</h2><ol class="overview-special-list">'+u.join("")+"</ol>":'<article class="special"><header><h3><b aria-hidden="true" class="icon icon-bullet-star"></b> Special '+getOfficeName(f)+' Elections</h3></header><div class="special-results"><div class="special-results-list">'+u.join("")+"</div></div></article>")}_options.isHomepage||_options.isIpad||_options.isMobile?$(".overview-special").html(v):$(".content-group.election-intro").append(v)}function writeRaces(a){if(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=!1,r=!1,s=_options.selected.year,t=_options.selected.yearType,u=_options.selected.yearSeason,v="",w="",x="",y="",z="",A="",B="",C="",D=0;for(D;D<a.length;D++)b=a[D],c=b.config,d=b.data,raceNum=d.raceNum,e=d.stateAbb,f=d.officeID,g=d.fips,h=d.raceTypeID,x=d.precinctsPercent,i=d.special,j=d.runoff,k=d.recall,l=c.date,m=c.bitly,n=app.model.getSortedRaceVotesByVoteCount(d,s,t,r),o=getRaceVotesHTML(n,s,t,f,h,q,r),p="G"==h||"O"==h?"contains-mix":"contains-"+getPartyClass(h),"I"==f&&_options.selected.district==raceNum?(v='<div class="macro"><div class="results-about"><h6>'+c.title+'</h6><p class="reporting">'+x+'% Reporting</p><p class="share"><a href="'+getTwitterLink(getTwitterJSON(s,t,d,c,n))+'" class="twitter" target="_blank"><b aria-hidden="true" class="icon icon-twitter"></b> Tweet</a></p></div></div>',w+='<div class="results-detail">'+v+'<div class="micro"><table class="results-table"><tbody>'+o.join("")+"</tbody></table></div></div>"):"I"!=f&&(w+='<table class="results-table"><tbody>'+o.join("")+"</tbody></table>");A=app.model.getPollsClosingText(c,!1,!0),B=app.model.getPollsClosingHTMLTimestamp(c.pollclosing),y=app.model.getLastUpdatedText(!1,!0),z=app.model.getLastUpdatedHTMLTimestamp(),$(".results-data").html(w),C="H"==_options.selected.race?" "+getDistrictTitle(e,g,"html"):"I"!=_options.selected.race?" "+getOfficeName(_options.selected.race,!0):"",$(".election-group .election-subheader .title h3").html('<a href="'+getDetailedResultsURL(s,u,t,e,f,h,l,i,j,k)+'"><b aria-hidden="true" class="stateface stateface-'+e.toLowerCase()+'"></b> '+_options.statesInfo[e].name+C+"</a>"),$(".results-footer .meta .updated dd").html('<time datetime="'+z+'">'+y+"</time>"),"I"!=f?($(".results-group .reporting").html(x+"% Reporting"),$(".results-group .actions a").attr("href",getTwitterLink(getTwitterJSON(s,t,d,c,n)))):$(".supplements").hide(),$("form.subnav-specific").attr("data-url",getDetailedResultsURL(s,u,t,e,f,h,l,i,j,k))}}function updateLastUpdated(){var a;if(_options.isHomepage||_options.isIpad||_options.isMobile)a=app.model.getLastUpdatedText(!1,!0),$(".election-banner .banner-branding .timestamp").html("Updated: "+a);else{a=app.model.getLastUpdatedText(!0,!0);var b=app.model.getLastUpdatedHTMLTimestamp();$("dl.updated dd").html('<time datetime="'+b+'">'+a+"</time>")}}function updateHomepage(){var a,b=_options.selected.year,c="boolean"==typeof _options.selected.special&&_options.selected.special,d="boolean"==typeof _options.selected.runoff&&_options.selected.runoff,e="boolean"==typeof _options.selected.recall&&_options.selected.recall,f=app.model.getRaceNums(_options.selected.year,_options.selected.yearSeason,_options.selected.yearType,_options.selected.date,_options.selected.race,_options.selected.state,c,d,e,!0,"All");"H"==_options.selected.race&&(a=_options.selected.district),writeRaces(app.model.getRacesByRaceNums(b,f,a))}function updateLiveBanner(){var a="/mapdata/"+_options.selected.year+"/election_banner.json"+app.model.cacheBuster(),b="application/json",c="json";$.ajax({url:a,mimeType:b,dataType:c,cache:!0,error:function(a,b,c){doDebug("Error loading live banner JSON...")},success:function(a){var b,c,d,e,f,g,h=a.multimedia.sort(function(a,b){var c=a.order,d=b.order;return c<d?-1:c>d?1:0}),i=h.length,j=i>1?"layout-bi":"layout-full",k="",l=0;if((_options.isIpad||_options.isMobile||_options.isHomepage)&&($(".global-announce,.election-announce").remove(),i>0)){for(l;l<i;l++)b=a.multimedia[l],c=b.url,d=b.image,e=b.title,f=b.description,g=b.button_text,k+=_options.isHomepage?'<div class="announce-item"><div class="summary"><div class="figure"><a href="'+c+'"><img src="'+d+'" alt="'+e+'"></a></div><div class="title"><p class="category"><a href="'+c+'">'+e+'</a></p><h6><a href="'+c+'">'+f+'</a></h6></div></div><div class="actions"><a href="'+c+'" class="button is-emphasized">'+g+"</a></div></div>":'<article class="announce-item"><a href="'+c+'"><figure><img src="'+d+'" alt="'+e+'" /></figure><header><p class="category">'+e+" </p><h6>"+f+"</h6></header></a></article>";_options.isHomepage?$(".election-banner").after('<section class="election-announce election-module '+j+'">'+k+"</section>"):$(".global-balance").after('<section class="global-announce '+j+'">'+k+"</section>")}},complete:function(){}})}function updateBalanceOfPower(){var a=_options.selected.year,b=app.model.getBalanceOfPower(a);if((_options.isHomepage||_options.isIpad||_options.isMobile||!_options.isHomepage&&!_options.isIpad&&!_options.isMobile&&_options.isUS&&"G"!=_options.selected.race)&&b.hasOwnProperty("S")&&b.hasOwnProperty("H")){var c=100,d=b.S.D.total,e=b.S.I.total,f=b.S.R.total,g=(b.S.D.net>0?"+":"")+b.S.D.net,h=(b.S.R.net>0?"+":"")+b.S.R.net,i=d/c*100,j=e/c*100,k=f/c*100,l=435,m=b.H.D.total,n=b.H.I.total,o=b.H.R.total,p=(b.H.D.net>0?"+":"")+b.H.D.net,q=(b.H.R.net>0?"+":"")+b.H.R.net,r=m/l*100,s=n/l*100,t=o/l*100,u=0==d?"none":"block",v=0==e?"none":"block",w=0==f?"none":"block",x=0==m?"none":"block",y=0==n?"none":"block",z=0==o?"none":"block",A="",B="";_options.isHomepage||_options.isIpad||_options.isMobile?(A=".race-senate ",B=".race-house "):_options.isUS&&("S"==_options.selected.race?A=".balance-bar ":"H"==_options.selected.race&&(B=".balance-bar ")),""!=A&&($(A+".balance-header .actions a").attr("href",getBalanceOfPowerTweet(a,"S")),$(A+".balance-header .actions a").attr("target","_blank"),$(A+".balance-header .actions a").addClass("twitter"),$(A+".bar-democrat").css({width:i+"%",display:u}),$(A+".bar-independent").css({width:j+"%",display:v}),$(A+".bar-republican").css({width:k+"%",display:w}),_options.isHomepage||_options.isIpad||_options.isMobile?($(A+".bar-democrat").html(i+"% Democratic"),$(A+".bar-independent").html(j+"% Independent"),$(A+".bar-republican").html(k+"% Republican")):_options.isUS&&($(A+".bar-democrat strong").html(d),$(A+".bar-independent strong").html(e),$(A+".bar-republican strong").html(f)),_options.isHomepage||_options.isIpad||_options.isMobile?($(A+".balance-stats .type-democrat .count").html(d),$(A+".balance-stats .type-republican .count").html(f)):_options.isUS&&($(".balance-stats .type-democrat p").html("Net "+g+", Gained "+b.S.D.gained+", Lost "+b.S.D.lost),$(".balance-stats .type-republican p").html("Net "+h+", Gained "+b.S.R.gained+", Lost "+b.S.R.lost),
$(".balance-stats .type-democrat .macro").contents().hasOwnProperty(0)&&($(".balance-stats .type-democrat .macro").contents()[0].nodeValue=d),$(".balance-stats .type-republican .macro").contents().hasOwnProperty(0)&&($(".balance-stats .type-republican .macro").contents()[0].nodeValue=f))),""!=B&&($(B+".balance-header .actions a").attr("target","_blank"),$(B+".balance-header .actions a").addClass("twitter"),$(B+".balance-header .actions a").attr("href",getBalanceOfPowerTweet(a,"H")),$(B+".bar-democrat").css({width:r+"%",display:x}),$(B+".bar-independent").css({width:s+"%",display:y}),$(B+".bar-republican").css({width:t+"%",display:z}),_options.isHomepage||_options.isIpad||_options.isMobile?($(B+".bar-democrat").html(r+"% Democratic"),$(B+".bar-independent").html(s+"% Independent"),$(B+".bar-republican").html(t+"% Republican")):_options.isUS&&($(B+".bar-democrat strong").html(m),$(B+".bar-independent strong").html(n),$(B+".bar-republican strong").html(o)),_options.isHomepage||_options.isIpad||_options.isMobile?($(B+".balance-stats .type-democrat .count").html(m),$(B+".balance-stats .type-republican .count").html(o)):_options.isUS&&($(".balance-stats .type-democrat p").html("Net "+p+", Gained "+b.H.D.gained+", Lost "+b.H.D.lost),$(".balance-stats .type-republican p").html("Net "+q+", Gained "+b.H.R.gained+", Lost "+b.H.R.lost),$(".balance-stats .type-democrat .macro").contents().hasOwnProperty(0)&&($(".balance-stats .type-democrat .macro").contents()[0].nodeValue=m),$(".balance-stats .type-republican .macro").contents().hasOwnProperty(0)&&($(".balance-stats .type-republican .macro").contents()[0].nodeValue=o))),$(".banner-balance .actions").removeClass("erase")}}function getBalanceOfPowerTweet(a,b){var c=app.model.getBalanceOfPower(a),d="",e="S"==b?100:435,f="S"==b?51:223,g=c[b].D.total,h=c[b].I.total,i=c[b].R.total,j=g+h+i,k=e-j,l=k>0?" "+k+" "+(1==k?"seat":"seats")+" undecided":"";g>=f?d="D":i>=f&&(d="R");var m="",n="",o=getOfficeName(b);return app.model.officeHasResults(b)?""==d?m=a+" "+o+" elections: "+g+"(D)%3B "+(h>0?h+"(I)%3B ":"")+i+"(R)%3B"+l:""!=d&&("S"==b&&"D"==d?winStr="Dems keep control of Senate":"S"==b&&"R"==d?winStr="GOP wins control of Senate":"H"==b&&"R"==d?winStr="GOP keeps control of House":"H"==b&&"D"==d&&(winStr="Dems win control of House"),m=winStr+": "+g+"(D)%3B "+h+"(I)%3B "+i+"(R)%3B"+l):m="No results yet for "+a+" "+o+" elections. Check back soon at",n="string"==typeof _bitlyURL?_bitlyURL:"http%3A%2F%2Fpolitico.com","https://twitter.com/intent/tweet?text="+m+"&url="+n+"&hashtags=election2014"}function buildHomepageOld(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=0,z=!1,A=!1,B={},C=[],D=["P","S","H","G","I","L","M"],E=["D","R","I","O","G"],F="",G="",H="",I="",J="",K="",L="",M='<div class="race-content">',N=[],O="",P='<div class="race-results',Q=" high-capacity",R="",S="",T="",U='"><table class="results-table"><tbody>',V="",W="</tbody></table></div>",X="",Y='<div class="race-details"><div class="race-meta"><dl>',Z="",_="<dd>Updated: "+app.model.getLastUpdatedText(!1,!0)+"</dd><dd>Source: Associated Press</dd></dl>",aa="",ba='</div><div class="race-key"><h3>Key:</h3> <dl><dt>(i)</dt> <dd>Incumbent,</dd> <dt>*</dt> <dd>Run-off</dd></dl></div></div>';for(y;y<d.length;y++)e=d[y],f=e.data,g=e.config,h=g.date,i=f.stateAbb,j=f.fips,k=j<10&&j>0?"0"+j:j,l=f.officeID,m=g.raceType,n=f.special,o=f.runoff,p=f.recall,q=g.bitly,r=_options.statesInfo[i].name,s=i+"_"+l+"_"+k+"_"+m+(n?"_special":"")+(o?"_runoff":"")+(p?"_recall":""),w=app.model.getSortedRaceVotesByVoteCount(f,a,b,A),N=getRaceVotesHTML(w,a,b,l,m,z,A),S=N.length>6?"pos-alpha":"pos-omega",T="G"==m||"O"==m?"contains-mix":"contains-"+getPartyClass(m),R='<div class="results-data '+S+" "+T,V=P+(N.length>6?Q:"")+'">'+R+U,N.length>6&&(N.length>12&&(N=N.slice(0,12-N.length)),x=Math.ceil(N.length/2)-1,R='<div class="results-data pos-beta '+T,N[x]+=W+R+U),O=V+N.join("")+W+"</div>",F=getHomepageRaceTitle(i,l,j,m,n,o),H=_options.statesInfo[i].atLarge?"At-Large":i+"-"+k,G=(n?'<b aria-hidden="true" class="icon icon-bullet-star"></b> ':"")+H+(n?" Special Primary":"")+(o?" Runoff":"")+" <em>"+getPartyAbb(m).toUpperCase()+"</em></a></li>",K=getDetailedResultsURL(a,c,b,i,l,m,h,n,o,p),I='<div class="race-header"><div class="title"><h2><a href="'+K+'"><b aria-hidden="true" class="stateface stateface-'+i.toLowerCase()+'"></b> '+r+"</a></h2>",J='</div><div class="actions"><a class="election-button is-emphasized" href="'+K+'"><b aria-hidden="true" class="icon icon-table"></b> View Detailed Results</a></div></div>',Z="<dt>Precincts Reporting: "+e.precinctsPercent+"%</dt>",aa='<a href="'+getTwitterLink(getTwitterJSON(a,b,e,g,w))+'" class="election-button" target="_blank"><b aria-hidden="true" class="icon icon-twitter"></b> Tweet These Results</a>',X=Y+Z+_+aa+ba,L=O+X,t={raceTabID:s,houseTitle:"H"==l?G:"",preResultsHeaderHTML:I,raceTitle:F,postResultsHeaderHTML:J,raceResultsDetailsHTML:L,raceURL:K},B.hasOwnProperty(i)||(B[i]={},B[i]={numRaces:0},C.push({stateAbb:i,stateName:r})),B[i].hasOwnProperty(l)||("H"==l?(B[i].numRaces++,B[i][l]=[]):B[i][l]={}),"H"!=l&&B[i].numRaces++,B[i][l].hasOwnProperty(m)||"H"==l||(B[i][l][m]={}),"H"!=l?B[i][l][m]=t:B[i][l].push(t);C.sort(function(a,b){var c=a.stateName,d=b.stateName;return c<d?-1:c>d?1:0});var ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma=0,na=[],oa="",pa='<ul class="nav-state">',qa="</ul>",ra="",sa='<ul class="nav-race">',ta="</ul>",ua="",va='<ul class="nav-house">',wa="</ul>";for(ma;ma<C.length;ma++){for(fa=[],i=C[ma].stateAbb,r=C[ma].stateName,ha="state"+i,ia=B[i],ka=ia.numRaces,oa+='<li><a href="#'+ha+'">'+r+"</a>",ra="",ca=0;ca<D.length;ca++)if(u=D[ca],ia.hasOwnProperty(u))if("H"!=u)for(da=0;da<E.length;da++)v=E[da],ia[u].hasOwnProperty(v)&&(ja=ia[u][v],s=ja.raceTabID,I=ja.preResultsHeaderHTML,F=ja.raceTitle,J=ja.postResultsHeaderHTML,L=ja.raceResultsDetailsHTML,ra+='<li><a href="#'+s+'">'+F+"</a>",1==ka?fa.push(I+"<h3>"+F+"</h3>"+J+M+L+"</div>"):fa.push('<div id="'+s+'">'+I+J+M+L+"</div></div>"));else if(ia[u].length>0){for(ia[u].sort(function(a,b){var c=a.raceTabID,d=b.raceTabID;return c<d?-1:c>d?1:0}),ra+='<li><a href="#'+i+'_H">House Primaries</a>',ga=[],ua="",ea=0;ea<ia[u].length;ea++)ja=ia[u][ea],s=ja.raceTabID,I=ja.preResultsHeaderHTML,F=ja.raceTitle,G=ja.houseTitle,raceURL=ja.raceURL,J=ja.postResultsHeaderHTML,L=ja.raceResultsDetailsHTML,ua+='<li><a href="#'+s+'">'+G+"</a>",1==ka?fa.push(I+"<h3>"+F+"</h3>"+J+M+L+"</div>"):ga.push('<div id="'+s+'">'+L+"</div>");la='<div class="overview-house"><h3>Key Races: <em>Select A District To View</em></h3><a href="'+raceURL+'">View All House Races &raquo;</a></div>',ka>1&&fa.push('<div id="'+i+'_H">'+I+J+M+'<div class="wrapper-house">'+la+va+ua+wa+ga.join("")+"</div></div></div>")}ra=ka>1?sa+ra+ta:"",na.push('<div id="'+ha+'"><div class="wrapper-race">'+ra+fa.join("")+"</div></div>")}for(oa=C.length>1?pa+oa+qa:"",$(".wrapper-state").html(oa+na.join("")),$("html").live("click",htmlClicked),1==C.length?$(".election-banner .wrapper-state").addClass("wrapper-state-revealed"):$(".election-banner .wrapper-state").tabs({show:function(a,b){$(this).addClass("wrapper-state-revealed")}}),$(".election-banner .wrapper-race").tabs({fx:{opacity:"toggle"},show:function(a,b){$(this).addClass("wrapper-race-revealed")}}),ma=0;ma<C.length;ma++)1==B[C[ma].stateAbb].numRaces&&$("#state"+C[ma].stateAbb+" .wrapper-race").addClass("wrapper-race-revealed");$(".election-banner .nav-race li a").click(function(a){$(this).closest($(".nav-race")).toggleClass("nav-race-revealed")}),$(".election-banner .wrapper-house").tabs({show:function(a,b){$(this).addClass("wrapper-house-revealed")}});var xa=$(".election-banner .wrapper-house .nav-house");xa.append('<li><a href="#" class="nav-district next-district">Next District</a></li>'),xa.prepend('<li><a href="#" class="nav-district previous-district">Previous District</a></li>'),$(".nav-district").live("click",function(a){var b=$(this).closest(".wrapper-house").tabs(),c=b.tabs("option","selected"),d=$(".election-banner .wrapper-house .nav-house .ui-corner-top").length;return $(this).hasClass("next-district")?c+1>=d?c=0:c++:$(this).hasClass("previous-district")&&(c-1<0?c=d-1:c--),b.tabs("select",c),!1})}function updateHomepageOld(){var a=[],b=_options.selected.year,c=_options.selected.yearSeason,d=_options.selected.yearType,e="All",f="All",g=!0,h=!0,i=[],j=[];if(i=app.model.getRaceNums(b,c,d,"LIVE",e,f,null,null,null,g,h),j=app.model.getRacesByRaceNums(b,i,null,!1),j.length>0){var k,l,m,n,o,p,q,r,s,t,u,v,w=0,x=!1,y=!1,z=[],A="",B='<div class="race-results',C=" high-capacity",D="",E="",F="",G='"><table class="results-table"><tbody>',H="",I="</tbody></table></div>",J="",K='<div class="race-details"><div class="race-meta"><dl>',L="",M="<dd>Updated: "+app.model.getLastUpdatedText(!1,!0)+"</dd><dd>Source: Associated Press</dd></dl>",N="",O='</div><div class="race-key"><h3>Key:</h3> <dl><dt>(i)</dt> <dd>Incumbent,</dd> <dt>*</dt> <dd>Run-off</dd></dl></div></div>';for(w;w<j.length;w++)k=j[w].data,l=j[w].config,f=k.stateAbb,m=k.fips,n=m<10&&m>0?"0"+m:m,e=k.officeID,o=l.raceType,p=k.special,q=k.runoff,r=k.recall,s=l.bitly,t=f+"_"+e+"_"+n+"_"+o+(p?"_special":"")+(q?"_runoff":"")+(r?"_recall":""),u=app.model.getSortedRaceVotesByVoteCount(k,b,d,y),z=getRaceVotesHTML(u,b,d,e,o,x,y),E=z.length>6?"pos-alpha":"pos-omega",F="G"==o||"O"==o?"contains-mix":"contains-"+getPartyClass(o),D='<div class="results-data '+E+" "+F,H=B+(z.length>6?C:"")+'">'+D+G,z.length>6&&(z.length>12&&(z=z.slice(0,12-z.length)),v=Math.ceil(z.length/2)-1,D='<div class="results-data pos-beta '+F,z[v]+=I+D+G),A=H+z.join("")+I+"</div>",L="<dt>Precincts Reporting: "+k.precinctsPercent+"%</dt>",N='<a href="'+getTwitterLink(getTwitterJSON(b,d,k,l,u))+'" class="election-button" target="_blank"><b aria-hidden="true" class="icon icon-twitter"></b> Tweet These Results</a>',J=K+L+M+N+O,a.push({tabID:t,officeID:e,html:A+J})}w=0;var P,Q,e,R;for(w;w<a.length;w++)P=a[w],Q=P.html,e=P.officeID,R=P.tabID,"H"==e?$("#"+R).html(Q):$("#"+R+" .race-content").html(Q)}function getHomepageRaceTitle(a,b,c,d,e,f){var g="";return g=("H"==b?getDistrictTitle(a,c,"html")+" ":"")+(e?"Special ":"")+("H"==b?"":getOfficeName(b)+" ")+("G"==d?"":getPartyName(d,!1))+" "+("G"==d?"Election ":"Primary ")+(f?"Runoff ":"")}function htmlClicked(a){$(".nav-race").hasClass("nav-race-revealed")&&$(".nav-race").removeClass("nav-race-revealed")}function getTwitterJSON(a,b,c,d,e){var f,g,h=0,i=[];for(h;h<e.length;h++)f=e[h],g=app.model.getCandidateLastName(f.candID,a,b).replace(/'/g,"&quot;"),i.push({votepercent:f.votepercent,votecount:f.votecount,lastName:g,winner:f.winner,runoff:f.runoff,party:f.party});return{year:_options.selected.year,date:_options.selected.date,hasResults:c.hasResults,hasWinner:c.hasWinner,hasRunoff:c.hasRunoff,special:d.special,runoff:d.runoff,stateAbb:c.stateAbb,precincts:c.precinctsPercent,fips:c.fips,officeID:c.officeID,raceType:c.raceTypeID,yearType:b,unitName:c.subunitName,candidates:i,bitly:d.bitly,title:d.title.toLowerCase()}}function getTwitterLink(a){var b,c,d="",e="",f=a.candidates,g=1==f.length,h=!1,i=!0,j="",k=[],l=[],m="",n=0,o=0;for(o;o<f.length;o++)b=f[o],1==o&&f[0].votecount==f[1].votecount&&(h=!0),b.lastName=b.lastName.replace(/\&quot\;/g,"%27"),i===!0&&(0==o?j=b.party:""!=j&&j==b.party||(i=!1)),b.runoff&&k.push(b),b.winner&&l.push(b);var p="%23"+a.stateAbb;switch(a.officeID){case"S":p+="Sen";break;case"H":p+=_options.statesInfo[a.stateAbb].atLarge?"":a.fips<10?"0"+a.fips:a.fips;break;case"G":p+="Gov";break;case"I":p+="";break;case"M":p+="Mayor";break;case"L":p+="LTGov"}var q="",r=a.fips>999;q=r&&"DC"!=a.stateAbb&&"AK"!=a.stateAbb?a.unitName+" "+("LA"==a.stateAbb?"Parish":"County")+" in "+p+" ":p+("H"==a.officeID&&_options.statesInfo[a.stateAbb].atLarge?" At-Large":"")+" ";var s="";s="I"==a.officeID?a.title+" ballot measure":"O"==a.raceType&&a.hasWinner&&!r?"general election"+(a.runoff?" runoff":""):"G"==a.raceType?(a.runoff?"runoff ":"")+"election":"O"==a.raceType?"open primary"+(a.runoff?" runoff":""):"primary"+(a.runoff?" runoff":"");var t=i?j:getPartyAbb(a.raceType),u=q+("O"!=a.raceType&&"G"!=a.raceType?t+" ":"")+(a.special?"special ":"")+s;if("I"==a.officeID&&r&&"DC"!=a.stateAbb&&"AK"!=a.stateAbb&&(u=p+" "+s+" in "+a.unitName+" "+("LA"==a.stateAbb?"Parish":"County")),r&&"DC"!=a.stateAbb&&"AK"!=a.stateAbb||!a.hasWinner&&!a.hasRunoff)if(r&&100==a.precincts&&"DC"!=a.stateAbb&&"AK"!=a.stateAbb&&!h)d="I"!=a.officeID?f[0].lastName+" carries "+u+"%3B "+a.precincts+"%25 reporting.":p+" "+s+": %22"+f[0].lastName+"%22 carries "+a.unitName+" "+("LA"==a.stateAbb?"Parish":"County")+"%3B "+a.precincts+"%25 reporting.";else if(a.hasResults){for(o=0;o<f.length&&(b=f[o],b.lastName=b.lastName.replace(/\&quot\;/g,"%27"),e+=b.lastName+" "+b.votepercent+"%25",1!=o&&o!=f.length-1);o++)e+=", ";d=e+"%3B "+a.precincts+"%25 reporting "+("I"==a.officeID?"for":"in")+" "+u+"."}else a.hasResults||(d="No results for "+u+". Check back soon on");else{if(l.length>0)if("I"!=a.officeID){var v=0;for(v;v<l.length;v++)0!=v&&(v==l.length-1?d+=" and ":l.length>2&&(d+=", ")),d+=f[v].lastName;l.length>1||"O"==a.raceType&&"P"==_options.selected.yearType?d+=(1==l.length?" advances to ":" advance to ")+u:l.length>0&&(d+=(1==l.length?" wins ":" win ")+(g?"uncontested ":"")+u),a.hasWinner&&a.hasRunoff&&(d+="%3B ")}else c=0,m="No"==l[0].lastName||"Against"==l[0].lastName||"Reject"==l[0].lastName||"Repealed"==l[0].lastName?"does not pass":"passes",d=p+" "+s+" "+m;if(k.length>0){for(n=0;n<k.length;n++)0!=n&&(n==k.length-1?d+=" and ":k.length>2&&(d+=", ")),d+=k[n].lastName;d+=(1==k.length?" advances ":" advance ")+"to runoff"}!a.hasWinner&&a.hasRunoff&&(d+=" in "+u),d+="%3B "+a.precincts+"%25 reporting."}var w="";return w="string"==typeof _bitlyURL?_bitlyURL:(_options.isHomepage||_options.isIpad||_options.isMobile)&&a.hasOwnProperty("bitly")?a.bitly:"http%3A%2F%2Fpolitico.com","https://twitter.com/intent/tweet?text="+d+"&url="+w+"&hashtags=election2014"}function hidePopup(){app.popup&&(_options.selected.popup={},app.popup.hidePopup(!1)),app.map&&app.map.doClicked()}function showPopup(a,b){if(app.popup&&a&&""!=a){if(b)app.popup.setPopup(a);else{var c=getXY();app.popup.setPopup(a,c.x,c.y)}app.popup.showPopup()}}function updatePopup(a,b){var c="undefined"==typeof a||null==a;c?a=_options.selected.popup:_options.selected.popup=a;var d=app.map.getColor(_options.selected.popup.stateAbb,_options.selected.popup.fips).color,e=null,f=app.model.getRaceNums(a.year,a.yearSeason,a.yearType,"All",a.officeID,a.stateAbb,_options.selected.special,_options.selected.runoff,_options.selected.recall,null,e);d==_options.colors.noelection?hidePopup():f.length>0||_options.isSchedule||e?(app.popup&&app.popup.setFixedPosition(!0),app.map&&app.map.doClicked(a.stateAbb,a.fips),showPopup(getPopupHTML(a.tableType,a.year,a.yearSeason,a.yearType,a.stateAbb,a.fips,a.officeID,f),b)):hidePopup()}function popupCloseClicked(){hidePopup()}function stateOver(a){app.map.doOver(a,0)}function stateOut(a){app.map.doOut(a,0)}function countyOver(a,b,c){app.map&&app.map.doOver(a,b)}function countyOut(a,b,c){app.map&&app.map.doOut(a,b)}function countyClicked(a,b,c){var d,e=_options.selected.year,f=_options.selected.yearType,g=_options.selected.yearSeason,h=_options.selected.race;d="I"==h?"county-ballot":"county-"+("P"==_options.selected.yearType?"primary":"general");var i={tableType:d,date:_options.selected.date,year:e,yearType:f,yearSeason:g,stateAbb:a,fips:b,officeID:h};updatePopup(i)}function districtOver(a,b){app.map&&app.map.doOver(a,b)}function districtOut(a,b){app.map&&app.map.doOut(a,b)}function districtClicked(a,b){var c=_options.selected.year,d=_options.selected.yearType,e=_options.selected.yearSeason,f=_options.selected.race,g="district-"+("P"==_options.selected.yearType?"primary":"general"),h={tableType:g,date:_options.selected.date,year:c,yearType:d,yearSeason:e,stateAbb:a,fips:b,officeID:f};updatePopup(h)}function stateClicked(a,b){if((_options.isUS||!_options.isUS&&_options.selected.state==a)&&"H"==_options.selected.race&&_options.statesInfo[a].atLarge&&_init)districtClicked(a,1);else{var c=_options.selected.year,d=_options.selected.yearType,e=_options.selected.yearSeason,f=0,g=_options.selected.race,h=_options.selected.date,i=app.map.getColor(a,0).color;if(_options.isHomepage||_options.isIpad||_options.isMobile)if(_init){if("undefined"!=typeof i){var j="http://"+window.location.hostname+getDetailedResultsURL(c,e,d,a,g,d,h,!1,!1,!1);if(_options.isIpad)$(".overview-group a").attr("target","_blank"),$(".overview-group a").attr("href",j),$(".overview-group a")[0].click();else{var k=document.createElement("a");for(k.setAttribute("href",j),k.setAttribute("target","_blank");k;)"A"==k.tagName&&""!=k.href?("_blank"==k.target?window.open(k.href,k.target):document.location=k.href,k=null):k=k.parentElement}}}else;else if(_options.isUS&&"undefined"!=typeof i){var l;l="H"==g?"state-district-"+("P"==_options.selected.yearType?"primary":"general"):"I"==g?"state-ballot":_options.isSchedule?"state-schedule":"state-"+("P"==_options.selected.yearType?"primary":"general");var m={tableType:l,date:_options.selected.date,year:c,yearType:d,yearSeason:e,stateAbb:a,fips:f,officeID:g};updatePopup(m)}else _options.isUS||"US"!=_options.selected.state&&""!=_options.selected.state?hidePopup():_init||(setAnimating(!0),setDraggable(!1),"US"!=_options.selected.state&&""!=_options.selected.state&&("P"==_options.selected.race||"S"==_options.selected.race||"G"==_options.selected.race?app.map.hideCountiesByStateAbb(_options.selected.state):"H"==_options.selected.race&&app.map.hideDistrictsByStateAbb(_options.selected.state),setStateColors()),hidePopup(),setSelected(a),app.map.zoomToStateAbb(_options.selected.state,b))}}function getLazyHTML(a,b,c,d,e,f,g,h){var i="",j="",k=getLazyFooterHTML(),l=f>0?f:null,m=app.model.getRacesByRaceNums(b,h,l,!1);return m.length>0&&(j=getPopupResultsHTML(a,!1,!0,m,b,c,d,f),"string"==typeof j&&""!=j&&(i='<div class="results-dataset">'+j+"</div>"+k)),i}function getPopupHTML(a,b,c,d,e,f,g,h){var i="",j="",k=getPopupHeaderHTML(a,b,c,d,e,f,g,null,null,!1,!1,!1,h),l=getPopupFooterHTML(a,b,c,d,e,g,null,null,!1,!1,!1),m="state-district-primary"==a||"state-district-general"==a||"state-ballot"==a||"county-ballot"==a;if("state-schedule"==a)j=getScheduleHTML(e),i=k+'<div class="tooltip-content"><article class="results-group">'+j+l+"</article></div>";else{var n=f>0||_options.mapShowNationalDistricts?f:null,o=app.model.getRacesByRaceNums(b,h,n,!1);o.length>0||m?(j='<div class="results-dataset">'+getPopupResultsHTML(a,!0,!1,o,b,c,d,f)+"</div>",i=k+'<div class="tooltip-content"><article class="results-group">'+j+l+"</article></div>"):(j='<div class="results-dataset"><div class="results-message"><p>Results Coming November 04, 2014</p></div></div>',i=k+'<div class="tooltip-content"><article class="results-group">'+j+l+"</article></div>")}return i}function getPopupHeaderHTML(a,b,c,d,e,f,g,h,i,j,k,l,m){var n;n=f>0&&!_options.isUS?"javascript:electionApp.gotoDetail('"+f+"')":getDetailedResultsURL(b,c,d,e,g,h,i,j,k,l);var o="";if("state-schedule"==a)o=_options.statesInfo[e].name+" Election Schedule";else switch(a=a.split("-")[0]){case"state":o=_options.statesInfo[e].name+" "+getOfficeName(g)+" "+getPopupRaceName(m);break;case"district":o=(_options.mapShowNationalDistricts?_options.statesInfo[e].name+" ":"")+getDistrictTitle(e,f,"html");break;case"county":o=app.map.getSelectedSubunit().name+" "+("AK"==e||"DC"==e?"":"LA"==e?"Parish":"County")}return'<header class="tooltip-header"><div class="title"><h2><a href="'+n+'">'+o+'</a></h2></div><div class="actions"><a href="javascript:electionApp.popupCloseClicked();" class="close"><b aria-hidden="true" class="icon icon-close"></b> <span class="icon-text">Close</span></a></div></header>'}function getPopupFooterHTML(a,b,c,d,e,f,g,h,i,j,k){var l=getDetailedResultsURL(b,c,d,e,f,g,h,i,j,k),m="/"+b+"-election/results/"+getStateURLName(e)+"/",n="javascript:electionApp.gotoElectionResults()",o="",p="";if("state-schedule"==a)o='<li><a href="'+m+'">State Overview</a></li>';else switch(a=a.split("-")[0],p='<div class="text-key"><dl><dt>(i)</dt> <dd>Incumbent,</dd> <dt>*</dt> <dd>Runoff</dd></dl></div>',a){case"state":o='<li><a href="'+l+'">Detailed Results</a></li> <li><a href="'+m+'">State Overview</a></li>';break;case"district":o='<li><a href="'+(_options.isUS?l:n)+'">Detailed Results</a></li>'+(_options.isUS?' <li><a href="'+m+'">State Overview</a></li>':"");break;case"county":o='<li><a href="'+n+'">Detailed Results</a></li>'}return'<footer class="results-footer"><div class="supplement-links"><ul>'+o+"</ul></div>"+p+"</footer>"}function getLazyFooterHTML(){return'<footer class="results-footer"><div class="text-key"><dl><dt>(i)</dt> <dd>Incumbent,</dd> <dt>*</dt> <dd>Runoff</dd></dl></div></footer>'}function getScheduleHTML(a){var b,c,d,e,f,g,h,i=$("li[data-state|='"+a+"']"),j='<div class="results-meta"><div class="title"><h5>Available Elections &amp; Dates</h5></div></div>',k="",l="",m="",n="",o=0;for(o;o<i.length;o++)b=i[o],c=b.dataset.date,d!=c&&(""!=l&&(k+="<tr>"+l+'<td class="event-list"><ul>'+m+"</ul></td></tr>",m=""),d=c,e=d.substr(0,4),f=d.substr(4,2),g=d.substr(6,2),h=parseInt(g,10),l='<th scope="row" class="event-date"><time datetime="'+e+"-"+f+"-"+g+'">'+app.model.getMonthNameByNum(f-1)+" "+h+", "+e+"</time></th>"),n=$(b).hasClass("inactive")?b.innerText||b.textContent:b.innerHTML,m+="<li>"+n+"</li>";return k+="<tr>"+l+'<td class="event-list"><ul>'+m+"</ul></td></tr>",resultsHTML='<table class="event-table"><tbody>'+k+"</tbody></table>",'<div class="results-dataset"><div class="results-row layout-full"><div class="results-data pos-omega contains-mixed">'+j+resultsHTML+"</div></div></div>"}function getPopupResultsHTML(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t={},u="",v=!1,w=!1,x=!1,y=!1,z="county"==a.split("-")[0],A="state-district-primary"==a||"state-district-general"==a||"state-ballot"==a||"county-ballot"==a,B=0,C=0;"state-district-primary"!=a&&"state-district-general"!=a||d.sort(function(a,b){if(a.fips===b.fips){var c=a.raceType.toLowerCase(),d=b.raceType.toLowerCase();return c<d?-1:c>d?1:0}return a.fips-b.fips});var D="";for(C;C<d.length;C++)i=d[C].data,j=d[C].config,k=j.raceType,l=i.stateAbb,m=i.officeID,n=j.date,o="O"!=k?getPartyName(k,!1):getPartyName(k,!1)+" Primary",(A&&i.politicoPick||"state-district-primary"!=a&&"state-district-general"!=a&&"state-ballot"!=a&&"county-ballot"!=a)&&(A?"H"==m?(r="Key House races",s="P"==g?getPartyClass(k):i.hasWinner&&""!=i.winningParty&&!i.hasRunoff&&"O"!=k?getPartyClass(i.winningParty):"O"==k&&i.hasWinner?"complete":i.hasResults||i.precinctsPercent>0?"partial":"none",B++,D=getDetailedResultsURL(e,f,g,l,m,k,n,!1,!1,!1),q=_options.statesInfo[i.stateAbb].atLarge?"At-Large":l+"-"+i.fips,u+='<li class="type-'+s+'"><a href="'+D+'"><h6>'+q+" "+getPartyAbb(k)+"</h6><p>"+i.precinctsPercent+"% Reporting</p></a></li>"):"I"==m&&(r="Key Ballot Measures",p=app.model.getSortedRaceVotesByVoteCount(i,e,g,z),B++,u+='<div class="results-detail" data-racenum="'+j.raceNum.slice(2)+'"><div class="macro"><div class="results-about"><h6>'+j.title+"</h6>"+(c?'<p class="summary">'+j.description+" </p>":"")+'<p class="reporting">'+i.precinctsPercent+"% Reporting</p>"+(c?'<p class="share"><a href="'+getTwitterLink(getTwitterJSON(e,g,i,j,p))+'" class="twitter" target="_blank"><b aria-hidden="true" class="icon icon-twitter"></b> Tweet</a></p>':"")+'</div></div><div class="micro"><table class="results-table"><tbody>'+getRaceVotesHTML(p,e,g,m,k,b,z).join("")+"</tbody></table></div></div>"):("D"==k?v=!0:"R"==k?w=!0:"G"==k?x=!0:"O"==k&&(y=!0),p=app.model.getSortedRaceVotesByVoteCount(i,e,g,z),raceMetaStr='<div class="results-meta"><div class="title"><h5>'+o+'</h5> <p class="reporting">'+i.precinctsPercent+"% Reporting</p>",raceMetaStr+="</div>",c&&(raceMetaStr+='<div class="actions"><a href="'+getTwitterLink(getTwitterJSON(e,g,i,j,p))+'" class="twitter" target="_blank"><b aria-hidden="true" class="icon icon-twitter"></b> <span class="icon-text">Tweet</span></a></div>'),raceMetaStr+="</div>",u='<table class="results-table"><tbody>',u+=getRaceVotesHTML(p,e,g,m,k,b,z).join(""),u+="</tbody></table>",t.hasOwnProperty(k)||(t[k]={}),t[k].html=raceMetaStr+u,t[k].raceNum=i.raceNum,B++));0==B&&A&&("H"==_options.selected.race?r="No Key House races":"I"==_options.selected.race&&(r="No Key Ballot measures"));var E=v&&w;return"state-district-primary"!=a&&"state-district-general"!=a&&"state-ballot"!=a&&"county-ballot"!=a?(u='<div class="results-row '+(E?"layout-split":"layout-full")+'">',v&&(u+='<div class="results-data '+(E?"pos-alpha":"pos-omega")+' contains-democrat" data-racenum="'+t.D.raceNum.slice(2)+'">'+t.D.html+"</div>"),w&&(u+='<div class="results-data '+(E?"pos-beta":"pos-omega")+' contains-republican" data-racenum="'+t.R.raceNum.slice(2)+'">'+t.R.html+"</div>"),y&&(u+='<div class="results-data pos-omega contains-mix" data-racenum="'+t.O.raceNum.slice(2)+'">'+t.O.html+"</div>"),x&&(u+='<div class="results-data pos-omega contains-mix" data-racenum="'+t.G.raceNum.slice(2)+'">'+t.G.html+"</div>"),u+="</div>"):"H"==_options.selected.race?u='<div class="results-row layout-full"><div class="results-data pos-omega contains-mix"><div class="results-meta"><div class="title"><h5>'+r+'</h5></div></div><div class="reporting-summary"><ul class="reporting-list">'+u+"</ul></div></div></div>":"I"==_options.selected.race&&(u='<div class="results-row layout-full"><div class="results-data pos-omega contains-ballot"><div class="results-meta"><div class="title"><h5>'+r+"</h5></div></div>"+u+"</div></div>"),u}function getRaceVotesHTML(a,b,c,d,e,f,g){var h,i,j,k=1==a.length,l=0,m=[];for(l;l<a.length;l++)i=a[l],j=app.model.getCandidate(i.candID,b,c),h="",i&&j&&(h+="I"!=d?'<tr class="type-'+getPartyClass(i.party)+'"><th scope="row" class="results-name"><span class="name-combo">':'<tr class="type-ballot"><th scope="row" class="results-name"><span class="name-combo">',"O"!=e&&"G"!=e||"I"==d||(h+='<span class="token token-party"><abbr title="'+getPartyName(i.party,!1)+'">'+getPartySingleCharacter(i.party)+"</abbr></span> "),!i.winner&&!i.runoff||g||(h+='<span class="token token-winner"><b aria-hidden="true" class="icon icon-check"></b><span class="icon-text">Winner</span></span>'),i.runoff&&!g&&(h+="*"),h+=" "+(""!=j.firstName?j.firstName.charAt(0)+". ":"")+j.lastName,i.incumbent&&(h+=" (i)"),h+="</span></th>",k?h+='<td class="results-exception">Uncontested</td>':(h+='<td class="results-percentage"><span class="percentage-combo"><span class="number">'+app.model.formatNumberDecimal(i.votepercent)+"%</span>",f||_options.isHomepage||_options.isIpad||_options.isMobile||(h+='<span class="graph"><span class="bar"><span class="index" style="width:'+app.model.formatNumberDecimal(i.votepercent)+'%;"></span></span></span>'),h+="</span></td>",h+='<td class="results-popular">'+app.model.formatNumberCommas(i.votecount)+"</td>"),h+="</tr>"),m.push(h);return f&&m.length>6&&(m=m.slice(0,6-m.length)),m}function onMouseMove(a){if(app.popup){var b=getXY(a);app.popup.getFixedPosition||app.popup.movePopup(b.x,b.y)}}function getXY(a){var b=0,c=0;if(!a)var a=window.event;return"undefined"!=typeof a&&(a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(a.clientX||a.clientY)&&(b=a.clientX+document.getElementById(_options.mapContainer).scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.getElementById(_options.mapContainer).scrollTop+document.documentElement.scrollTop)),b-=$("#"+_options.mapContainer).offset().left,c-=$("#"+_options.mapContainer).offset().top,b<0&&(b=_mousePosition.x),c<0&&(c=_mousePosition.y),_mousePosition={x:b,y:c}}function dragStart(a){disableMouseMove(),hidePopup()}function dragEnd(a){enableMouseMove()}function zoomComplete(a){if(_zoomStart=!_zoomStart,"US"!=_options.selected.state&&""!=_options.selected.state){var b=!1;app.map&&!app.map.hasVectors(_options.selected.state)&&_zoomStart&&(b=!0,addTasks([{task:"loadVectors",params:[_options.selected.state]}])),app.model&&_zoomStart&&(b=!0,addTasks([{task:"loadData",params:[_options.selected.state]}])),b?addTasks([{task:"zoomComplete"}]):(_zoomStart=!1,"H"!=_options.selected.race?(setCountyColors(_options.selected.state),app.map.showCountiesByStateAbb(_options.selected.state)):(setDistrictColors(_options.selected.state),app.map.showDistrictsByStateAbb(_options.selected.state)),setAnimating(!1),setDraggable(!0))}else setAnimating(!1),setDraggable(!1);doNextTask()}function fullExtent(){_options.isAnimating||"US"==_options.selected.state||""==_options.selected.state||(setAnimating(!0),setDraggable(!1),"P"==_options.selected.race||"S"==_options.selected.race||"G"==_options.selected.race?app.map.hideCountiesByStateAbb(_options.selected.state):"H"==_options.selected.race&&app.map.hideDistrictsByStateAbb(_options.selected.state),setSelected("US"),setStateColors(),app.map.fullExtent())}function setAnimating(a){_options.isAnimating!=a&&(_options.isAnimating=a,app.map&&app.map.setAnimating(a))}function setDraggable(a){}function getSelected(a){}function setSelected(a,b,c,d){"undefined"!=typeof a&&null!=a&&(_options.selected.state=a,app.map&&app.map.setSelectedState(_options.selected.state),app.model&&app.model.setSelectedState(_options.selected.state),app.popup&&app.popup.setSelectedState(_options.selected.state)),"undefined"!=typeof d&&null!=a&&(_options.selected.date=d,app.map&&app.map.setSelectedDate(_options.selected.date),app.model&&app.model.setSelectedDate(_options.selected.date),app.popup&&app.popup.setSelectedDate(_options.selected.date))}function doResize(a){if(_options.allowResize||a){_options.paperWidth=document.getElementById(_options.mapContainer).offsetWidth,_options.paperHeight=_options.paperWidth*_options.stageRatio;var b=$("#"+_options.mapContainer).offset().left;app.map&&app.map.resize(_options.paperWidth,_options.paperHeight),app.popup&&app.popup.resize($("body").innerWidth()-b,_options.paperHeight)}}function showNationalDistricts(a){if(app.map){var b,c=0,d={};for(c;c<a.districts.length&&(b==a.districts[c].abb&&c!=a.districts.length-1||(0!=c&&(c==a.districts.length-1&&d[b].push(a.districts[c]),app.map.setDistrictsForStateAbb(b,d[b]),app.map.hideStateByAbb(b),d[b]=null,delete d[b]),b=a.districts[c].abb,d[b]=[]),c!=a.districts.length-1);c++)d[b].push(a.districts[c]);var e=0;for(e;e<_options.stateAbbs.length;e++)b=_options.stateAbbs[e],setDistrictColors(b),app.map.showDistrictsByStateAbb(b);doNextTask()}}function setStateColors(a){doDebug("setStateColors"),app.map&&app.model&&(a=_options.isHomepage||_options.isIpad||_options.isMobile?"US":a||_options.selected.state,app.map.setStateColors(getColors(_options.selected.year,_options.selected.yearSeason,_options.selected.yearType,_options.selected.race,_options.selected.date,a,!1,!1,!1,!1)))}function setDistrictColors(a){if(app.map&&app.model){var b=!1,c=!1,d=!1;_options.isUS||(b=_options.selected.special,c=_options.selected.runoff,d=_options.selected.recall),app.map.setDistrictColors(a,getColors(_options.selected.year,_options.selected.yearSeason,_options.selected.yearType,_options.selected.race,_options.selected.date,a,b,c,d,!1))}}function setCountyColors(a){if(doDebug("setCountyColors"),app.map&&app.model){var b=!1,c=!1,d=!1;_options.isUS||(b=_options.selected.special,c=_options.selected.runoff,d=_options.selected.recall),app.map.setCountyColors(a,getColors(_options.selected.year,_options.selected.yearSeason,_options.selected.yearType,_options.selected.race,_options.selected.date,a,b,c,d,!0))}}function getColors(a,b,c,d,e,f,g,h,i,j){_options.isSchedule&&(d="All");var k,l,m,n,o,l,p,q={},r=0,s=0,t="US"==f||""==f?_options.stateAbbs:[f];for(r;r<t.length;r++)if(f=t[r],m=app.model.getRaceNums(a,b,c,"All",d,f,g,h,i,null,null),n=app.model.getRacesByRaceNums(a,m,null,j),n.length>0)for(s=0;s<n.length;s++)o=n[s].data,l=o.fips,p=!_options.isUS||"H"==_options.selected.race&&_options.mapShowNationalDistricts?f+l:f,k=q.hasOwnProperty(p)?q[p]:{color:_options.colors.noelection,type:"noelection",
index:-1},q[p]=getColor(a,c,f,l,k,o),("H"!=_options.selected.race||_options.mapShowNationalDistricts)&&!_options.isSchedule||!_options.isUS||q[p].color!=_options.colors.GOP&&q[p].color!=_options.colors.Dem&&q[p].color!=_options.colors.Ind||(q[p].color=_options.colors.complete,q[p].type="complete");else g||i||!_statesCalendar.hasOwnProperty(a)||_statesCalendar[a].hasOwnProperty(c)&&_statesCalendar[a][c].hasOwnProperty(f)&&(_statesCalendar[a][c][f].hasOwnProperty(d)||"All"==d)&&(_statesCalendar[a][c][f][d]||"All"==d)&&(p=f,q.hasOwnProperty(p)||(k=q.hasOwnProperty(p)?q[p]:{color:_options.colors.noelection,type:"noelection",index:-1},q[p]=getColor(a,c,f,l,k,null)));return q}function getColor(a,b,c,d,e,f){var g=e.color,h=e.type,i=d>999,j=!1,k=!1,l=!1,m=!1;switch(h){case"noelection":m=!0;break;case"noresults":l=!0;break;case"partial":k=!0;break;case"complete":j=!0}if(f){var n=f.special,o=f.runoff;_statesCalendar[a][b][c][f.officeID]||n||o?(m=!1,(100==f.precinctsPercent||1==f.numCandidates)&&i||f.hasWinner&&!i?k||l?(j=!1,k=!0,l=!1):j=!0:f.precinctsPercent>0||f.hasResults&&!i?(j=!1,k=!0,l=!1):0==f.precinctsPercent&&(k||j?k=!0:l=!0,j=!1)):m=!0}else l=!0,j&&(k=!0,j=!1);return j?("P"==b||"I"==f.officeID?g=_options.colors.complete:"G"==b&&(g=getColorByParty(f.winningParty)),h="complete"):k?(g=_options.colors.partial,h="partial"):(l||_options.isSchedule)&&(g=_options.colors.noresults,h="noresults"),e.color=g,e.type=h,e}function getColorByParty(a){var b=_options.colors.noresults;return"string"==typeof a&&""!=a&&("Dem"!=a&&"GOP"!=a&&(a="Ind"),b=_options.colors[a]),b}function getPartyClass(a){var b="";if("string"==typeof a&&""!=a)switch(a){case"Dem":b="democrat";break;case"GOP":b="republican";break;case"D":b="democrat";break;case"R":b="republican";break;default:b="independent"}return b}function getPartyName(a,b){var c="";return"string"==typeof a&&""!=a&&(c=app.model.getPartyName(a.toUpperCase()),b||"Democrat"!=c||(c="Democratic")),c}function getPartyAbb(a){var b="";if("string"==typeof a&&""!=a)switch(a){case"D":b="Dem";break;case"R":b="GOP";break;case"I":b="Ind";break;case"O":b="Open";break;case"Dem":b="Dem";break;case"GOP":b="GOP";break;case"Ind":b="Ind";break;case"Open":b="Open"}return b}function getPartySingleCharacter(a){var b="";return"string"==typeof a&&""!=a&&(a="GOP"==a?"R":a,b=a.charAt(0),b=""==b?"O":b),b}function getRandomColor(){return Math.random()>.5?_options.colors.Dem:_options.colors.GOP}function getRaceName(a,b){var c="";return a.special&&(c="Special "),"G"==a.raceType?c+="General Election":"G"!=a.raceType&&(c+=b&&!a.runoff?"Primaries":"Primary"),a.runoff&&(c+=b?" Runoffs":" Runoff"),c}function getPopupRaceName(a){var b,c=0,d="";for(c;c<a.length;c++){b=a[c],b.special&&(d="Special "),"G"==b.raceType&&"P"==b.yearType&&"I"!=b.officeID?d+="General Election":"G"!=b.raceType&&(d+=a.length>0?"Primaries":"Primary"),b.runoff&&(d+=a.length>0?" Runoffs":" Runoff");break}return d}function getOfficeName(a,b){var c="";switch(a){case"P":c="President";break;case"S":c="Senate";break;case"H":c="House";break;case"G":c="Governor";break;case"I":c="Ballot Measures";break;case"L":c=b?"Lieutenant Governor":"Lt. Gov.";break;case"M":c="Mayor"}return c}function getStateURLName(a){return _options.statesInfo[a].name.split(" ").join("-").toLowerCase()}function getOfficeURLName(a){var b="";switch(a){case"P":b="president";break;case"S":b="senate";break;case"H":b="house";break;case"G":b="governor";break;case"I":b="ballot-measures";break;case"L":b="lieutenant-governor";break;case"M":b="mayor"}return b}function getDistrictTitle(a,b,c){var d="";return d=_options.statesInfo[a].atLarge?"At-Large":app.model.formatNumberNthName(b,c)+" District"}function getDetailedResultsURL(a,b,c,d,e,f,g,h,i,j){var k="G"!=b||"G"==c||h||j?"":"primary/",l="";if(h||i||j){var m=g.split(a)[1],n=app.model.getMonthNameByNum(parseFloat(m.substring(0,2))-1).toLowerCase(),o=parseFloat(m.substring(2,4));o=o<10?"0"+o:o;var p=n+"-"+o;l="/"+a+"-election/"+(h||j?"special/":"")+(h?"":k)+"results/map/"+getOfficeURLName(e)+"/"+getStateURLName(d)+"/",(h||j)&&(l+="G"==f?"general/":"primary/"),i&&(l+="runoff/"),l+=p+"/"}else l="/"+a+"-election/"+k+"results/map/"+getOfficeURLName(e)+"/"+getStateURLName(d)+"/";return l}function addTasks(a){var b=0;for(b;b<a.length;b++)_options.tasks.push(a[b])}function prependTasks(a){for(var b=a.length;b--;)_options.tasks.unshift(a[b])}function doNextTask(){_options.tasks.length>0?(_lastTask=_options.tasks.shift(),doTask(_lastTask)):tasksComplete()}function doTask(a){switch(doDebug("Performing task: "+a.task),a.task){case"loadJS":loadJS();break;case"initComplete":initComplete();break;case"loadVectors":loadVectors(a.params[0]);break;case"loadData":app.model.loadData(a.params[0]);break;case"zoomComplete":zoomComplete();break;case"stateClicked":stateClicked(a.params[0],a.params[1]);break;case"loadDistrictVectors":loadDistrictVectors();break;case"writeSubNav":writeSubNav(a.params[0]);break;case"initHomepage":initHomepage();break;case"setStateColors":setStateColors(),doNextTask();break;case"hidePopup":hidePopup();break;case"resize":doResize(!0),doNextTask();break;case"updateSpecialRaces":updateSpecialRaces(),doNextTask();break;case"updateBalanceOfPower":updateBalanceOfPower(),doNextTask();break;case"setSelected":setSelected(a.params[0],a.params[1])}}function tasksComplete(){doDebug("------------------------------- tasksComplete -------------------------------"),app.map&&app.map.tasksComplete(),app.model&&(app.model.tasksComplete(),updateLastUpdated()),_init||(_init=!0,_options.lazy&&enableLazyLoad(),app.map&&app.map.show(),_options.checkzeros||_options.isHomepage||_options.isIpad||_options.isMobile||_updatedOnce||updateHTML(),_updatedOnce=!0,_options.isHomepage&&$(".election-overview").removeClass("erase")),_options.checkzeros&&app.model.checkZeros()}function taskError(){doDebug("taskError")}function doDebug(a){_options.develop&&(a.hasOwnProperty("params")&&(a=a.params[0]),_options.isSVG||(console={log:function(){$("#debug").append(a+"<br/>")}}),console.log(a))}var _init=!1,_initComplete={},_options={},_jsFilesToLoad=[],_lastTask,_mouseMoveEnabled=!1,_mousePosition={x:0,y:0},_zoomStart=!1,_updatedOnce=!1,_ipadStateClicked="";_options.stateAbbsAtLarge=["AK","DC","DE","MT","ND","SD","VT","WY"],_options.stateAbbs=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],_options.statesInfo={AL:{name:"Alabama",abb:"Ala.",postalabb:"AL",atLarge:!1,fips:"01",numDistricts2012:7,numDistricts2010:7},AK:{name:"Alaska",abb:"Alaska",postalabb:"AK",atLarge:!0,fips:"02",numDistricts2012:1,numDistricts2010:1},AZ:{name:"Arizona",abb:"Ariz.",postalabb:"AZ",atLarge:!1,fips:"04",numDistricts2012:9,numDistricts2010:8},AR:{name:"Arkansas",abb:"Ark.",postalabb:"AR",atLarge:!1,fips:"05",numDistricts2012:4,numDistricts2010:4},CA:{name:"California",abb:"Calif.",postalabb:"CA",atLarge:!1,fips:"06",numDistricts2012:53,numDistricts2010:53},CO:{name:"Colorado",abb:"Colo.",postalabb:"CO",atLarge:!1,fips:"08",numDistricts2012:7,numDistricts2010:7},CT:{name:"Connecticut",abb:"Conn.",postalabb:"CT",atLarge:!1,fips:"09",numDistricts2012:5,numDistricts2010:5},DE:{name:"Delaware",abb:"Del.",postalabb:"DE",atLarge:!0,fips:"10",numDistricts2012:1,numDistricts2010:1},DC:{name:"District of Columbia",abb:"D.C.",postalabb:"DC",atLarge:!0,fips:"11",numDistricts2012:1,numDistricts2010:1},FL:{name:"Florida",abb:"Fla.",postalabb:"FL",atLarge:!1,fips:"12",numDistricts2012:27,numDistricts2010:25},GA:{name:"Georgia",abb:"Ga.",postalabb:"GA",atLarge:!1,fips:"13",numDistricts2012:14,numDistricts2010:13},HI:{name:"Hawaii",abb:"Hawaii",postalabb:"HI",atLarge:!1,fips:"15",numDistricts2012:2,numDistricts2010:2},ID:{name:"Idaho",abb:"Idaho",postalabb:"ID",atLarge:!1,fips:"16",numDistricts2012:2,numDistricts2010:2},IL:{name:"Illinois",abb:"Ill.",postalabb:"IL",atLarge:!1,fips:"17",numDistricts2012:18,numDistricts2010:19},IN:{name:"Indiana",abb:"Ind.",postalabb:"IN",atLarge:!1,fips:"18",numDistricts2012:9,numDistricts2010:9},IA:{name:"Iowa",abb:"Iowa",postalabb:"IA",atLarge:!1,fips:"19",numDistricts2012:4,numDistricts2010:5},KS:{name:"Kansas",abb:"Kan.",postalabb:"KS",atLarge:!1,fips:"20",numDistricts2012:4,numDistricts2010:4},KY:{name:"Kentucky",abb:"Ky.",postalabb:"KY",atLarge:!1,fips:"21",numDistricts2012:6,numDistricts2010:6},LA:{name:"Louisiana",abb:"La.",postalabb:"LA",atLarge:!1,fips:"22",numDistricts2012:6,numDistricts2010:6},ME:{name:"Maine",abb:"Maine",postalabb:"ME",atLarge:!1,fips:"23",numDistricts2012:2,numDistricts2010:2},MD:{name:"Maryland",abb:"Md.",postalabb:"MD",atLarge:!1,fips:"24",numDistricts2012:8,numDistricts2010:8},MA:{name:"Massachusetts",abb:"Mass.",postalabb:"MA",atLarge:!1,fips:"25",numDistricts2012:9,numDistricts2010:10},MI:{name:"Michigan",abb:"Mich.",postalabb:"MI",atLarge:!1,fips:"26",numDistricts2012:14,numDistricts2010:15},MN:{name:"Minnesota",abb:"Minn.",postalabb:"MN",atLarge:!1,fips:"27",numDistricts2012:8,numDistricts2010:8},MS:{name:"Mississippi",abb:"Miss.",postalabb:"MS",atLarge:!1,fips:"28",numDistricts2012:4,numDistricts2010:4},MO:{name:"Missouri",abb:"Mo.",postalabb:"MO",atLarge:!1,fips:"29",numDistricts2012:8,numDistricts2010:9},MT:{name:"Montana",abb:"Mont.",postalabb:"MT",atLarge:!0,fips:"30",numDistricts2012:1,numDistricts2010:1},NE:{name:"Nebraska",abb:"Neb.",postalabb:"NE",atLarge:!1,fips:"31",numDistricts2012:3,numDistricts2010:3},NV:{name:"Nevada",abb:"Nev.",postalabb:"NV",atLarge:!1,fips:"32",numDistricts2012:4,numDistricts2010:3},NH:{name:"New Hampshire",abb:"N.H.",postalabb:"NH",atLarge:!1,fips:"33",numDistricts2012:2,numDistricts2010:2},NJ:{name:"New Jersey",abb:"N.J.",postalabb:"NJ",atLarge:!1,fips:"34",numDistricts2012:12,numDistricts2010:13},NM:{name:"New Mexico",abb:"N.M.",postalabb:"NM",atLarge:!1,fips:"35",numDistricts2012:3,numDistricts2010:3},NY:{name:"New York",abb:"N.Y.",postalabb:"NY",atLarge:!1,fips:"36",numDistricts2012:27,numDistricts2010:29},NC:{name:"North Carolina",abb:"N.C.",postalabb:"NC",atLarge:!1,fips:"37",numDistricts2012:13,numDistricts2010:13},ND:{name:"North Dakota",abb:"N.D.",postalabb:"ND",atLarge:!0,fips:"38",numDistricts2012:1,numDistricts2010:1},OH:{name:"Ohio",abb:"Ohio",postalabb:"OH",atLarge:!1,fips:"39",numDistricts2012:16,numDistricts2010:18},OK:{name:"Oklahoma",abb:"Okla.",postalabb:"OK",atLarge:!1,fips:"40",numDistricts2012:5,numDistricts2010:5},OR:{name:"Oregon",abb:"Ore.",postalabb:"OR",atLarge:!1,fips:"41",numDistricts2012:5,numDistricts2010:5},PA:{name:"Pennsylvania",abb:"Pa.",postalabb:"PA",atLarge:!1,fips:"42",numDistricts2012:18,numDistricts2010:19},RI:{name:"Rhode Island",abb:"R.I.",postalabb:"RI",atLarge:!1,fips:"44",numDistricts2012:2,numDistricts2010:2},SC:{name:"South Carolina",abb:"S.C.",postalabb:"SC",atLarge:!1,fips:"45",numDistricts2012:7,numDistricts2010:6},SD:{name:"South Dakota",abb:"S.D.",postalabb:"SD",atLarge:!0,fips:"46",numDistricts2012:1,numDistricts2010:1},TN:{name:"Tennessee",abb:"Tenn.",postalabb:"TN",atLarge:!1,fips:"47",numDistricts2012:9,numDistricts2010:9},TX:{name:"Texas",abb:"Texas",postalabb:"TX",atLarge:!1,fips:"48",numDistricts2012:36,numDistricts2010:32},UT:{name:"Utah",abb:"Utah",postalabb:"UT",atLarge:!1,fips:"49",numDistricts2012:4,numDistricts2010:3},VT:{name:"Vermont",abb:"Vt.",postalabb:"VT",atLarge:!0,fips:"50",numDistricts2012:1,numDistricts2010:1},VA:{name:"Virginia",abb:"Va.",postalabb:"VA",atLarge:!1,fips:"51",numDistricts2012:11,numDistricts2010:11},WA:{name:"Washington",abb:"Wash.",postalabb:"WA",atLarge:!1,fips:"53",numDistricts2012:10,numDistricts2010:9},WV:{name:"West Virginia",abb:"W.Va.",postalabb:"WV",atLarge:!1,fips:"54",numDistricts2012:3,numDistricts2010:3},WI:{name:"Wisconsin",abb:"Wis.",postalabb:"WI",atLarge:!1,fips:"55",numDistricts2012:8,numDistricts2010:8},WY:{name:"Wyoming",abb:"Wyo.",postalabb:"WY",atLarge:!0,fips:"56",numDistricts2012:1,numDistricts2010:1}};var _statesCalendar={2014:{P:{AL:{P:!1,S:!0,H:!0,G:!0,I:!1},AK:{P:!1,S:!0,H:!0,G:!0,I:!1},AZ:{P:!1,S:!1,H:!0,G:!0,I:!1},AR:{P:!1,S:!0,H:!0,G:!0,I:!1},CA:{P:!1,S:!1,H:!0,G:!0,I:!1},CO:{P:!1,S:!0,H:!0,G:!0,I:!1},CT:{P:!1,S:!1,H:!0,G:!0,I:!1},DE:{P:!1,S:!0,H:!0,G:!1,I:!1},DC:{P:!1,S:!1,H:!1,G:!1,I:!1},FL:{P:!1,S:!1,H:!0,G:!0,I:!1},GA:{P:!1,S:!0,H:!0,G:!0,I:!1},HI:{P:!1,S:!1,H:!0,G:!0,I:!1},ID:{P:!1,S:!0,H:!0,G:!0,I:!1},IL:{P:!1,S:!0,H:!0,G:!0,I:!1},IN:{P:!1,S:!1,H:!0,G:!1,I:!1},IA:{P:!1,S:!0,H:!0,G:!0,I:!1},KS:{P:!1,S:!0,H:!0,G:!0,I:!1},KY:{P:!1,S:!0,H:!0,G:!1,I:!1},LA:{P:!1,S:!1,H:!1,G:!1,I:!1},ME:{P:!1,S:!0,H:!0,G:!0,I:!1},MD:{P:!1,S:!1,H:!0,G:!0,I:!1},MA:{P:!1,S:!0,H:!0,G:!0,I:!1},MI:{P:!1,S:!0,H:!0,G:!0,I:!1},MN:{P:!1,S:!0,H:!0,G:!0,I:!1},MS:{P:!1,S:!0,H:!0,G:!1,I:!1},MO:{P:!1,S:!1,H:!0,G:!1,I:!1},MT:{P:!1,S:!0,H:!0,G:!1,I:!1},NE:{P:!1,S:!0,H:!0,G:!0,I:!1},NV:{P:!1,S:!1,H:!0,G:!0,I:!1},NH:{P:!1,S:!0,H:!0,G:!0,I:!1},NJ:{P:!1,S:!0,H:!0,G:!1,I:!1},NM:{P:!1,S:!0,H:!0,G:!0,I:!1},NY:{P:!1,S:!1,H:!0,G:!0,I:!1,L:!0},NC:{P:!1,S:!0,H:!0,G:!1,I:!1},ND:{P:!1,S:!1,H:!0,G:!1,I:!1},OH:{P:!1,S:!1,H:!0,G:!0,I:!1},OK:{P:!1,S:!0,H:!0,G:!0,I:!1},OR:{P:!1,S:!0,H:!0,G:!0,I:!1},PA:{P:!1,S:!1,H:!0,G:!0,I:!1},RI:{P:!1,S:!0,H:!0,G:!0,I:!1},SC:{P:!1,S:!0,H:!0,G:!0,I:!1,L:!0},SD:{P:!1,S:!0,H:!0,G:!0,I:!1},TN:{P:!1,S:!0,H:!0,G:!0,I:!1},TX:{P:!1,S:!0,H:!0,G:!0,I:!1,L:!0},UT:{P:!1,S:!1,H:!0,G:!1,I:!1},VT:{P:!1,S:!1,H:!0,G:!0,I:!1},VA:{P:!1,S:!1,H:!0,G:!1,I:!1},WA:{P:!1,S:!1,H:!0,G:!1,I:!1},WV:{P:!1,S:!0,H:!0,G:!1,I:!1},WI:{P:!1,S:!1,H:!0,G:!0,I:!1},WY:{P:!1,S:!0,H:!0,G:!0,I:!1}},G:{AL:{P:!1,S:!0,H:!0,G:!0,I:!0},AK:{P:!1,S:!0,H:!0,G:!0,I:!0},AZ:{P:!1,S:!1,H:!0,G:!0,I:!1},AR:{P:!1,S:!0,H:!0,G:!0,I:!0},CA:{P:!1,S:!1,H:!0,G:!0,I:!0},CO:{P:!1,S:!0,H:!0,G:!0,I:!0},CT:{P:!1,S:!1,H:!0,G:!0,I:!0},DE:{P:!1,S:!0,H:!0,G:!1,I:!1},DC:{P:!1,S:!1,H:!1,G:!1,I:!0,M:!0},FL:{P:!1,S:!1,H:!0,G:!0,I:!0},GA:{P:!1,S:!0,H:!0,G:!0,I:!0},HI:{P:!1,S:!1,H:!0,G:!0,I:!1},ID:{P:!1,S:!0,H:!0,G:!0,I:!1},IL:{P:!1,S:!0,H:!0,G:!0,I:!1},IN:{P:!1,S:!1,H:!0,G:!1,I:!1},IA:{P:!1,S:!0,H:!0,G:!0,I:!1},KS:{P:!1,S:!0,H:!0,G:!0,I:!1},KY:{P:!1,S:!0,H:!0,G:!1,I:!1},LA:{P:!0,S:!0,H:!0,G:!1,I:!1},ME:{P:!1,S:!0,H:!0,G:!0,I:!1},MD:{P:!1,S:!1,H:!0,G:!0,I:!1},MA:{P:!1,S:!0,H:!0,G:!0,I:!0},MI:{P:!1,S:!0,H:!0,G:!0,I:!1},MN:{P:!1,S:!0,H:!0,G:!0,I:!1},MS:{P:!1,S:!0,H:!0,G:!1,I:!1},MO:{P:!1,S:!1,H:!0,G:!1,I:!0},MT:{P:!1,S:!0,H:!0,G:!1,I:!0},NE:{P:!1,S:!0,H:!0,G:!0,I:!0},NV:{P:!1,S:!1,H:!0,G:!0,I:!1,L:!0},NH:{P:!1,S:!0,H:!0,G:!0,I:!1},NJ:{P:!1,S:!0,H:!0,G:!1,I:!1},NM:{P:!1,S:!0,H:!0,G:!0,I:!1},NY:{P:!1,S:!1,H:!0,G:!0,I:!0,L:!0},NC:{P:!1,S:!0,H:!0,G:!1,I:!1},ND:{P:!1,S:!1,H:!0,G:!1,I:!0},OH:{P:!1,S:!1,H:!0,G:!0,I:!1},OK:{P:!1,S:!0,H:!0,G:!0,I:!1},OR:{P:!1,S:!0,H:!0,G:!0,I:!0},PA:{P:!1,S:!1,H:!0,G:!0,I:!1},RI:{P:!1,S:!0,H:!0,G:!0,I:!1},SC:{P:!1,S:!0,H:!0,G:!0,I:!1,L:!0},SD:{P:!1,S:!0,H:!0,G:!0,I:!1},TN:{P:!1,S:!0,H:!0,G:!0,I:!0},TX:{P:!1,S:!0,H:!0,G:!0,I:!1,L:!0},UT:{P:!1,S:!1,H:!0,G:!1,I:!1},VT:{P:!1,S:!1,H:!0,G:!0,I:!1},VA:{P:!1,S:!0,H:!0,G:!1,I:!1},WA:{P:!1,S:!1,H:!0,G:!1,I:!0},WV:{P:!1,S:!0,H:!0,G:!1,I:!1},WI:{P:!1,S:!1,H:!0,G:!0,I:!1},WY:{P:!1,S:!0,H:!0,G:!0,I:!1}}}};app.initApp=function(a){return initApp(a),!1},app.options=_options,app.popupCloseClicked=function(){popupCloseClicked()},app.loadData=function(){app.model.loadData()},app.gotoDetail=function(a){smoothScroll($(".election-results"),-65)},app.gotoElectionResults=function(a){smoothScroll($(".election-results"),-65)};var _lazyLoaded={},_$lazyLoadedGroup=[]}(window.electionApp=window.electionApp||{});
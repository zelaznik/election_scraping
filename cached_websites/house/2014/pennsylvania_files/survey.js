var surveyJQueryNoConflict=null;window.$&&window.jQuery&&window.$==window.jQuery&&(surveyJQueryNoConflict=window.$.noConflict()),window.jQuery&&(surveyJQueryNoConflict=window.jQuery.noConflict());
/* 
 * This file is used only to define global variables. As this point we only have one: SGAPI.
 * Please do not abuse this file. 
 */
// Set global SGAPI variable for Survey Gizmo	
window.SGAPI||(SGAPI={}),function(o){function n(){return null}SGAPI.classes={},o.console&&o.console.log||(console={log:n,warn:n,error:n,info:n})}(window);
/*! jQuery v1.8.2 jquery.com | jquery.org/license */
!function(e,t){function n(e){var t=he[e]={};return K.each(e.split(te),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(me,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:ge.test(r)?K.parseJSON(r):r}catch(o){}K.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!K.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function l(e,t,n){if(t=t||0,K.isFunction(t))return K.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return K.grep(e,function(e,r){return e===t===n});if("string"==typeof t){var r=K.grep(e,function(e){return 1===e.nodeType});if(_e.test(t))return K.filter(t,r,!n);t=K.filter(t,r)}return K.grep(e,function(e,r){return K.inArray(e,t)>=0===n})}function c(e){var t=Pe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e,t){if(1===t.nodeType&&K.hasData(e)){var n,r,i,o=K._data(e),a=K._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)K.event.add(t,n,s[n][r])}a.data&&(a.data=K.extend({},a.data))}}function d(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),K.support.html5Clone&&e.innerHTML&&!K.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ye.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(K.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Ye.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=yt.length;i--;)if(t=yt[i]+n,t in e)return t;return r}function y(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)}function v(e,t){for(var n,r,i=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(i[o]=K._data(n,"olddisplay"),t?(!i[o]&&"none"===n.style.display&&(n.style.display=""),""===n.style.display&&y(n)&&(i[o]=K._data(n,"olddisplay",T(n.nodeName)))):(r=nt(n,"display"),!i[o]&&"none"!==r&&K._data(n,"olddisplay",r)));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[o]||"":"none"));return e}function b(e,t,n){var r=ct.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function x(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>i;i+=2)"margin"===n&&(o+=K.css(e,n+mt[i],!0)),r?("content"===n&&(o-=parseFloat(nt(e,"padding"+mt[i]))||0),"margin"!==n&&(o-=parseFloat(nt(e,"border"+mt[i]+"Width"))||0)):(o+=parseFloat(nt(e,"padding"+mt[i]))||0,"padding"!==n&&(o+=parseFloat(nt(e,"border"+mt[i]+"Width"))||0));return o}function w(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,o=K.support.boxSizing&&"border-box"===K.css(e,"boxSizing");if(0>=r||null==r){if(r=nt(e,t),(0>r||null==r)&&(r=e.style[t]),ft.test(r))return r;i=o&&(K.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+x(e,t,n||(o?"border":"content"),i)+"px"}function T(e){if(dt[e])return dt[e];var t=K("<"+e+">").appendTo($.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rt=$.body.appendChild(rt||K.extend($.createElement("iframe"),{frameBorder:0,width:0,height:0})),it&&rt.createElement||(it=(rt.contentWindow||rt.contentDocument).document,it.write("<!doctype html><html><body>"),it.close()),t=it.body.appendChild(it.createElement(e)),n=nt(t,"display"),$.body.removeChild(rt)),dt[e]=n,n}function N(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||xt.test(e)?r(e,i):N(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)N(e+"["+i+"]",t[i],n,r)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,o,a=t.toLowerCase().split(te),s=0,u=a.length;if(K.isFunction(n))for(;u>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function k(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,u=e[o],l=0,c=u?u.length:0,f=e===_t;c>l&&(f||!s);l++)s=u[l](n,r,i),"string"==typeof s&&(!f||a[s]?s=t:(n.dataTypes.unshift(s),s=k(e,n,r,i,s,a)));return(f||!s)&&!a["*"]&&(s=k(e,n,r,i,"*",a)),s}function E(e,n){var r,i,o=K.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&K.extend(!0,e,i)}function S(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===l[0];)l.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){l.unshift(o);break}if(l[0]in r)a=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==l[0]&&l.unshift(a),r[a]):void 0}function j(e,t){var n,r,i,o,a=e.dataTypes.slice(),s=a[0],u={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)u[n.toLowerCase()]=e.converters[n];for(;i=a[++l];)if("*"!==i){if("*"!==s&&s!==i){if(n=u[s+" "+i]||u["* "+i],!n)for(r in u)if(o=r.split(" "),o[1]===i&&(n=u[s+" "+o[0]]||u["* "+o[0]])){n===!0?n=u[r]:u[r]!==!0&&(i=o[0],a.splice(l--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function D(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){Ut=t},0),Ut=K.now()}function H(e,t){K.each(t,function(t,n){for(var r=(Zt[t]||[]).concat(Zt["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function F(e,t,n){var r,i=0,o=Kt.length,a=K.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Ut||L(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,o=u.tweens.length;o>i;i++)u.tweens[i].run(r);return a.notifyWith(e,[u,r,n]),1>r&&o?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ut||L(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=K.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){for(var n=0,r=t?u.tweens.length:0;r>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),l=u.props;for(M(l,u.opts.specialEasing);o>i;i++)if(r=Kt[i].call(u,e,l,u.opts))return r;return H(u,l),K.isFunction(u.opts.start)&&u.opts.start.call(e,u),K.fx.timer(K.extend(s,{anim:u,queue:u.opts.queue,elem:e})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function M(e,t){var n,r,i,o,a;for(n in e)if(r=K.camelCase(n),i=t[r],o=e[n],K.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=K.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o,a,s,u,l,c,f=this,p=e.style,d={},h=[],g=e.nodeType&&y(e);n.queue||(l=K._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,f.always(function(){f.always(function(){l.unqueued--,K.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===K.css(e,"display")&&"none"===K.css(e,"float")&&(K.support.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",K.support.shrinkWrapBlocks||f.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],Yt.exec(o)){if(delete t[r],o===(g?"hide":"show"))continue;h.push(r)}if(a=h.length)for(s=K._data(e,"fxshow")||K._data(e,"fxshow",{}),g?K(e).show():f.done(function(){K(e).hide()}),f.done(function(){var t;K.removeData(e,"fxshow",!0);for(t in d)K.style(e,t,d[t])}),r=0;a>r;r++)i=h[r],u=f.createTween(i,g?s[i]:0),d[i]=s[i]||K.style(e,i),i in s||(s[i]=u.start,g&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}function _(e,t,n,r,i){return new _.prototype.init(e,t,n,r,i)}function q(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=mt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e){return K.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var P,W,$=e.document,R=e.location,I=e.navigator,z=e.jQuery,X=e.$,Q=Array.prototype.push,U=Array.prototype.slice,G=Array.prototype.indexOf,Y=Object.prototype.toString,J=Object.prototype.hasOwnProperty,V=String.prototype.trim,K=function(e,t){return new K.fn.init(e,t,P)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ee=/\S/,te=/\s+/,ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ie=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oe=/^[\],:{}\s]*$/,ae=/(?:^|:|,)(?:\s*\[)+/g,se=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ue=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,le=/^-ms-/,ce=/-([\da-z])/gi,fe=function(e,t){return(t+"").toUpperCase()},pe=function(){$.addEventListener?($.removeEventListener("DOMContentLoaded",pe,!1),K.ready()):"complete"===$.readyState&&($.detachEvent("onreadystatechange",pe),K.ready())},de={};K.fn=K.prototype={constructor:K,init:function(e,n,r){var i,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:re.exec(e),i&&(i[1]||!n)){if(i[1])return n=n instanceof K?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:$,e=K.parseHTML(i[1],a,!0),ie.test(i[1])&&K.isPlainObject(n)&&this.attr.call(e,n,!0),K.merge(this,e);if(o=$.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=$,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return K.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return U.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=K.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return K.each(this,e,t)},ready:function(e){return K.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(U.apply(this,arguments),"slice",U.call(arguments).join(","))},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:[].sort,splice:[].splice},K.fn.init.prototype=K.fn,K.extend=K.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"!=typeof s&&!K.isFunction(s)&&(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(e=arguments[u]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(K.isPlainObject(i)||(o=K.isArray(i)))?(o?(o=!1,a=r&&K.isArray(r)?r:[]):a=r&&K.isPlainObject(r)?r:{},s[n]=K.extend(c,a,i)):i!==t&&(s[n]=i));return s},K.extend({noConflict:function(t){return e.$===K&&(e.$=X),t&&e.jQuery===K&&(e.jQuery=z),K},isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){if(e===!0?!--K.readyWait:!K.isReady){if(!$.body)return setTimeout(K.ready,1);K.isReady=!0,e!==!0&&--K.readyWait>0||(W.resolveWith($,[K]),K.fn.trigger&&K($).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray||function(e){return"array"===K.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):de[Y.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==K.type(e)||e.nodeType||K.isWindow(e))return!1;try{if(e.constructor&&!J.call(e,"constructor")&&!J.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||J.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||$,(r=ie.exec(e))?[t.createElement(r[1])]:(r=K.buildFragment([e],t,n?null:[]),K.merge([],(r.cacheable?K.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=K.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):oe.test(t.replace(se,"@").replace(ue,"]").replace(ae,""))?new Function("return "+t)():void K.error("Invalid JSON: "+t)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ee.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(le,"ms-").replace(ce,fe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,o=0,a=e.length,s=a===t||K.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:V&&!V.call("\ufeff ")?function(e){return null==e?"":V.call(e)}:function(e){return null==e?"":(e+"").replace(ne,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=K.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||K.isWindow(e)?Q.call(r,e):K.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(G)return G.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],s=0,u=e.length,l=e instanceof K||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||K.isArray(e));if(l)for(;u>s;s++)i=n(e[s],s,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(r=e[n],n=e,e=r),K.isFunction(e)?(i=U.call(arguments,2),o=function(){return e.apply(n,i.concat(U.call(arguments)))},o.guid=e.guid=e.guid||K.guid++,o):t},access:function(e,n,r,i,o,a,s){var u,l=null==r,c=0,f=e.length;if(r&&"object"==typeof r){for(c in r)K.access(e,n,c,r[c],1,a,i);o=1}else if(i!==t){if(u=s===t&&K.isFunction(i),l&&(u?(u=n,n=function(e,t,n){return u.call(K(e),n)}):(n.call(e,i),n=null)),n)for(;f>c;c++)n(e[c],r,u?i.call(e[c],c,n(e[c],r)):i,s);o=1}return o?e:l?n.call(e):f?n(e[0],r):a},now:function(){return(new Date).getTime()}}),K.ready.promise=function(t){if(!W)if(W=K.Deferred(),"complete"===$.readyState)setTimeout(K.ready,1);else if($.addEventListener)$.addEventListener("DOMContentLoaded",pe,!1),e.addEventListener("load",K.ready,!1);else{$.attachEvent("onreadystatechange",pe),e.attachEvent("onload",K.ready);var n=!1;try{n=null==e.frameElement&&$.documentElement}catch(r){}n&&n.doScroll&&function i(){if(!K.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}K.ready()}}()}return W.promise(t)},K.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()}),P=K($);var he={};K.Callbacks=function(e){e="string"==typeof e?he[e]||n(e):K.extend({},e);var r,i,o,a,s,u,l=[],c=!e.once&&[],f=function(t){for(r=e.memory&&t,i=!0,u=a||0,a=0,s=l.length,o=!0;l&&s>u;u++)if(l[u].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}o=!1,l&&(c?c.length&&f(c.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;!function n(t){K.each(t,function(t,r){var i=K.type(r);"function"!==i||e.unique&&p.has(r)?r&&r.length&&"string"!==i&&n(r):l.push(r)})}(arguments),o?s=l.length:r&&(a=t,f(r))}return this},remove:function(){return l&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,l,n))>-1;)l.splice(n,1),o&&(s>=n&&s--,u>=n&&u--)}),this},has:function(e){return K.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=c=r=t,this},disabled:function(){return!l},lock:function(){return c=t,r||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],l&&(!i||c)&&(o?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,r){var o=r[0],a=e[t];i[r[1]](K.isFunction(a)?function(){var e=a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=a.fire,i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=U.call(arguments),a=o.length,s=1!==a||e&&K.isFunction(e.promise)?a:0,u=1===s?e:K.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?U.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),K.support=function(){var t,n,r,i,o,a,s,u,l,c,f,p=$.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length)return{};i=$.createElement("select"),o=i.appendChild($.createElement("option")),a=p.getElementsByTagName("input")[0],t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!$.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==$.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===$.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",f=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",f)),a=$.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),s=$.createDocumentFragment(),s.appendChild(p.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(p),p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})u="on"+l,c=u in p,c||(p.setAttribute(u,"return;"),c="function"==typeof p[u]),t[l+"Bubbles"]=c;return K(function(){var n,r,i,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=$.getElementsByTagName("body")[0];s&&(n=$.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=$.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,o=$.createElement("div"),o.style.cssText=r.style.cssText=a,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=o=null)}),s.removeChild(p),n=r=i=o=a=s=p=null,t}();var ge=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,me=/([A-Z])/g;K.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(K.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?K.cache[e[K.expando]]:e[K.expando],!!e&&!i(e)},data:function(e,n,r,i){if(K.acceptData(e)){var o,a,s=K.expando,u="string"==typeof n,l=e.nodeType,c=l?K.cache:e,f=l?e[s]:e[s]&&s;if(f&&c[f]&&(i||c[f].data)||!u||r!==t)return f||(l?e[s]=f=K.deletedIds.pop()||K.guid++:f=s),c[f]||(c[f]={},l||(c[f].toJSON=K.noop)),("object"==typeof n||"function"==typeof n)&&(i?c[f]=K.extend(c[f],n):c[f].data=K.extend(c[f].data,n)),o=c[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[K.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[K.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(K.acceptData(e)){var r,o,a,s=e.nodeType,u=s?K.cache:e,l=s?e[K.expando]:K.expando;if(u[l]){if(t&&(r=n?u[l]:u[l].data)){K.isArray(t)||(t in r?t=[t]:(t=K.camelCase(t),t=t in r?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete r[t[o]];if(!(n?i:K.isEmptyObject)(r))return}(n||(delete u[l].data,i(u[l])))&&(s?K.cleanData([e],!0):K.support.deleteExpando||u!=u.window?delete u[l]:u[l]=null)}}},_data:function(e,t,n){return K.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&K.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),K.fn.extend({data:function(e,n){var i,o,a,s,u,l=this[0],c=0,f=null;if(e===t){if(this.length&&(f=K.data(l),1===l.nodeType&&!K._data(l,"parsedAttrs"))){for(a=l.attributes,u=a.length;u>c;c++)s=a[c].name,s.indexOf("data-")||(s=K.camelCase(s.substring(5)),r(l,s,f[s]));K._data(l,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){K.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",o=i[1]+"!",K.access(this,function(n){return n===t?(f=this.triggerHandler("getData"+o,[i[0]]),f===t&&l&&(f=K.data(l,e),f=r(l,e,f)),f===t&&i[1]?this.data(i[0]):f):(i[1]=n,void this.each(function(){var t=K(this);t.triggerHandler("setData"+o,i),K.data(this,e,n),t.triggerHandler("changeData"+o,i)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){K.removeData(this,e)})}}),K.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=K._data(e,t),n&&(!r||K.isArray(n)?r=K._data(e,t,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),o=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K._data(e,n)||K._data(e,n,{empty:K.Callbacks("once memory").add(function(){K.removeData(e,t+"queue",!0),K.removeData(e,n,!0)})})}}),K.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?K.queue(this[0],e):n===t?this:this.each(function(){var t=K.queue(this,e,n);K._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},delay:function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=K.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=K._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var ye,ve,be,xe=/[\t\r\n]/g,we=/\r/g,Te=/^(?:button|input)$/i,Ne=/^(?:button|input|object|select|textarea)$/i,Ce=/^a(?:rea|)$/i,ke=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ee=K.support.getSetAttribute;K.fn.extend({attr:function(e,t){return K.access(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})},prop:function(e,t){return K.access(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return e=K.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(te),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");i.className=K.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,u;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(te),s=0,u=this.length;u>s;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(xe," "),o=0,a=n.length;a>o;o++)for(;r.indexOf(" "+n[o]+" ")>=0;)r=r.replace(" "+n[o]+" "," ");i.className=e?K.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return K.isFunction(e)?this.each(function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=K(this),s=t,u=e.split(te);i=u[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&K._data(this,"__className__",this.className),this.className=this.className||e===!1?"":K._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xe," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=K.isFunction(e),this.each(function(r){var o,a=K(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":K.isArray(o)&&(o=K.map(o,function(e){return null==e?"":e+""})),n=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=K.valHooks[o.type]||K.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(we,""):null==r?"":r)}}}),K.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,u="select-one"===e.type;if(0>o)return null;for(n=u?o:0,r=u?o+1:s.length;r>n;n++)if(i=s[n],i.selected&&(K.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!K.nodeName(i.parentNode,"optgroup"))){if(t=K(i).val(),u)return t;a.push(t)}return u&&!a.length&&s.length?K(s[o]).val():a},set:function(e,t){var n=K.makeArray(t);return K(e).find("option").each(function(){this.selected=K.inArray(K(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return i&&K.isFunction(K.fn[n])?K(e)[n](r):"undefined"==typeof e.getAttribute?K.prop(e,n,r):(s=1!==u||!K.isXMLDoc(e),s&&(n=n.toLowerCase(),a=K.attrHooks[n]||(ke.test(n)?ve:ye)),r!==t?null===r?void K.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.split(te);a<r.length;a++)i=r[a],i&&(n=K.propFix[i]||i,o=ke.test(i),o||K.attr(e,i,""),e.removeAttribute(Ee?i:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(Te.test(e.nodeName)&&e.parentNode)K.error("type property can't be changed");else if(!K.support.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return ye&&K.nodeName(e,"button")?ye.get(e,t):t in e?e.value:null},set:function(e,t,n){return ye&&K.nodeName(e,"button")?ye.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!K.isXMLDoc(e),a&&(n=K.propFix[n]||n,o=K.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Ne.test(e.nodeName)||Ce.test(e.nodeName)&&e.href?0:t}}}}),ve={get:function(e,n){var r,i=K.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?K.removeAttr(e,n):(r=K.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Ee||(be={name:!0,id:!0,coords:!0},ye=K.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(be[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=$.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},K.each(["width","height"],function(e,t){K.attrHooks[t]=K.extend(K.attrHooks[t],{set:function(e,n){
return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),K.attrHooks.contenteditable={get:ye.get,set:function(e,t,n){""===t&&(t="false"),ye.set(e,t,n)}}),K.support.hrefNormalized||K.each(["href","src","width","height"],function(e,n){K.attrHooks[n]=K.extend(K.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),K.support.style||(K.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),K.support.optSelected||(K.propHooks.selected=K.extend(K.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),K.support.enctype||(K.propFix.enctype="encoding"),K.support.checkOn||K.each(["radio","checkbox"],function(){K.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]=K.extend(K.valHooks[this],{set:function(e,t){return K.isArray(t)?e.checked=K.inArray(K(e).val(),t)>=0:void 0}})});var Se=/^(?:textarea|input|select)$/i,je=/^([^\.]*|)(?:\.(.+)|)$/,Ae=/(?:^|\s)hover(\.\S+|)\b/,De=/^key/,Le=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Fe=function(e){return K.event.special.hover?e:e.replace(Ae,"mouseenter$1 mouseleave$1")};K.event={add:function(e,n,r,i,o){var a,s,u,l,c,f,p,d,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=K._data(e))){for(r.handler&&(h=r,r=h.handler,o=h.selector),r.guid||(r.guid=K.guid++),u=a.events,u||(a.events=u={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof K||e&&K.event.triggered===e.type?t:K.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=K.trim(Fe(n)).split(" "),l=0;l<n.length;l++)c=je.exec(n[l])||[],f=c[1],p=(c[2]||"").split(".").sort(),m=K.event.special[f]||{},f=(o?m.delegateType:m.bindType)||f,m=K.event.special[f]||{},d=K.extend({type:f,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&K.expr.match.needsContext.test(o),namespace:p.join(".")},h),g=u[f],g||(g=u[f]=[],g.delegateCount=0,m.setup&&m.setup.call(e,i,p,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),m.add&&(m.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),K.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=K.hasData(e)&&K._data(e);if(m&&(p=m.events)){for(t=K.trim(Fe(t||"")).split(" "),o=0;o<t.length;o++)if(a=je.exec(t[o])||[],s=u=a[1],l=a[2],s){for(d=K.event.special[s]||{},s=(r?d.delegateType:d.bindType)||s,h=p[s]||[],c=h.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],(i||u===g.origType)&&(!n||n.guid===g.guid)&&(!l||l.test(g.namespace))&&(!r||r===g.selector||"**"===r&&g.selector)&&(h.splice(f--,1),g.selector&&h.delegateCount--,d.remove&&d.remove.call(e,g));0===h.length&&c!==h.length&&((!d.teardown||d.teardown.call(e,l,m.handle)===!1)&&K.removeEvent(e,s,m.handle),delete p[s])}else for(s in p)K.event.remove(e,s+t[o],n,r,!0);K.isEmptyObject(p)&&(delete m.handle,K.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,u,l,c,f,p,d,h,g,m=n.type||n,y=[];if(He.test(m+K.event.triggered))return;if(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(y=m.split("."),m=y.shift(),y.sort()),(!i||K.event.customEvent[m])&&!K.event.global[m])return;if(n="object"==typeof n?n[K.expando]?n:new K.Event(m,n):new K.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=m.indexOf(":")<0?"on"+m:"",!i){a=K.cache;for(u in a)a[u].events&&a[u].events[m]&&K.event.trigger(n,r,a[u].handle.elem,!0);return}if(n.result=t,n.target||(n.target=i),r=null!=r?K.makeArray(r):[],r.unshift(n),p=K.event.special[m]||{},p.trigger&&p.trigger.apply(i,r)===!1)return;if(h=[[i,p.bindType||m]],!o&&!p.noBubble&&!K.isWindow(i)){for(g=p.delegateType||m,l=He.test(g+m)?i:i.parentNode,c=i;l;l=l.parentNode)h.push([l,g]),c=l;c===(i.ownerDocument||$)&&h.push([c.defaultView||c.parentWindow||e,g])}for(u=0;u<h.length&&!n.isPropagationStopped();u++)l=h[u][0],n.type=h[u][1],d=(K._data(l,"events")||{})[n.type]&&K._data(l,"handle"),d&&d.apply(l,r),d=f&&l[f],d&&K.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=m,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(i.ownerDocument,r)===!1)&&("click"!==m||!K.nodeName(i,"a"))&&K.acceptData(i)&&f&&i[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!K.isWindow(i)&&(c=i[f],c&&(i[f]=null),K.event.triggered=m,i[m](),K.event.triggered=t,c&&(i[f]=c)),n.result}},dispatch:function(n){n=K.event.fix(n||e.event);var r,i,o,a,s,u,l,c,f,p=(K._data(this,"events")||{})[n.type]||[],d=p.delegateCount,h=U.call(arguments),g=!n.exclusive&&!n.namespace,m=K.event.special[n.type]||{},y=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(d&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},l=[],r=0;d>r;r++)c=p[r],f=c.selector,s[f]===t&&(s[f]=c.needsContext?K(f,this).index(o)>=0:K.find(f,this,null,[o]).length),s[f]&&l.push(c);l.length&&y.push({elem:o,matches:l})}for(p.length>d&&y.push({elem:this,matches:p.slice(d)}),r=0;r<y.length&&!n.isPropagationStopped();r++)for(u=y[r],n.currentTarget=u.elem,i=0;i<u.matches.length&&!n.isImmediatePropagationStopped();i++)c=u.matches[i],(g||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,a=((K.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,h),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||$,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&a!==t&&(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r=e,i=K.event.fixHooks[e.type]||{},o=i.props?this.props.concat(i.props):this.props;for(e=K.Event(r),t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||$),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){K.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.event.handle=K.event.dispatch,K.removeEvent=$.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},K.Event=function(e,t){return this instanceof K.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),this[K.expando]=!0,void 0):new K.Event(e,t)},K.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},K.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector;return(!i||i!==r&&!K.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),K.support.submitBubbles||(K.event.special.submit={setup:function(){return K.nodeName(this,"form")?!1:void K.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=K.nodeName(n,"input")||K.nodeName(n,"button")?n.form:t;r&&!K._data(r,"_submit_attached")&&(K.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),K._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&K.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return K.nodeName(this,"form")?!1:void K.event.remove(this,"._submit")}}),K.support.changeBubbles||(K.event.special.change={setup:function(){return Se.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(K.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),K.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),K.event.simulate("change",this,e,!0)})),!1):void K.event.add(this,"beforeactivate._change",function(e){var t=e.target;Se.test(t.nodeName)&&!K._data(t,"_change_attached")&&(K.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&K.event.simulate("change",this.parentNode,e,!0)}),K._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return K.event.remove(this,"._change"),!Se.test(this.nodeName)}}),K.support.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){0===n++&&$.addEventListener(e,r,!0)},teardown:function(){0===--n&&$.removeEventListener(e,r,!0)}}}),K.fn.extend({on:function(e,n,r,i,a){var s,u;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=o;else if(!i)return this;return 1===a&&(s=i,i=function(e){return K().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=K.guid++)),this.each(function(){K.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,K(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=o),this.each(function(){K.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return K(this.context).on(e,this.selector,t,n),this},die:function(e,t){return K(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?K.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||K.guid++,r=0,i=function(n){var i=(K._data(this,"lastToggle"+e.guid)||0)%r;return K._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},De.test(t)&&(K.event.fixHooks[t]=K.event.keyHooks),Le.test(t)&&(K.event.fixHooks[t]=K.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||L;var i,o,a,s,u=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==u&&9!==u)return[];if(a=w(t),!a&&!r&&(i=ne.exec(e)))if(s=i[1]){if(9===u){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&T(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return _.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&pe&&t.getElementsByClassName)return _.apply(n,q.call(t.getElementsByClassName(s),0)),n}return g(e.replace(V,"$1"),t,n,r,a)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return P(function(t){return t=+t,P(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function a(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function s(e,t){var r,i,o,a,s,u,l,c=R[A][e];if(c)return t?0:c.slice(0);for(s=e,u=[],l=b.preFilter;s;){(!r||(i=Z.exec(s)))&&(i&&(s=s.slice(i[0].length)),u.push(o=[])),r=!1,(i=ee.exec(s))&&(o.push(r=new D(i.shift())),s=s.slice(r.length),r.type=i[0].replace(V," "));for(a in b.filter)(i=se[a].exec(s))&&(!l[a]||(i=l[a](i,L,!0)))&&(o.push(r=new D(i.shift())),s=s.slice(r.length),r.type=a,r.matches=i);if(!r)break}return t?s.length:s?n.error(e):R(e,u).slice(0)}function u(e,t,n){var r=t.dir,i=n&&"parentNode"===t.dir,o=M++;return t.first?function(t,n,o){for(;t=t[r];)if(i||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[r];)if((i||1===t.nodeType)&&e(t,n,a))return t}else for(var s,u=F+" "+o+" ",l=u+y;t=t[r];)if(i||1===t.nodeType){if((s=t[A])===l)return t.sizset;if("string"==typeof s&&0===s.indexOf(u)){if(t.sizset)return t}else{if(t[A]=l,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function l(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function c(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function f(e,t,n,r,i,o){return r&&!r[A]&&(r=f(r)),i&&!i[A]&&(i=f(i,o)),P(function(o,a,s,u){if(!o||!i){var l,f,p,d=[],g=[],m=a.length,y=o||h(t||"*",s.nodeType?[s]:s,[],o),v=!e||!o&&t?y:c(y,d,e,s,u),b=n?i||(o?e:m||r)?[]:a:v;if(n&&n(v,b,s,u),r)for(p=c(b,g),r(p,[],s,u),l=p.length;l--;)(f=p[l])&&(b[g[l]]=!(v[g[l]]=f));if(o)for(l=e&&b.length;l--;)(f=b[l])&&(o[d[l]]=!(a[d[l]]=f));else b=c(b===a?b.splice(m,b.length):b),i?i(null,a,b,u):_.apply(a,b)}})}function p(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,c=u(function(e){return e===t},a,!0),d=u(function(e){return B.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==E)||((t=n).nodeType?c(e,n,r):d(e,n,r))}];i>s;s++)if(n=b.relative[e[s].type])h=[u(l(h),n)];else{if(n=b.filter[e[s].type].apply(null,e[s].matches),n[A]){for(r=++s;i>r&&!b.relative[e[r].type];r++);return f(s>1&&l(h),s>1&&e.slice(0,s-1).join("").replace(V,"$1"),n,r>s&&p(e.slice(s,r)),i>r&&p(e=e.slice(r)),i>r&&e.join(""))}h.push(n)}return l(h)}function d(e,t){var r=t.length>0,i=e.length>0,o=function(a,s,u,l,f){var p,d,h,g=[],m=0,v="0",x=a&&[],w=null!=f,T=E,N=a||i&&b.find.TAG("*",f&&s.parentNode||s),C=F+=null==T?1:Math.E;for(w&&(E=s!==L&&s,y=o.el);null!=(p=N[v]);v++){if(i&&p){for(d=0;h=e[d];d++)if(h(p,s,u)){l.push(p);break}w&&(F=C,y=++o.el)}r&&((p=!h&&p)&&m--,a&&x.push(p))}if(m+=v,r&&v!==m){for(d=0;h=t[d];d++)h(x,g,s,u);if(a){if(m>0)for(;v--;)!x[v]&&!g[v]&&(g[v]=O.call(l));g=c(g)}_.apply(l,g),w&&!a&&g.length>0&&m+t.length>1&&n.uniqueSort(l)}return w&&(F=C,E=T),x};return o.el=0,r?P(o):o}function h(e,t,r,i){for(var o=0,a=t.length;a>o;o++)n(e,t[o],r,i);return r}function g(e,t,n,r,i){var o,a,u,l,c,f=s(e);f.length;if(!r&&1===f.length){if(a=f[0]=f[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!i&&b.relative[a[1].type]){if(t=b.find.ID(u.matches[0].replace(ae,""),t,i)[0],!t)return n;e=e.slice(a.shift().length)}for(o=se.POS.test(e)?-1:a.length-1;o>=0&&(u=a[o],!b.relative[l=u.type]);o--)if((c=b.find[l])&&(r=c(u.matches[0].replace(ae,""),re.test(a[0].type)&&t.parentNode||t,i))){if(a.splice(o,1),e=r.length&&a.join(""),!e)return _.apply(n,q.call(r,0)),n;break}}return N(e,f)(r,t,i,n,re.test(e)),n}function m(){}var y,v,b,x,w,T,N,C,k,E,S=!0,j="undefined",A=("sizcache"+Math.random()).replace(".",""),D=String,L=e.document,H=L.documentElement,F=0,M=0,O=[].pop,_=[].push,q=[].slice,B=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},P=function(e,t){return e[A]=null==t||t,e},W=function(){var e={},t=[];return P(function(n,r){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n]=r},e)},$=W(),R=W(),I=W(),z="[\\x20\\t\\r\\n\\f]",X="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",Q=X.replace("w","w#"),U="([*^$|!~]?=)",G="\\["+z+"*("+X+")"+z+"*(?:"+U+z+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Q+")|)|)"+z+"*\\]",Y=":("+X+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+G+")|[^:]|\\\\.)*|.*))\\)|)",J=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)",V=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),Z=new RegExp("^"+z+"*,"+z+"*"),ee=new RegExp("^"+z+"*([\\x20\\t\\r\\n\\f>+~])"+z+"*"),te=new RegExp(Y),ne=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,re=/[\x20\t\r\n\f]*[+~]/,ie=/h\d/i,oe=/input|select|textarea|button/i,ae=/\\(?!\\)/g,se={ID:new RegExp("^#("+X+")"),CLASS:new RegExp("^\\.("+X+")"),NAME:new RegExp("^\\[name=['\"]?("+X+")['\"]?\\]"),TAG:new RegExp("^("+X.replace("w","w*")+")"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+Y),POS:new RegExp(J,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),needsContext:new RegExp("^"+z+"*[>+~]|"+J,"i")},ue=function(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},le=ue(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),ce=ue(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==j&&"#"===e.firstChild.getAttribute("href")}),fe=ue(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),pe=ue(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),de=ue(function(e){e.id=A+0,e.innerHTML="<a name='"+A+"'></a><div name='"+A+"'></div>",H.insertBefore(e,H.firstChild);var t=L.getElementsByName&&L.getElementsByName(A).length===2+L.getElementsByName(A+0).length;return v=!L.getElementById(A),H.removeChild(e),t});try{q.call(H.childNodes,0)[0].nodeType}catch(he){q=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},x=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=x(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=n.contains=H.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:H.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=w(e);return r||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):r||fe?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:P,match:se,attrHandle:ce?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:v?function(e,t,n){if(typeof t.getElementById!==j&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==j&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==j&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:le?function(e,t){return typeof t.getElementsByTagName!==j?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],o=0;r=n[o];o++)1===r.nodeType&&i.push(r);return i}return n},NAME:de&&function(e,t){return typeof t.getElementsByName!==j?t.getElementsByName(name):void 0},CLASS:pe&&function(e,t,n){return typeof t.getElementsByClassName===j||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ae,""),e[3]=(e[4]||e[5]||"").replace(ae,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return se.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(te.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:v?function(e){return e=e.replace(ae,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(ae,""),function(t){var n=typeof t.getAttributeNode!==j&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ae,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=$[A][e];return t||(t=$(e,new RegExp("(^|"+z+")"+e+"("+z+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return function(i,o){var a=n.attr(i,e);return null==a?"!="===t:t?(a+="","="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.substr(a.length-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t?a===r||a.substr(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r){return"nth"===e?function(e){var t,i,o=e.parentNode;if(1===n&&0===r)return!0;if(o)for(i=0,t=o.firstChild;t&&(1!==t.nodeType||(i++,e!==t));t=t.nextSibling);return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var r,i=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[A]?i(t):i.length>1?(r=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?P(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=B.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,r)}):i}},pseudos:{not:P(function(e){var t=[],n=[],r=N(e.replace(V,"$1"));return r[A]?P(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:P(function(e){return function(t){return n(e,t).length>0}}),contains:P(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return ie.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return oe.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(e,t,n){return[0]}),last:o(function(e,t,n){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t,n){for(var r=0;t>r;r+=2)e.push(r);return e}),odd:o(function(e,t,n){for(var r=1;t>r;r+=2)e.push(r);return e}),lt:o(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:o(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},C=H.compareDocumentPosition?function(e,t){return e===t?(k=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return k=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],s=e.parentNode,u=t.parentNode,l=s;if(s===u)return a(e,t);if(!s)return-1;if(!u)return 1;for(;l;)i.unshift(l),l=l.parentNode;for(l=u;l;)o.unshift(l),l=l.parentNode;n=i.length,r=o.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==o[c])return a(i[c],o[c]);return c===n?a(e,o[c],-1):a(i[c],t,1)},[0,0].sort(C),S=!k,n.uniqueSort=function(e){var t,n=1;if(k=S,e.sort(C),k)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},N=n.compile=function(e,t){var n,r=[],i=[],o=I[A][e];if(!o){for(t||(t=s(e)),n=t.length;n--;)o=p(t[n]),o[A]?r.push(o):i.push(o);o=I(e,d(i,r))}return o},L.querySelectorAll&&function(){var e,t=g,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active",":focus"],u=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector||H.msMatchesSelector;ue(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+z+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),ue(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+z+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),g=function(e,n,i,a,u){if(!(a||u||o&&o.test(e))){var l,c,f=!0,p=A,d=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(l=s(e),(f=n.getAttribute("id"))?p=f.replace(r,"\\$&"):n.setAttribute("id",p),p="[id='"+p+"'] ",c=l.length;c--;)l[c]=p+l[c].join("");d=re.test(e)&&n.parentNode||n,h=l.join(",")}if(h)try{return _.apply(i,q.call(d.querySelectorAll(h),0)),i}catch(g){}finally{f||n.removeAttribute("id")}}return t(e,n,i,a,u)},u&&(ue(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),a.push("!=",Y)}catch(n){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(i,"='$1']"),!(w(t)||a.test(r)||o&&o.test(r)))try{var s=u.call(t,r);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(l){}return n(r,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=K.attr,K.find=n,K.expr=n.selectors,K.expr[":"]=K.expr.pseudos,K.unique=n.uniqueSort,K.text=n.getText,K.isXMLDoc=n.isXML,K.contains=n.contains}(e);var Me=/Until$/,Oe=/^(?:parents|prev(?:Until|All))/,_e=/^.[^:#\[\.,]*$/,qe=K.expr.match.needsContext,Be={children:!0,contents:!0,next:!0,prev:!0};K.fn.extend({find:function(e){var t,n,r,i,o,a,s=this;if("string"!=typeof e)return K(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(K.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=a.length,K.find(e,this[t],a),t>0)for(i=r;i<a.length;i++)for(o=0;r>o;o++)if(a[o]===a[i]){a.splice(i--,1);break}return a},has:function(e){var t,n=K(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(K.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(l(this,e,!1),"not",e)},filter:function(e){return this.pushStack(l(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?qe.test(e)?K(e,this.context).index(this[0])>=0:K.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=qe.test(e)||"string"!=typeof e?K(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:K.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?K.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?K.inArray(this[0],K(e)):K.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?K(e,t):K.makeArray(e&&e.nodeType?[e]:e),r=K.merge(this.get(),n);return this.pushStack(s(n[0])||s(r[0])?r:K.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.fn.andSelf=K.fn.addBack,K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return K.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return Me.test(e)||(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),i=this.length>1&&!Be[e]?K.unique(i):i,this.length>1&&Oe.test(e)&&(i=i.reverse()),this.pushStack(i,e,U.call(arguments).join(","))}}),K.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?K.find.matchesSelector(t[0],e)?[t[0]]:[]:K.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!K(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Pe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",We=/ jQuery\d+="(?:null|\d+)"/g,$e=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,ze=/<tbody/i,Xe=/<|&#?\w+;/,Qe=/<(?:script|style|link)/i,Ue=/<(?:script|object|embed|option|style)/i,Ge=new RegExp("<(?:"+Pe+")[\\s/>]","i"),Ye=/^(?:checkbox|radio)$/,Je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/\/(java|ecma)script/i,Ke=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ze={
option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},et=c($),tt=et.appendChild($.createElement("div"));Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td,K.support.htmlSerialize||(Ze._default=[1,"X<div>","</div>"]),K.fn.extend({text:function(e){return K.access(this,function(e){return e===t?K.text(this):this.empty().append((this[0]&&this[0].ownerDocument||$).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(K.isFunction(e))return this.each(function(t){K(this).wrapAll(e.call(this,t))});if(this[0]){var t=K(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return K.isFunction(e)?this.each(function(t){K(this).wrapInner(e.call(this,t))}):this.each(function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=K.clean(arguments);return this.pushStack(K.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||K.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(K.cleanData(n.getElementsByTagName("*")),K.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&K.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return K.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(We,""):t;if("string"==typeof e&&!Qe.test(e)&&(K.support.htmlSerialize||!Ge.test(e))&&(K.support.leadingWhitespace||!$e.test(e))&&!Ze[(Ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(K.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(K(K.isFunction(e)?e():e),"replaceWith",e):this:K.isFunction(e)?this.each(function(t){var n=K(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=K(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;K(this).remove(),t?K(t).before(e):K(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,o,a,s,u=0,l=e[0],c=[],p=this.length;if(!K.support.checkClone&&p>1&&"string"==typeof l&&Je.test(l))return this.each(function(){K(this).domManip(e,n,r)});if(K.isFunction(l))return this.each(function(i){var o=K(this);e[0]=l.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(i=K.buildFragment(e,this,c),a=i.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&K.nodeName(o,"tr"),s=i.cacheable||p-1;p>u;u++)r.call(n&&K.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],u===s?a:K.clone(a,!0,!0));a=o=null,c.length&&K.each(c,function(e,t){t.src?K.ajax?K.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):K.error("no ajax"):K.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ke,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),K.buildFragment=function(e,n,r){var i,o,a,s=e[0];return n=n||$,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,1===e.length&&"string"==typeof s&&s.length<512&&n===$&&"<"===s.charAt(0)&&!Ue.test(s)&&(K.support.checkClone||!Je.test(s))&&(K.support.html5Clone||!Ge.test(s))&&(o=!0,i=K.fragments[s],a=i!==t),i||(i=n.createDocumentFragment(),K.clean(e,n,i,r),o&&(K.fragments[s]=a&&i)),{fragment:i,cacheable:o}},K.fragments={},K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(n){var r,i=0,o=[],a=K(n),s=a.length,u=1===this.length&&this[0].parentNode;if((null==u||u&&11===u.nodeType&&1===u.childNodes.length)&&1===s)return a[t](this[0]),this;for(;s>i;i++)r=(i>0?this.clone(!0):this).get(),K(a[i])[t](r),o=o.concat(r);return this.pushStack(o,e,a.selector)}}),K.extend({clone:function(e,t,n){var r,i,o,a;if(K.support.html5Clone||K.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tt.innerHTML=e.outerHTML,tt.removeChild(a=tt.firstChild)),!(K.support.noCloneEvent&&K.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(d(e,a),r=h(e),i=h(a),o=0;r[o];++o)i[o]&&d(r[o],i[o]);if(t&&(p(e,a),n))for(r=h(e),i=h(a),o=0;r[o];++o)p(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i,o,a,s,u,l,f,p,d,h,m,y=t===$&&et,v=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=$),i=0;null!=(a=e[i]);i++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Xe.test(a)){for(y=y||c(t),f=t.createElement("div"),y.appendChild(f),a=a.replace(Re,"<$1></$2>"),s=(Ie.exec(a)||["",""])[1].toLowerCase(),u=Ze[s]||Ze._default,l=u[0],f.innerHTML=u[1]+a+u[2];l--;)f=f.lastChild;if(!K.support.tbody)for(p=ze.test(a),d="table"!==s||p?"<table>"!==u[1]||p?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes,o=d.length-1;o>=0;--o)K.nodeName(d[o],"tbody")&&!d[o].childNodes.length&&d[o].parentNode.removeChild(d[o]);!K.support.leadingWhitespace&&$e.test(a)&&f.insertBefore(t.createTextNode($e.exec(a)[0]),f.firstChild),a=f.childNodes,f.parentNode.removeChild(f)}else a=t.createTextNode(a);a.nodeType?v.push(a):K.merge(v,a)}if(f&&(a=f=y=null),!K.support.appendChecked)for(i=0;null!=(a=v[i]);i++)K.nodeName(a,"input")?g(a):"undefined"!=typeof a.getElementsByTagName&&K.grep(a.getElementsByTagName("input"),g);if(n)for(h=function(e){return!e.type||Ve.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},i=0;null!=(a=v[i]);i++)K.nodeName(a,"script")&&h(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(m=K.grep(K.merge([],a.getElementsByTagName("script")),h),v.splice.apply(v,[i+1,0].concat(m)),i+=m.length));return v},cleanData:function(e,t){for(var n,r,i,o,a=0,s=K.expando,u=K.cache,l=K.support.deleteExpando,c=K.event.special;null!=(i=e[a]);a++)if((t||K.acceptData(i))&&(r=i[s],n=r&&u[r])){if(n.events)for(o in n.events)c[o]?K.event.remove(i,o):K.removeEvent(i,o,n.handle);u[r]&&(delete u[r],l?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,K.deletedIds.push(r))}}}),function(){var e,t;K.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=K.uaMatch(I.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),K.browser=t,K.sub=function(){function e(t,n){return new e.fn.init(t,n)}K.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function n(n,r){return r&&r instanceof K&&!(r instanceof e)&&(r=e(r)),K.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e($);return e}}();var nt,rt,it,ot=/alpha\([^)]*\)/i,at=/opacity=([^)]*)/,st=/^(top|right|bottom|left)$/,ut=/^(none|table(?!-c[ea]).+)/,lt=/^margin/,ct=new RegExp("^("+Z+")(.*)$","i"),ft=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pt=new RegExp("^([-+])=("+Z+")","i"),dt={},ht={position:"absolute",visibility:"hidden",display:"block"},gt={letterSpacing:0,fontWeight:400},mt=["Top","Right","Bottom","Left"],yt=["Webkit","O","Moz","ms"],vt=K.fn.toggle;K.fn.extend({css:function(e,n){return K.access(this,function(e,n,r){return r!==t?K.style(e,n,r):K.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n="boolean"==typeof e;return K.isFunction(e)&&K.isFunction(t)?vt.apply(this,arguments):this.each(function(){(n?e:y(this))?K(this).show():K(this).hide()})}}),K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nt(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":K.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=K.camelCase(n),l=e.style;if(n=K.cssProps[u]||(K.cssProps[u]=m(l,u)),s=K.cssHooks[n]||K.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=pt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(K.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"===a&&!K.cssNumber[u]&&(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=K.camelCase(n);return n=K.cssProps[u]||(K.cssProps[u]=m(e.style,u)),s=K.cssHooks[n]||K.cssHooks[u],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=nt(e,n)),"normal"===o&&n in gt&&(o=gt[n]),r||i!==t?(a=parseFloat(o),r||K.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r}}),e.getComputedStyle?nt=function(t,n){var r,i,o,a,s=e.getComputedStyle(t,null),u=t.style;return s&&(r=s[n],""===r&&!K.contains(t.ownerDocument,t)&&(r=K.style(t,n)),ft.test(r)&&lt.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=r,r=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),r}:$.documentElement.currentStyle&&(nt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],o=e.style;return null==i&&o&&o[t]&&(i=o[t]),ft.test(i)&&!st.test(t)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&ut.test(nt(e,"display"))?K.swap(e,ht,function(){return w(e,t,r)}):w(e,t,r):void 0},set:function(e,n,r){return b(e,n,r?x(e,t,r,K.support.boxSizing&&"border-box"===K.css(e,"boxSizing")):0)}}}),K.support.opacity||(K.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=K.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===K.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),K(function(){K.support.reliableMarginRight||(K.cssHooks.marginRight={get:function(e,t){return K.swap(e,{display:"inline-block"},function(){return t?nt(e,"marginRight"):void 0})}}),!K.support.pixelPosition&&K.fn.position&&K.each(["top","left"],function(e,t){K.cssHooks[t]={get:function(e,n){if(n){var r=nt(e,t);return ft.test(r)?K(e).position()[t]+"px":r}}}})}),K.expr&&K.expr.filters&&(K.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!K.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nt(e,"display"))},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;4>r;r++)o[e+mt[r]+t]=i[r]||i[r-2]||i[0];return o}},lt.test(e)||(K.cssHooks[e+t].set=b)});var bt=/%20/g,xt=/\[\]$/,wt=/\r?\n/g,Tt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Nt=/^(?:select|textarea)/i;K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?K.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Nt.test(this.nodeName)||Tt.test(this.type))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e,n){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}}),K.param=function(e,n){var r,i=[],o=function(e,t){t=K.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){o(this.name,this.value)});else for(r in e)N(r,e[r],n,o);return i.join("&").replace(bt,"+")};var Ct,kt,Et=/#.*$/,St=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,At=/^(?:GET|HEAD)$/,Dt=/^\/\//,Lt=/\?/,Ht=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ft=/([?&])_=[^&]*/,Mt=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ot=K.fn.load,_t={},qt={},Bt=["*/"]+["*"];try{kt=R.href}catch(Pt){kt=$.createElement("a"),kt.href="",kt=kt.href}Ct=Mt.exec(kt.toLowerCase())||[],K.fn.load=function(e,n,r){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);if(!this.length)return this;var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),K.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),K.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(i?K("<div>").append(e.replace(Ht,"")).find(i):e)}),this},K.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.each(["get","post"],function(e,n){K[n]=function(e,r,i,o){return K.isFunction(r)&&(o=o||i,i=r,r=t),K.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),K.extend({getScript:function(e,n){return K.get(e,t,n,"script")},getJSON:function(e,t,n){return K.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?E(e,K.ajaxSettings):(t=e,e=K.ajaxSettings),E(e,t),e},ajaxSettings:{url:kt,isLocal:jt.test(Ct[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Bt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(_t),ajaxTransport:C(qt),ajax:function(e,n){function r(e,n,r,a){var l,f,v,b,w,N=n;2!==x&&(x=2,u&&clearTimeout(u),s=t,o=a||"",T.readyState=e>0?4:0,r&&(b=S(p,T,r)),e>=200&&300>e||304===e?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),w=T.getResponseHeader("Etag"),w&&(K.etag[i]=w)),304===e?(N="notmodified",l=!0):(l=j(p,b),N=l.state,f=l.data,v=l.error,l=!v)):(v=N,(!N||e)&&(N="error",0>e&&(e=0))),T.status=e,T.statusText=(n||N)+"",l?g.resolveWith(d,[f,N,T]):g.rejectWith(d,[T,N,v]),T.statusCode(y),y=t,c&&h.trigger("ajax"+(l?"Success":"Error"),[T,p,l?f:v]),m.fireWith(d,[T,N]),c&&(h.trigger("ajaxComplete",[T,p]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,u,l,c,f,p=K.ajaxSetup({},n),d=p.context||p,h=d!==p&&(d.nodeType||d instanceof K)?K(d):K.event,g=K.Deferred(),m=K.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",T={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(e){var n;if(2===x){if(!a)for(a={};n=St.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(p.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),r(0,e),this}};if(g.promise(T),T.success=T.done,T.error=T.fail,T.complete=m.add,T.statusCode=function(e){if(e){var t;if(2>x)for(t in e)y[t]=[y[t],e[t]];else t=e[T.status],T.always(t)}return this},p.url=((e||p.url)+"").replace(Et,"").replace(Dt,Ct[1]+"//"),p.dataTypes=K.trim(p.dataType||"*").toLowerCase().split(te),null==p.crossDomain&&(l=Mt.exec(p.url.toLowerCase())||!1,p.crossDomain=l&&l.join(":")+(l[3]?"":"http:"===l[1]?80:443)!==Ct.join(":")+(Ct[3]?"":"http:"===Ct[1]?80:443)),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=K.param(p.data,p.traditional)),k(_t,p,n,T),2===x)return T;if(c=p.global,p.type=p.type.toUpperCase(),p.hasContent=!At.test(p.type),c&&0===K.active++&&K.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Lt.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,p.cache===!1)){var N=K.now(),C=p.url.replace(Ft,"$1_="+N);p.url=C+(C===p.url?(Lt.test(p.url)?"&":"?")+"_="+N:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,K.lastModified[i]&&T.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&T.setRequestHeader("If-None-Match",K.etag[i])),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(!p.beforeSend||p.beforeSend.call(d,T,p)!==!1&&2!==x){w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(s=k(qt,p,n,T)){T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,s.send(v,r)}catch(E){if(!(2>x))throw E;r(-1,E)}}else r(-1,"No Transport");return T}return T.abort()},active:0,lastModified:{},etag:{}});var Wt=[],$t=/\?/,Rt=/(=)\?(?=&|$)|\?\?/,It=K.now();K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||K.expando+"_"+It++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.data,l=n.url,c=n.jsonp!==!1,f=c&&Rt.test(l),p=c&&!f&&"string"==typeof u&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(u);return"jsonp"===n.dataTypes[0]||f||p?(o=n.jsonpCallback=K.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],f?n.url=l.replace(Rt,"$1"+o):p?n.data=u.replace(Rt,"$1"+o):c&&(n.url+=($t.test(l)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||K.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Wt.push(o)),s&&K.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),K.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=$.head||$.getElementsByTagName("head")[0]||$.documentElement;return{send:function(i,o){n=$.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var zt,Xt=e.ActiveXObject?function(){for(var e in zt)zt[e](0,1)}:!1,Qt=0;K.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||D()}:A,function(e){K.extend(K.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(K.ajaxSettings.xhr()),K.support.ajax&&K.ajaxTransport(function(n){if(!n.crossDomain||K.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,f,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=K.noop,Xt&&delete zt[a]),i)4!==u.readyState&&u.abort();else{s=u.status,c=u.getAllResponseHeaders(),f={},p=u.responseXML,p&&p.documentElement&&(f.xml=p);try{f.text=u.responseText}catch(e){}try{l=u.statusText}catch(d){l=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(h){i||o(-1,h)}f&&o(s,l,f,c)},n.async?4===u.readyState?setTimeout(r,0):(a=++Qt,Xt&&(zt||(zt={},K(e).unload(Xt)),zt[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Ut,Gt,Yt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Vt=/queueHooks$/,Kt=[O],Zt={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Jt.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(K.cssNumber[e]?"":"px"),"px"!==r&&s){s=K.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,K.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};K.Animation=K.extend(F,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],Zt[n]=Zt[n]||[],Zt[n].unshift(t)},prefilter:function(e,t){t?Kt.unshift(e):Kt.push(e)}}),K.Tween=_,_.prototype={constructor:_,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var e=_.propHooks[this.prop];return e&&e.get?e.get(this):_.propHooks._default.get(this)},run:function(e){var t,n=_.propHooks[this.prop];return this.options.duration?this.pos=t=K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(r,i,o){return null==r||"boolean"==typeof r||!e&&K.isFunction(r)&&K.isFunction(i)?n.apply(this,arguments):this.animate(q(t,!0),r,i,o)}}),K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),o=K.speed(t,n,r),a=function(){var t=F(this,K.extend({},e),o);i&&t.stop(!0)};return i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=K.timers,a=K._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Vt.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem===this&&(null==e||o[n].queue===e)&&(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&K.dequeue(this,e)})}}),K.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.timers=[],K.fx=_.prototype.init,K.fx.tick=function(){for(var e,t=K.timers,n=0;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||K.fx.stop()},K.fx.timer=function(e){e()&&K.timers.push(e)&&!Gt&&(Gt=setInterval(K.fx.tick,K.fx.interval))},K.fx.interval=13,K.fx.stop=function(){clearInterval(Gt),Gt=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fx.step={},K.expr&&K.expr.filters&&(K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length});var en=/^(?:body|html)$/i;K.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){K.offset.setOffset(this,e,t)});var n,r,i,o,a,s,u,l={top:0,left:0},c=this[0],f=c&&c.ownerDocument;if(f)return(r=f.body)===c?K.offset.bodyOffset(c):(n=f.documentElement,K.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(l=c.getBoundingClientRect()),i=B(f),o=n.clientTop||r.clientTop||0,a=n.clientLeft||r.clientLeft||0,s=i.pageYOffset||n.scrollTop,u=i.pageXOffset||n.scrollLeft,{top:l.top+s-o,left:l.left+u-a}):l)},K.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return K.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(K.css(e,"marginTop"))||0,n+=parseFloat(K.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=K.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=K(e),s=a.offset(),u=K.css(e,"top"),l=K.css(e,"left"),c=("absolute"===r||"fixed"===r)&&K.inArray("auto",[u,l])>-1,f={},p={};c?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),K.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+i),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):a.css(f)}},K.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=en.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(K.css(e,"marginTop"))||0,n.left-=parseFloat(K.css(e,"marginLeft"))||0,r.top+=parseFloat(K.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(K.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||$.body;e&&!en.test(e.nodeName)&&"static"===K.css(e,"position");)e=e.offsetParent;return e||$.body})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);K.fn[e]=function(i){return K.access(this,function(e,i,o){var a=B(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(r?K(a).scrollLeft():o,r?o:K(a).scrollTop()):e[i]=o)},e,i,arguments.length,null)}}),K.each({Height:"height",Width:"width"},function(e,n){K.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){K.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return K.access(this,function(n,r,i){var o;return K.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?K.css(n,r,i,s):K.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=K,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return K}),window.SGAPI.$||(window.SGAPI.$=jQuery),window.SGAPI.jQuery||(window.SGAPI.jQuery=jQuery),window.$SG||(window.$SG=jQuery),window.jQuery||(window.jQuery=jQuery),window.$||(window.$=jQuery)}(window),function(e){e.fn.live=function(t,n,r){var i=this;setTimeout(function(){"function"==typeof n?e("body").on(t,i.selector,n):e("body").on(t,i.selector,n,r)},1)}}(jQuery);
/**
* This is the SG utility class. These are commonly used functions that 
* help support the other classes. 
*
* @author Matt Null
* @author Pete Fredricks - 04/05/2011
*
**/
!function(e){var t=function(){this.deferreds=[]};t.prototype={/**
		 * Returns the remote image object. Then you can get the
		 * dimensions of a remote image and other native attributes. 
		 * 
		 * @author Matt Null
		 * @param {string} url
		 */
getRemoteImage:function(e){var t=new Image;return t.src=e,t},/**
		 * Recursively checks to see if any item is NULL. 
		 * Can pass an object, string, anything.
		 * 
		 * @author Matt Null
		 * @param {obj} x
		 */
checkForNull:function(e){var t=[];if(null===e||""===e)return t.push(e);for(var r in e){if("object"==typeof e[r]&&null!==e[r]){var n=[];n.push(this.checkForNull(e[r])),t.concat(n)}(null===e[r]||""===e[r])&&t.push(e[r])}return t},/**
		 * Returns the size of an object 
		 * 
		 * @author Matt Null
		 * @param {obj} obj
		 */
objLength:function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r},/**
		 * Truncates a string to a give number of chars. 
		 * 
		 * @author Matt Null / Pete Fredricks
		 * @param {string} str
		 * @param {int} len
		 */
trim:function(e,t){return t=t||16,e=String(e),e.substr(0,t-1)+(e.length>t?"...":"")},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},/**
		 * Returns all the different types, including null, date, and array.
		 * 
		 * @author Pete Fredricks
		 * @param {any} obj
		 */
newTypeOf:function(t){return t instanceof Array?"array":t instanceof Date?"date":t instanceof e?"jquery":null===t?"null":"object"==typeof HTMLElement&&t instanceof HTMLElement||"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName?"element":typeof t},/**
		 * Randomly generate a unique ID
		 * @author Pete Fredricks
		 */
getUID:function(e){e=e||5;for(var t,r="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=r.length,a=[],u=0;e>u;u++)t=r.charAt(Math.floor(Math.random()*n)),a.push(Math.random()>.5?t:t.toLowerCase());return a.join("")},/**
		 * This is a wrapper for commonly used ajax requests. 
		 * 
		 * @author Pete Fredricks
		 */
update:function(t){t=t||{};var r=t.data||{},n=t.url||target.attr("sg-path"),a=t.parent?t.parent:t.target,u=this;return this.showLoading(a),e.ajax({url:n,data:r,method:"GET",dataType:"json",complete:function(){u.hideLoading(a)}})},showLoader:function(t){var r=t==window?!0:!1,n=e(t);if(0!=n.length){var a=r?{top:0,left:0}:n.offset(),u=r?n.width():n.outerWidth(!0),s=r?n.height():n.outerHeight(!0),o=e('<div class="loading-indicator"></div>').append(e('<div class="img" style="position:absolute;left:'+(u/2-8)+"px;top:"+(s/2-5.5)+'px;"></div>'));r||"relative"!=n.css("position")&&"absolute"!=n.css("position")?o.css({top:a.top,left:a.left,width:u,height:s}).appendTo("body"):o.css({top:0,left:0,right:0,bottom:0}).appendTo(n)}},hideLoader:function(){e(".loading-indicator").remove()},showLoading:function(e,t){t||e.addClass("loader")},hideLoading:function(e,t){t||e.removeClass("loader")},/**
		 * @author Matt Null
		 * Shows a "flash" message
		 */
showMessage:function(t,r){t=t||"An error has occured.",e("#message-shell").length&&(e("#message-feedback").html(t),e("#message-shell").removeClass("display-none").show()),r&&setTimeout(function(){e("#message-shell").addClass("display-none")},r)},/**
		 * Get a cookie
		 * @author W3Schools / Matt Null
		 */
setCookie:function(e,t,r){var n=new Date;n.setDate(n.getDate()+r);var a=escape(t)+(null==r?"":"; expires="+n.toUTCString());document.cookie=e+"="+a},/**
		 * Set a cookie
		 * @author W3Schools / Matt Null
		 */
getCookie:function(e){var t,r,n,a=document.cookie.split(";");for(t=0;t<a.length;t++)if(r=a[t].substr(0,a[t].indexOf("=")),n=a[t].substr(a[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==e)return unescape(n)},/**
		 * Simple number rounder.
		 * @author Pete Fredricks
		 */
round:function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},/**
		 * Return the opposite.
		 * @author Pete Fredricks
		 */
oppositeDay:function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";case"open":return"close";case"close":return"open";default:return e}},isEmail:function(e){var t=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;return t.test(e)?!0:!1},colorShift:function(e,t,r){r=r||.5;var n=parseInt(e.substr(1,2),16),a=parseInt(e.substr(3,2),16),u=parseInt(e.substr(5,2),16),s=parseInt(t.substr(1,2),16),o=parseInt(t.substr(3,2),16),i=parseInt(t.substr(5,2),16),h=parseInt(n-(n-s)*r),c=parseInt(a-(a-o)*r),l=parseInt(u-(u-i)*r);return h=h.toString(16),c=c.toString(16),l=l.toString(16),h=h.length<2?"0"+h:h,c=c.length<2?"0"+c:c,l=l.length<2?"0"+l:l,"#"+h+c+l},
//Returns the translated string
translate:function(e){if("function"==typeof translate)var t=translate(e);else var t=Translate(e);return t}};/**
	* The Format class contains methods for formatting numbers and dates.  
	*
	* @author Pete Fredricks
	**/
var r=function(){};r.prototype=function(){/**
		 * Format numbers based on a VB string.
		 * 
		 * @param {number} value Number to be formatted
		 * @param {string} format VB format string
		 */
function e(e,t){if(isNaN(e))return e;e=Number(e);var r="default";if(t instanceof Array){if(0==e&&t.length>2&&t[2])return t[2];0>e&&t.length>1&&t[1]?(t=t[1],r="neg"):t=t[0]}var n=t.match(/([^#0]*)([#0][#0,]*)(\.?)([#0]*)([\s\S]*)/),a=n[1],u=n[2],s=n[4],o=n[5],i=0>e;i&&(e*=-1);var h=/,/g,c=h.test(u);c&&(u=u.replace(h,""),h.lastIndex=0);var l=/^\s*%/.test(o);l&&(e*=100);var p=o.match(/^\s*\[([\w\s\\|]+)\]/),f=1e3,F="";if(p){if(e){p=p[1],"bytes"==p.toLowerCase()?(p=["b","KB","MB","GB","TB","PB","EB","ZB"],f=1024):p=p.split("|");var d=Math.floor(Math.log(e)/Math.log(f));d=Math.max(0,Math.min(p.length-1,d)),F=p[d],F.length&&(e/=Math.pow(f,d))}o=o.replace(/\[([\w\s|]+)\]/,F)}var g=/\\([\s\S])/g;o=o.replace(g,"$1"),a=a.replace(g,"$1");
// The minimum number of digits to left of decimal (we pad with zeros)
var m=u.match(/0*$/)[0].length;n=s.match(/^(0*)#*/);var v=n[0].length,b=n[1].length;// The minimum number of digits to right of decimal (we pad with zeros)
// Perform any rounding and pad right with zeros
e=e.toFixed(v);
// Prepended string
var D=[a],y=parseInt("0"+e,10).toString();if("0"==y&&1>m)y="";else{for(;y.length<m;)y="0"+y;if(c)for(var x=/(\d+)(\d{3}[\d,]*)$/g;x.test(y);)y=y.replace(x,"$1,$2"),x.lastIndex=0}
// Decimal point plus digits to right of decimal
if(D.push(i&&"neg"!=r?"-":"",y),b>0||v>0&&e%1!=0){var A=String(e).match(/\.\d*$/)[0];v>b&&(A=A.replace(new RegExp("0{0,"+(v-b)+"}$"),"")),D.push(A)}
// Appended string
return D.push(o),D.join("")}/**
		 * Format dates based on a VB string.
		 * 
		 * @param {date/string} value Date to be formatted 
		 * @param {string} format VB Format string
		 */
function t(e,t){function a(e,t){var r=/^(?:([MD]+)|([md]+))$/,n=t.match(r);return n?n[1]?e.toUpperCase():e.toLowerCase():e}
// if value is a string, convert it to a data object
e instanceof Date||(e=new Date(e));
// this will loop through all the matching regex statements
for(
// Looking for AM/PM in the format string
var u,s,o=/A(M?)\/?P\1/i.test(t),i=/^(?:([DM])\1{0,3}|(?:Y{4}|YY?)|([WHNS])\2?|Q|(A)(M?)\/?P\4|\\?([^\\]))/i,h=[];u=t.match(i);){if(u[5])// Raw text case
h.push(u[5]);else if(u[3])// Ante/Post Meridiem (a/p | A/P | am/pm | AM/PM)
s=e.getHours()<12?"a"+u[4]:"p"+u[4],h.push("A"==u[3]?s.toUpperCase():s.toLowerCase());else switch(u=u[0],u.toLowerCase()){case"d":// Single digit day (1 - 31)
h.push(e.getDate());break;case"dd":// Two digit day (01 - 31)
s=e.getDate(),10>s&&h.push("0"),h.push(s);break;case"ddd":// Abbreviated day (Sun - Sat)
h.push(a(r[e.getDay()].substring(0,3),u));break;case"dddd":// Full day (Sunday - Saturday)
h.push(a(r[e.getDay()],u));break;case"m":// Single digit month (1 - 12)
h.push(e.getMonth()+1);break;case"mm":// Two digit month (01 - 12)
s=e.getMonth()+1,10>s&&h.push("0"),h.push(s);break;case"mmm":// Abbreviated month (Jan - Dec)
h.push(a(n[e.getMonth()].substring(0,3),u));break;case"mmmm":// Full month (January - December)
h.push(a(n[e.getMonth()],u));break;case"y":// Day of the year (1 - 366)
s=new Date(e.getFullYear(),0,1),h.push(Math.ceil((e-s)/864e5)+1);break;case"yy":// Two digit year (00 - 99)
s=e.getFullYear().toString(),h.push(s.substring(s.length-2));break;case"yyyy":// Four digit year (100 - 9666)
h.push(e.getFullYear());break;case"w":// Day of the week (1 - 7)
h.push(e.getDay()+1);break;case"ww":// Week of the year (1 - 53)
s=new Date(e.getFullYear(),0,1),h.push(Math.ceil(((e-s)/864e5+s.getDay()+1)/7));break;case"h":// Single digit (0 - 23)
s=e.getHours(),o&&(0==s?s=12:s>12&&(s-=12)),h.push(s);break;case"hh":// Two digit (00 - 23)
s=e.getHours(),o&&(0==s?s=12:s>12&&(s-=12)),10>s&&h.push("0"),h.push(s);break;case"n":// Single digit (0 - 59)
h.push(e.getMinutes());break;case"nn":// Two digit (00 - 59)
s=e.getMinutes(),10>s&&h.push("0"),h.push(s);break;case"s":// Single digit (0 - 59)
h.push(e.getSeconds());break;case"ss":// Two digit second (00 - 59)
s=e.getSeconds(),10>s&&h.push("0"),h.push(s);break;case"q":// Quarter of the year (1 - 4)
h.push(Math.floor(e.getMonth()/3)+1);break;default:h.push(u)}t=t.replace(i,"")}return h.join("")}
// constants for the formatDate method
var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["January","February","March","April","May","June","July","August","September","October","November","December"];return{formatNumber:e,formatDate:t}}();/**
	* The Array class contains methods for manipulating arrays.  
	*
	* @author Matt Null / Pete Fredricks
	**/
var n=function(){};n.prototype={unique:function(e){
// loop through elements of array
for(var t=0,r=e.length;r>t;t++){currentEl=e[t];
// loop through the array again looking for matches
for(var n=t+1;r>n;n++)
// if the current element matches another element of the array...
currentEl===e[n]&&(
// delete element and save new array length
r=this.remove(e,n))}return e},compare:function(e,t){if(!e||!t)return!1;var r=e.length;if(r!=t.length)return!1;for(var n=e.sort(),a=t.sort(),u=0;r>u;u++)if(n[u]!==a[u])return!1;return!0},union:function(){for(var e,t=[],r=arguments.length,n=0;r>n;n++)if(e=arguments[n],e instanceof Array)for(var a=0,u=e.length;u>a;a++)t=t.concat(this.union(e[a]));else t.push(e);return this.unique(t)},/**
		 * Removes an element from an array.
		 * 
		 *  @author John Resig (MIT Licensed)
		 */
remove:function(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,n)}};/**
	* The Serializer class contains methods for creating and parsing JSON, 
	* as well as encoding and decoding with base64.  
	*
	* @author Pete Fredricks
	**/
var a=function(){};a.prototype=function(){/**
		 * This converts characters (usually passed in via regex) into unicode.
		 * 
		 * @param {string} str
		 */
function t(e){for(var t,r=e.charCodeAt(0),n=["\\u"],a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],u=[4096,256,16,1],s=0;4>s;s++)t=u[s],n.push(a[Math.floor(r/t)]),r%=t;return n.join("")}/**
		 * This escapes bad chars and adds double quotes to any string. 
		 * 
		 * @param {string} str
		 */
function r(e){return['"',e.replace(/[^ -~]|[\"\\]/g,t),'"'].join("")}/**
		 * This takes your object and turns it into a JSON string.
		 * 
		 * @param {any} obj
		 * @param {bool} encode - optional to run through b64 encode after JSON
		 * @return string
		 */
function n(e,t){
// if encode, run function again wrapped in b64 encoding
if(t)return u(n(e));var a=SGAPI.util.newTypeOf(e);switch(a){case"function":case"undefined":return void 0;case"string":return r(e);case"array":for(var s=[],o=0,i=e.length;i>o;o++)s.push(n(e[o]));return"["+s.join(",")+"]";case"date":return e.getTime();case"object":var h,c,l=[];for(var p in e)h=r(p),c=n(e[p]),c&&l.push(h+":"+c);return"{"+l.join(",")+"}";default:return String(e)}}/**
		 * This takes your serialized string and turns it into a JS object.
		 * 
		 * @param {string} str
		 * @param {bool} decode - optional to run through b64 decode first
		 * @return object
		 */
function a(t,r){return r&&(t=s(t)),e.parseJSON(t)}/**
		 * Takes a string and encodes it into base64. 
		 * 
		 * @param {string} str
		 * @return string
		 */
function u(e){var t,r,n=[];for(t=0,len=e.length;t<len;t+=3)r=(e.charCodeAt(t)<<16)+((255&e.charCodeAt(t+1))<<8)+(255&e.charCodeAt(t+2)),n.push(o.charAt(r>>18&63)),n.push(o.charAt(r>>12&63)),n.push(t>e.length-2?"=":o.charAt(r>>6&63)),n.push(t>e.length-3?"=":o.charAt(63&r));return n.join("")}/**
		 * Takes a base64 encoded string and decodes it. 
		 * 
		 * @param {string} str
		 * @return string
		 */
function s(e){var t,r,n=[];for(e=e.replace(/=/g,""),t=0,len=e.length;t<len;t+=4)r=o.indexOf(e.charAt(t))<<18|o.indexOf(e.charAt(t+1))<<12|(255&o.indexOf(e.charAt(t+2)))<<6|255&o.indexOf(e.charAt(t+3)),n.push(String.fromCharCode(r>>16&255)),n.push(t>e.length-3?"":String.fromCharCode(r>>8&255)),n.push(t>e.length-4?"":String.fromCharCode(255&r));return n.join("")}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{serialize:n,deserialize:a,base64encode:u,base64decode:s}}(),
// add to global namespace
SGAPI.util=new t,SGAPI.format=new r,SGAPI.array=new n,SGAPI.serializer=new a}(SGAPI.jQuery);
/**
* This classes handles everything for embeded surveys
* Requires SGAPI.utils
*
* @author Pete Fredricks - 07/20/2011
*
**/
SGAPI.embedManager=function(n){/**
	 * Takes a selector, el, or jquery. Populates the el with the b64 content.
	 */
function t(t,e,o){t instanceof n||(t=n(t)),t.html(e),"function"==typeof o&&window.setTimeout(function(){o.call(window,t,n)},0)}/**
	 * Checks to see if there is pending content and loads.
	 */
function e(){if(SGAPI.pendingContent&&SGAPI.pendingContent.length){for(var n,e=0,o=SGAPI.pendingContent.length;o>e;e++)n=SGAPI.pendingContent[e],t(n.id,n.content,n.callback);SGAPI.pendingContent=[]}}
// global hooks
// check to see if there is any content waiting in the queue - for embeded surveys	
return e(),{loaded:!0,contentLoader:t,loadPendingContent:e}}(SGAPI.jQuery);
/*
* fingerprintJS 0.5.4 - Fast browser fingerprint library
* https://github.com/Valve/fingerprintjs
* Copyright (c) 2013 Valentin Vasilyev (valentin.vasilyev@outlook.com)
* Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
* AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
* ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
* DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
* (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
* LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
* ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
* THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e[t]=n()}("Fingerprint",this,function(){"use strict";var t=function(t){var e,n;e=Array.prototype.forEach,n=Array.prototype.map,this.each=function(t,n,r){if(null!==t)if(e&&t.forEach===e)t.forEach(n,r);else if(t.length===+t.length){for(var i=0,a=t.length;a>i;i++)if(n.call(r,t[i],i,t)==={})return}else for(var o in t)if(t.hasOwnProperty(o)&&n.call(r,t[o],o,t)==={})return},this.map=function(t,e,r){var i=[];
// Not using strict equality so that this acts as a
// shortcut to checking for `null` and `undefined`.
// Not using strict equality so that this acts as a
// shortcut to checking for `null` and `undefined`.
return null==t?i:n&&t.map===n?t.map(e,r):(this.each(t,function(t,n,a){i[i.length]=e.call(r,t,n,a)}),i)},"object"==typeof t?(this.hasher=t.hasher,this.screen_resolution=t.screen_resolution,this.canvas=t.canvas,this.ie_activex=t.ie_activex):"function"==typeof t&&(this.hasher=t)};return t.prototype={get:function(){var t=[];if(t.push(navigator.userAgent),t.push(navigator.language),t.push(screen.colorDepth),this.screen_resolution){var e=this.getScreenResolution();"undefined"!=typeof e&&// headless browsers, such as phantomjs
t.push(this.getScreenResolution().join("x"))}
//body might not be defined at this point or removed programmatically
return t.push((new Date).getTimezoneOffset()),t.push(this.hasSessionStorage()),t.push(this.hasLocalStorage()),t.push(!!window.indexedDB),document.body?t.push(typeof document.body.addBehavior):t.push("undefined"),t.push(typeof window.openDatabase),t.push(navigator.cpuClass),t.push(navigator.platform),t.push(navigator.doNotTrack),t.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&t.push(this.getCanvasFingerprint()),this.hasher?this.hasher(t.join("###"),31):this.murmurhash3_32_gc(t.join("###"),31)},/**
     * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)
     * 
     * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
     * @see http://github.com/garycourt/murmurhash-js
     * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
     * @see http://sites.google.com/site/murmurhash/
     * 
     * @param {string} key ASCII only
     * @param {number} seed Positive integer only
     * @return {number} 32-bit positive integer hash 
     */
murmurhash3_32_gc:function(t,e){var n,r,i,a,o,s,u,c;for(n=3&t.length,// key.length % 4
r=t.length-n,i=e,o=3432918353,s=461845907,c=0;r>c;)u=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u,i=i<<13|i>>>19,a=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=(65535&a)+27492+(((a>>>16)+58964&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(c+2))<<16;case 2:u^=(255&t.charCodeAt(c+1))<<8;case 1:u^=255&t.charCodeAt(c),u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295,u=u<<15|u>>>17,u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295,i^=u}return i^=t.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0},
// https://bugzilla.mozilla.org/show_bug.cgi?id=781447
hasLocalStorage:function(){try{return!!window.localStorage}catch(t){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(t){return!0}},isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var t=["ShockwaveFlash.ShockwaveFlash",//flash plugin
"AcroPDF.PDF",// Adobe PDF reader 7+
"PDF.PdfCtrl",// Adobe PDF reader 6 and earlier, brrr
"QuickTime.QuickTime",// QuickTime
// 5 versions of real players
"rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl",// ShockWave player
"WMPlayer.OCX",// Windows media player
"AgControl.AgControl",// Silverlight
"Skype.Detection"];
// starting to detect plugins in IE
return this.map(t,function(t){try{return new ActiveXObject(t),t}catch(e){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),n="http://valve.github.io";return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,4,17),t.toDataURL()}},t});
/*!
 * Signature Pad v1.3.2 | https://github.com/szimek/signature_pad
 * (c) 2013 Szymon Nowak | Released under the MIT license
 */
var SignaturePad=function(t){"use strict";var i=function(t,i){var o=i||{};this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.dotSize=o.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this.onEnd=o.onEnd,this.onBegin=o.onBegin,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseEvents(),this._handleTouchEvents()};i.prototype.clear=function(){var t=this._ctx,i=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,i.width,i.height),t.fillRect(0,0,i.width,i.height),this._reset()},i.prototype.toDataURL=function(){var t=this._canvas;return t.toDataURL.apply(t,arguments)},i.prototype.fromDataURL=function(t){var i=this,o=new Image;this._reset(),o.src=t,o.onload=function(){i._ctx.drawImage(o,0,0,i._canvas.width,i._canvas.height)},this._isEmpty=!1},i.prototype._strokeUpdate=function(t){var i=this._createPoint(t);this._addPoint(i)},i.prototype._strokeBegin=function(t){this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeDraw=function(t){var i=this._ctx,o="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawPoint(t.x,t.y,o),i.closePath(),i.fill()},i.prototype._strokeEnd=function(t){var i=this.points.length>2,o=this.points[0];!i&&o&&this._strokeDraw(o),"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){var i=this;this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",function(t){1===t.which&&(i._mouseButtonDown=!0,i._strokeBegin(t))}),this._canvas.addEventListener("mousemove",function(t){i._mouseButtonDown&&i._strokeUpdate(t)}),t.addEventListener("mouseup",function(t){1===t.which&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(t))})},i.prototype._handleTouchEvents=function(){var i=this;this._canvas.style.msTouchAction="none",this._canvas.addEventListener("touchstart",function(t){var o=t.changedTouches[0];i._strokeBegin(o)}),this._canvas.addEventListener("touchmove",function(t){t.preventDefault();var o=t.changedTouches[0];i._strokeUpdate(o)}),t.addEventListener("touchend",function(t){var o=t.target===i._canvas;o&&i._strokeEnd(t)})},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(t){var i=this._canvas.getBoundingClientRect();return new o(t.clientX-i.left,t.clientY-i.top)},i.prototype._addPoint=function(t){var i,o,e,s,h=this.points;h.push(t),h.length>2&&(3===h.length&&h.unshift(h[0]),s=this._calculateCurveControlPoints(h[0],h[1],h[2]),i=s.c2,s=this._calculateCurveControlPoints(h[1],h[2],h[3]),o=s.c1,e=new n(h[1],i,o,h[2]),this._addCurve(e),h.shift())},i.prototype._calculateCurveControlPoints=function(t,i,n){var e=t.x-i.x,s=t.y-i.y,h=i.x-n.x,r=i.y-n.y,a={x:(t.x+i.x)/2,y:(t.y+i.y)/2},c={x:(i.x+n.x)/2,y:(i.y+n.y)/2},u=Math.sqrt(e*e+s*s),d=Math.sqrt(h*h+r*r),l=a.x-c.x,p=a.y-c.y,y=d/(u+d),_={x:c.x+l*y,y:c.y+p*y},v=i.x-_.x,f=i.y-_.y;return{c1:new o(a.x+v,a.y+f),c2:new o(c.x+v,c.y+f)}},i.prototype._addCurve=function(t){var i,o,n=t.startPoint,e=t.endPoint;i=e.velocityFrom(n),i=this.velocityFilterWeight*i+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(i),this._drawCurve(t,this._lastWidth,o),this._lastVelocity=i,this._lastWidth=o},i.prototype._drawPoint=function(t,i,o){var n=this._ctx;n.moveTo(t,i),n.arc(t,i,o,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t,i,o){var n,e,s,h,r,a,c,u,d,l,p,y=this._ctx,_=o-i;for(n=Math.floor(t.length()),y.beginPath(),s=0;n>s;s++)h=s/n,r=h*h,a=r*h,c=1-h,u=c*c,d=u*c,l=d*t.startPoint.x,l+=3*u*h*t.control1.x,l+=3*c*r*t.control2.x,l+=a*t.endPoint.x,p=d*t.startPoint.y,p+=3*u*h*t.control1.y,p+=3*c*r*t.control2.y,p+=a*t.endPoint.y,e=i+a*_,this._drawPoint(l,p,e);y.closePath(),y.fill()},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var o=function(t,i,o){this.x=t,this.y=i,this.time=o||(new Date).getTime()};o.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},o.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var n=function(t,i,o,n){this.startPoint=t,this.control1=i,this.control2=o,this.endPoint=n};return n.prototype.length=function(){var t,i,o,n,e,s,h,r,a=10,c=0;for(t=0;a>=t;t++)i=t/a,o=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),n=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),t>0&&(h=o-e,r=n-s,c+=Math.sqrt(h*h+r*r)),e=o,s=n;return c},n.prototype._point=function(t,i,o,n,e){return i*(1-t)*(1-t)*(1-t)+3*o*(1-t)*(1-t)*t+3*n*(1-t)*t*t+e*t*t*t},i}(document);
/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function(e,t){var s,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=s=function(e,s,a,r){function n(){function i(){l=+new Date,a.apply(d,u)}function n(){o=t}var d=this,c=+new Date-l,u=arguments;r&&!o&&i(),o&&clearTimeout(o),r===t&&c>e?i():s!==!0&&(o=setTimeout(r?n:i,r===t?e-c:e))}var o,l=0;return"boolean"!=typeof s&&(r=a,a=s,s=t),i.guid&&(n.guid=a.guid=a.guid||i.guid++),n},i.debounce=function(e,i,a){return a===t?s(e,i,!1):s(e,a,i!==!1)}}(this),/**
* SurveyGizmo Survey Javascript Library
* This is split into two classes, SGSurvey and Survey
*
* @author unknown - sometime
* @author Pete Fredricks - 04/28/2011
*
**/
////TURN FIREBUG CONSOLE ON!!
//window.loadFirebugConsole();
// wrap all code in closure 
function($){
//page initiator... gets run on ready
//throw in here anything you need run (event handlers etc)
function SG_init_page(e){e=e||document;
//set up the save&continue
var t=$("#sg-snc-bar",e);t.is(":visible")&&($("#sGizmoSaveButtonX",e).bind("click",__sgregIDs[0].object,__sgregIDs[0].object.save_n_continue),$("#sGizmoCancelButtonX",e).click(__sgregIDs[0].object.cancel_save_n_continue));var s=$(".sg-no-repeat",e);s.size()>0&&__sgregIDs[0].object.force_no_repeats(s),
// Matt Null -- attach events for pdf review export -- this probably needs moved
// update pFred
$("#pdf-review-export",e).click(function(){var e=['<form action="https://',__sgregIDs[0].object.surveyObject.current_domain,'/s3/pdfexport.php" method="POST" id="pdf-export-form">','<input type="hidden" name="review" value="'+$SG(this).attr("data")+'" />','<input type="hidden" value="'+$SG(this).attr("surveyname")+'" name="surveyname" />','<input type="hidden" name="session" value="'+__sgregIDs[0].object.surveyObject.session+'" />',"</form>"],t=$(e.join(""));$("body").append(t),t.submit()}),
//Matt Null
//attach event for error trigger link
$("#error-scroll-trigger").click(function(e){e.preventDefault(),__sgregIDs[0].object.go_first_error()}),
// Collab comments start
SGAPI.survey.surveyObject&&SGAPI.survey.surveyObject.collab_tester&&new SGCollabComments}function TextHighlighterQuestion(e,t){return this.options=t||{},this.$question=$SG(e+"-element"),this.$question.css({position:"relative"}),this.$question.length?(this.$data=this.$(e+"-data"),this.$serial=this.$(e+"-serialize"),this.$tip=this.$(".sg-texthighlighter-tip"),this.$txt=this.$(e+"-text"),this.$reset=this.$(e+"-reset"),this.txt=this.$txt[0],this.lastID=0,this.allowComments=this.$question.hasClass("allow-comment"),this.require_comment=this.$question.hasClass("require-comment"),this.max_points=parseInt(this.options.properties.max_points||0),this.max_comment_characters=parseInt(this.options.properties.max_comment_characters||0),this.points_count=this.getAnswers().length,this.allowMC=this.$question.hasClass("allow-mc"),this.setup(),void this.$question.data("thq",this)):void console.error("Question not found (TextHighlighterQuestion): "+e+"-element")}function HeatmapQuestion(e,t){this.options=t||{},this.options.properties=this.options.properties||{},this.admin=this.options.admin||!1,this.$question=$SG(e+"-element"),this.options_count=parseInt(this.$question.data("optionscount")),this.allow_comment=this.$question.hasClass("allow-comment"),this.require_comment=this.$question.hasClass("require-comment"),this.$data=this.$(e+"-data"),this.$tip=this.$(".sg-heatmap-tip"),this.$img=this.$(e+"-image"),this.heatmap_data={dots:[]},this.$question.length&&this.setup(),this.$question.data("hm",this)}/**
 * SGCollabComments
 * Collaboration comment dialog
 */
function SGCollabComments(){this.$toggle=$(".sg-toggle-comments"),this.$dialog=$("#sg-cc-dialog"),this.$ccOn=$("#sg_cc_on"),this.$load=$(".sg-ccd-load",this.$dialog),this.$text=$(".sg-ccd-text",this.$dialog);var e=this;this.$toggle.click(function(){e.$dialog.data("uiDialog")&&e.$dialog.dialog("close"),$(this).text(e.isOn()?"Show Comments":"Hide Comments"),$("body").toggleClass("sg-cc-show"),e.$ccOn.val(e.isOn()?1:0)});var t;$(".sg-cc-hook, .sg-survey-form").click(function(s){e.isOn()&&!$(s.target).is(":input")&&($(this).hasClass("sg-question")?(t=s.timeStamp,e.showBubble(this,{qsku:this.id.split("-")[3]})):t!=s.timeStamp&&(e.showBubble(this,{psku:SGAPI.survey.surveyObject.currentpage}),t=null))})}/**
* This is the basic contructor for the SGSurvey Library 
* @param SurveyObject surveydata - this is the survey data object supplied by the Survey class. 
* @param ajaxProxy surveydata - enabled is the server the survey is running on has an AJAX Proxy script.
**/
function SGSurvey(e,t){this.libversion=2,this.surveyObject=e,this.pageErrors=new Array,this.doLoop=new Array,this.ajaxProxy=t,this.page_errors={},this.timer_pulse=200,//how often do the timed checks/animation run in milliseconds.
this.pipeIndex={},this.messages=this.surveyObject.messages,//the language specific messages
this.language=this.surveyObject.language,this.count_uploaded_files=1,this.registeredOptions=new Array,
// Used to calculate question time
this.lastChangeTime=new Date,__sgregIDs.push({id:this.surveyObject.id,object:this}),this.surveyObject.options&&this.surveyObject.options.is_kiosk&&this.runKioskMode(),this.surveyObject.options&&this.surveyObject.options.dynamic_number&&(this.dNumbering=!0);var s=this;$(".sg-file-delete").click(function(){var e={};e.success={},e.success.file_name=$(this).attr("rel");var t=$(this).parents(".sg-question").attr("id").replace("-box","");s.deleteUploadedFile(e,t,this)}),this.mobileOptimized=$SG(".sg-body").hasClass("sg-mobile-optimized"),this.interVirtualPage=$SG(".sg-body").hasClass("sg-int-virtual-page"),this.interCollapsed=$SG(".sg-body").hasClass("sg-int-collapsed"),this.interBlurred=$SG(".sg-body").hasClass("sg-int-blurred")}/** 
*	This function gets the target of a particular event (most event handlers need this to work properly)
**/
function sgGetEventTarget(e){var t=null;for(t="undefined"!=typeof e.target?e.target:e.srcElement;3==t.nodeType&&null!=t.parentNode;)t=t.parentNode;return t}//END CLOSURE
// CLASS HELPER FUNCTIONS //
function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}/**
 * for ie6 and ie7 only.
 * creates new input elements from the dummy clone. Changes
 * the name and id to match the correct piping index.
 * 
 * @author pFred
 * @return {jquery} (new set of elements)
 */
function iePipeify(e,t){return e.each(function(s){var i=$(this),a=i.attr("id")||"",r=a.replace(/-dummy/,"")+"-pipe-"+t;if(i.is(":input")){var n="radio"==(i.attr("type")||"").toLowerCase(),o=this.nodeName,l=i.attr("class"),d=i.attr("type"),c=i.attr("value"),u=i.attr("title"),p=i.attr("size"),h=i.attr("rows"),g=i.attr("cols"),v="",f=/\[\]/g;i.attr("name")&&f.test(i.attr("name"))&&(v="[]");//for multi select drop down menus
var m=(n?r.replace(/-\d+-pipe/,"-pipe"):r.replace(/-element/,""))+v,b=["<",o,' name="',m,'" id="',r,'"'];d&&b.push(' type="',d,'"'),c&&b.push(' value="',c,'"'),l&&b.push(' class="',l,'"'),u&&b.push(' title="',u,'"'),p&&b.push(' size="',p,'"'),h&&b.push(' rows="',h,'"'),g&&b.push(' cols="',g,'"'),b.push("></",o,">");var S=document.createElement(b.join(""));
// if this element is a select, we need to clone the options too
if("select"==o.toLowerCase())for(var y,G,_,k,C,w=i.find("option"),x=0,j=w.length;j>x;x++)y=$(w[x]),G=y.attr("value"),_=y.text(),k=['<option value="',G,'"></option>'],C=document.createElement(k.join("")),C.innerHTML=_,S.appendChild(C);e[s]=S,i.before(S),i.remove()}else i.attr("id",r)}),e}/**
 * For a group of elements (jquery), changes the name and 
 * id to match the correct piping index.
 * 
 * @author pFred
 */
function pipeify(e,t){e.each(function(){var e=$(this),s="radio"==(e.attr("type")||"").toLowerCase(),i=e.attr("id")||"",a=i.replace(/-dummy/,"")+"-pipe-"+t,r=$(this.nextElementSibling);if(r.is("label[for]")&&r.attr("for",a),e.attr("id",a),e.attr("name")){var n=e.attr("name").indexOf("[]")>0?"[]":"",o=(s?a.replace(/-\d+-pipe/,"-pipe"):a.replace(/-element/,""))+n;e.attr("name",o)}})}function secondsToTime(e){var t=Math.floor(e/3600);t=t>0?t:0;var s=e%3600,i=Math.floor(s/60);10>i&&(i=i>0?i:0,i="0"+i);var a=s%60,r=Math.ceil(a);10>r&&(r=r>0?r:0,r="0"+r);var n={h:t,m:i,s:r};return n}function tick(e){var e=e,t=Math.round((new Date).getTime()/1e3),s=e-t;if(s>=0){var t=secondsToTime(s);$("#sg-timer-start").text(t.h+":"+t.m+":"+t.s)}}function sg_twitter_action_record(e,t){t.val()?t.val(t.val()+","+e.type):t.val(e.type)}window.$SG||(window.$SG=$),function(e){
// CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
// ============================================================
function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var s in t)if(void 0!==e.style[s])return{end:t[s]}}
// http://blog.alexmaccaw.com/css-transitions
e.fn.emulateTransitionEnd=function(t){var s=!1,i=this;e(this).one(e.support.transition.end,function(){s=!0});var a=function(){s||e(i).trigger(e.support.transition.end)};return setTimeout(a,t),this},e(function(){e.support.transition=t()})}($SG),TextHighlighterQuestion.prototype={$:function(e){return e?this.$question.find(e):this.$question},getAnswers:function(){return JSON.parse(this.$data.val()||"[]")||[]},updateSerial:function(e,t){var s,i={},a=[],r=this.getAnswers(),n=this.lastID;this.$(".th-color-"+n).length&&(this.$(".th-color-"+n).each(function(){a.push($(this).closest(".sg-th-hook").data("index"))}),i.option=e.map(function(){return this.value}).get().join(","),i.id=n,i.comment=t,i.indicies=a,r.push(i),s=JSON.stringify(r),this.$data.val(s))},cancelHideTip:function(){this.$tip.find(".sg-texthighlighter-cancel").click()},prompt:function(e){function t(){d.$txt.css({paddingBottom:0});var e,t=r.position();d.$tip.show();var s=d.$txt.outerWidth(),i=d.$tip.outerWidth(),a=i+t.left>s?s-i:t.left,n=t.top+20;
// Position
d.$tip.css({top:n,left:a}),e=d.$tip.offset().top+d.$tip.outerHeight()-d.$txt.offset().top-d.$txt.outerHeight(),e>0&&d.$txt.css({paddingBottom:e})}function s(){d.$tip.hide().find(".sg-texthighlighter-cancel").off("click"),d.$txt.css({paddingBottom:0}),
// Merge text nodes (for FF)
$SG.isFunction(d.$txt[0].normalize)&&d.$txt[0].normalize()}function i(){var e=d.$tip.find(":checked"),t=e.data("color"),s=d.processColor(t);d.colorWrappers(p,s.rgbastr,s.color,o,l)}var a=e.startContainer,r=e.endContainer,n=".sg-th-hook";
// Find the span parents
a=$(a).is(n)?$(a):$(a).closest(n),r=$(r).is(n)?$(r):$(r).closest(n),
// End offset is at beginning, move to previous span
0==e.endOffset&&r.prev(n).length&&(r=r.prev(n)),
// Start offset is at end, move to next span
e.startOffset==e.startContainer.length-1&&a.next(n).length&&(a=a.next(n));var o=$(a).data("index"),l=$(r).data("index"),d=this,c=this.$tip.find(".sg-texthighlighter-comment"),u=this.$tip.find(":radio, :checkbox"),p=++this.lastID;t(),
// Cancel
this.$tip.find(".sg-texthighlighter-cancel").off("click").click(function(e){e.stopPropagation(),d.$("span.th-color-"+p).each(function(){$(this).contents().unwrap()}),s()}),
// Save
this.$tip.find(".sg-texthighlighter-save").off("click").click(function(e){e.stopPropagation();var t=d.$tip.find(":checked");if(t.length)if(d.require_comment&&c.val().length<1)
//require them to comment
c.addClass("sg-texthighlighter-comment-highlight"),setTimeout(function(){c.removeClass("sg-texthighlighter-comment-highlight")},2e3);else{var i=c.length?c.val():null;d.updateSerial(t,i),d.points_count++,d.$reset.parent().removeClass("sg-hide"),s()}}),
// Input change
u.prop("checked",!1).off("click").click(function(){var e=$SG(this).closest("li").toggleClass("active",this.checked);"radio"==this.type&&e.siblings().removeClass("active"),i()}).closest("li").removeClass("active"),
// Pre-check
1==u.length&&u.prop("checked",!0).click(),1==u.length&&!this.allowComments&&this.$tip.find(".sg-texthighlighter-save").click(),
// Reset comment
c.val("")},processColor:function(e){var t,s=SGAPI.util.hexToRgb(e);return t=[s.r,s.g,s.b,.65],{rgbastr:"rgba("+t.join(", ")+")",color:1*t[0]+1*t[1]+1*t[2]>382*t[3]?"#252525":"#EFEFEF"}},colorWrappers:function(e,t,s,i,a){var r;if(this.$(".th-color-"+e).length)r=this.$("span.th-color-"+e),r.each(function(){$(this).css("background",t).css("color",s)});else{r=$("<span></span>"),r.addClass("highlighted"),r.addClass("th-color-"+e),r.attr("data-highlighted",!0);for(var n=i;a>=n;n++)r.css("background",t).css("color",s),this.$("span.js-i-"+n+" .highlighted").length?this.$("span.js-i-"+n+" .highlighted").last().wrapInner(r):this.$("span.js-i-"+n).wrapInner(r)}},setup:function(){function e(e){if("selectionchange"==e.type){
// Prevent multiple fires
if(!n)return;s()}if(0!==r.max_points&&r.points_count>=r.max_points)
// max points achieved - deselect and return
return void window.getSelection().removeAllRanges();r.cancelHideTip();var t,i=window.getSelection();i.rangeCount&&(t=i.getRangeAt(0))&&!t.collapsed&&$SG.trim(t.toString()).length&&r.prompt(t)}function t(){n=!0,document.addEventListener("selectionchange",a,!1)}function s(){n=!1,document.removeEventListener("selectionchange",a)}var i,a,r=this,n=!1;if(a=$.debounce(750,e),this.$txt.off("mouseup").mouseup(e),this.$txt.off("touchend touchstart").on("touchend",t).on("touchstart",s),(i=this.getAnswers()).length){try{for(var o,l,d,c,u=0;u<i.length;u++)o=r.$tip.find('input[value="'+i[u].option+'"]').data("color"),l=i[u].indicies[0],d=i[u].indicies[i[u].indicies.length-1],c=r.processColor(o),i[u].id>this.lastID&&(this.lastID=i[u].id),r.colorWrappers(i[u].id,c.rgbastr,c.color,l,d)}catch(p){}this.$reset.parent().removeClass("sg-hide")}this.$reset.off("click").click(function(){r.$data.val(""),r.$(".highlighted").each(function(){$(this).contents().unwrap()}),r.points_count=0});
// Off click
var h=".sg-texthighlighter-cancel, .sg-texthighlighter-text, .sg-texthighlighter-tip";$SG(document).click(function(e){$SG(e.target).is(h)||$SG(e.target).closest(h).length||r.cancelHideTip()})}},HeatmapQuestion.prototype={$:function(e){return e?this.$question.find(e):this.$question},addDot:function(e){var t=this;if(this.options.properties.max_points&&!(this.heatmap_data.dots.length<this.options.properties.max_points))return!1;var s=e.id||guid(),a=e.key||"",r=e.color;null==r&&null!=e.answer&&(r=this.$(".sg-heatmap-choices :radio[value="+e.answer+"]").data("color"));var n='<div class="sg-heatmap-dot" data-answer="none" id="'+s+'" style="top:'+e.yPercent+"%;left:"+e.xPercent+"%;background:"+r+';">'+a+"</div>";this.$().append(n);
//keep track
//find our dot for reference
var o=this.$("#"+s);"none"!=e.answer&&o.data("answer",e.answer),e.id||t.heatmapPrompt(e,function(i,a,r){if(null==i)o.remove();else{e.answer||(e.answer=i),e.color=a,e.comment=r,e.id=s,t.heatmap_data.dots.push(e),o.css("background",a),o.data("answer",i);
//store our data
var n=JSON.stringify(t.heatmap_data);t.$data.val(n)}}),
//update response
o.off("click").on("click",function(){var e=this.id;o=$(this);var s=$.grep(t.heatmap_data.dots,function(t){return t.id==e}),a=s[0];a&&t.heatmapPrompt($SG.extend({present:!0},a),function(s,a,r){
//find our object
for(i=0;i<t.heatmap_data.dots.length;i++){var n=t.heatmap_data.dots[i];if(n.id==e){null==s?(
//delete
t.heatmap_data.dots.splice(i,1),o.remove(),t.$data.val(JSON.stringify(t.heatmap_data))):(o.css("background",a),o.data("answer",s),t.heatmap_data.dots[i].answer=s,t.heatmap_data.dots[i].comment=r,t.heatmap_data.dots[i].color=a,
//store our data
t.$data.val(JSON.stringify(t.heatmap_data)));break}}})})},//end add dot
heatmapPrompt:function(e,t){var s=(e.x,e.y),i=this,a=null==e.comment?"":e.comment,r=this.$tip.find(".sg-heatmap-comment");
//if only 1 options & no comments, just get the value and save
if(1!=this.options_count||this.allow_comment||this.require_comment){if(this.$tip.length){
//show tip
this.allow_comment&&r.val(a),this.$(".sg-heatmap-choices li.active").removeClass("active"),this.$tip.addClass("active"),
//figure out best place to put tip
$tip_inner=this.$tip.find(".sg-heatmap-tip-inner");var n=$tip_inner.height(),o=s;if(this.heatmap_data.imageH>n){var l=s/this.heatmap_data.imageH*100;30>l?o=s+n/2:l>70&&(o=s-n/2),$tip_inner.css("top",o+"px")}
//bind callback
$(".sg-heatmap-choices input",this.$tip).off("click").on("click",function(e){$("ul.sg-heatmap-choices li.active").removeClass("active"),$(this).parent("li").addClass("active")});
// If is new, hide "remove this point".  If new and only one option, pre-select only option
// else select existing option and show "remove this point"
var d=!e.answer;d?(1==this.options_count?$("ul.sg-heatmap-choices input:first",this.$tip).click():$("ul.sg-heatmap-choices input",this.$tip).prop("checked",!1),$(".sg-heatmap-dot-remove",this.$tip).hide()):($("#"+e.answer+"-wrapper").addClass("active").find("input").prop("checked",!0),$(".sg-heatmap-dot-remove",this.$tip).show()),
//remove response
$("a.sg-heatmap-dot-remove",this.$tip).off("click").on("click",function(){t?t():$(".sg-heatmap-dot:last").remove(),i.$tip.removeClass("active")}),
//cancel - if this was a new dot, remove it.  else, close $tip
$(".sg-heatmap-dot-cancel",this.$tip).off("click").on("click",function(){i.$tip.removeClass("active"),d&&$(".sg-heatmap-dot:last").remove()}),
//save response
$("a.sg-heatmap-dot-save",this.$tip).off("click").on("click",function(){var e=i.$tip.find(".sg-heatmap-choices input:checked"),s=e.attr("value"),a=e.data("color"),n=r.val();i.require_comment&&n.length<1?(
//require them to comment
r.addClass("sg-heatmap-comment-highlight"),setTimeout(function(){r.removeClass("sg-heatmap-comment-highlight")},2e3)):1==e.length&&(t&&t(s,a,n),i.$tip.removeClass("active"))})}}else{var c=this.$tip.find(".sg-heatmap-choices input").first(),u=c.attr("value"),p=c.data("color");t&&(e.present?t():t(u,p,r.val()))}},setup:function(){var e,t=this;
// reload heatmap
if(""!=(e=this.$data.val())){try{if(this.heatmap_data=JSON.parse(atob(e)),this.heatmap_data.dots){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a=s.split("");for(i=0;i<this.heatmap_data.dots.length;i++){var r=this.heatmap_data.dots[i];t.admin&&(r.key=a[i]),t.addDot(r)}}}catch(n){}this.$data.val(JSON.stringify(this.heatmap_data))}
//track clicks
this.admin||this.$img.off("click").on("click",function(e){t.heatmap_data.imageW=$(this).width(),t.heatmap_data.imageH=$(this).height(),
//clean up unanswered dots
t.$(".sg-heatmap-dot").filter(function(){return"none"==$(this).data("answer")}).remove();var s={};
//determine grid location (100x100)
return s.x=e.offsetX,s.y=e.offsetY,s.xPercent=parseFloat(s.x/t.heatmap_data.imageW*100).toFixed(2),s.yPercent=parseFloat(s.y/t.heatmap_data.imageH*100).toFixed(2),s.gridX=parseInt(s.xPercent),s.gridY=parseInt(s.yPercent),t.addDot(s),e.preventDefault(),!1})}},SGCollabComments.prototype.isOn=function(){return $("body").hasClass("sg-cc-show")},SGCollabComments.prototype.showBubble=function(e,t){var s=$(e),i=this;this.$text.show(),this.$load.empty(),i.$dialog.data("uiDialog")&&i.$dialog.dialog("close"),this.$dialog.dialog({position:{my:"right",at:"right",of:s},width:500,dialogClass:"collab-dialog"}),this.$load.load("/s3/ajax_cc.php?"+$.param($.extend({id:SGAPI.survey.surveyObject.id,link:SGAPI.survey.surveyObject.collab_tester_link,cid:SGAPI.survey.surveyObject.customer_id,email:SGAPI.survey.surveyObject.collab_tester_email||"",name:SGAPI.survey.surveyObject.collab_tester_name||"",uid:SGAPI.survey.surveyObject.collab_tester_id||0,notify:SGAPI.survey.surveyObject.collab_notify||""},t)),function(){i.$text.hide(),i.setupForm(s)})},SGCollabComments.prototype.setupForm=function(e){var t=$(".sg-cm-form",this.$load),s=e.hasClass("sg-cc-hook")?$(".sg-cc-badge",e):$(".sg-cc-badge-page"),i=this;
// Prefill last used comment author name
""==$('[name="sg-cm-name"]',t).val()&&this.lastUsedName&&$('[name="sg-cm-name"]',t).val(this.lastUsedName),
// Prefill last used email author name
""==$('[name="sg-cm-email"]',t).val()&&this.lastUsedEmail&&$('[name="sg-cm-email"]',t).val(this.lastUsedEmail),t.submit(function(e){if(e.preventDefault(),i.posting)return!1;
// Validation
var a=[];
// Show errors
return""==$('[name="sg-cm-text"]',t).val()&&a.push("Please enter a comment"),""==$('[name="sg-cm-name"]',t).val()&&a.push("Please enter your name"),""==$('[name="sg-cm-email"]',t).val()&&a.push("Please enter your email address"),a.length?alert(a.join("\n")):(i.posting=1,$.post("/s3/ajax_cc.php",t.serialize()).done(function(e){$(".sg-cm-list .sg-cm-empty",i.$load).remove(),e&&$(".sg-cm-list",i.$load).prepend(e).scrollTo(0),$("textarea",t).val(""),s.text(parseInt(s.text())+1),i.posting=0,i.$dialog.data("uiDialog")&&i.$dialog.dialog("close"),i.lastUsedName=$('[name="sg-cm-name"]',t).val(),i.lastUsedEmail=$('[name="sg-cm-email"]',t).val()})),!1})};/* / SGCollabComments */
/* This variable is global and contasin a list of registered survey handlers on the page */
var __sgregIDs=new Array,cal;SGSurvey.prototype.cancel_save_n_continue=function(){$SG("#sg-snc-error").text("").fadeOut(),$SG("#sg-snc-email").val(""),$SG("#sg-snc-email2").val(""),$SG("#sg-snc-box").slideUp()},SGSurvey.prototype.save_n_continue=function(e){$SG("#sg-snc-error").text("").fadeOut();var t=$SG("#sg-snc-email").val(),s=$SG("#sg-snc-email2").val(),i=$SG("#sg-snc-slug").val(),a=$SG("#sg_sessionid").val(),r=/^([a-zA-Z0-9_\.\-\+\&])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(""==$SG.trim(t))
//e.data is the survey object.
//access the messages array for the correct language string
return void $SG("#sg-snc-error").text(e.data.messages.required).fadeIn();if(!r.test(t))return void $SG("#sg-snc-error").text(e.data.messages.save_n_continue_invalid).fadeIn();if($SG.trim(t)!=$SG.trim(s))
//e.data is the survey object.
return void $SG("#sg-snc-error").text(e.data.messages.save_n_continue_match).fadeIn();
//in preview mode, do not send, just notify
if("true"==e.data.surveyObject.ispreview)$SG("#sg-snc-form").slideUp(function(){$SG("#sg-snc-thanks p").html(SGAPI.util.translate("Normally, an email would have been sent to the address provided with a link to return to this survey. However, you are in preview mode so <b>no email has been sent</b>."))}),$SG("#sg-snc-thanks").slideDown();else{
//got this far, send it
//but first save the data
var n=$("form").attr("action"),o=$("form").serialize();$.ajax({type:"POST",url:n,data:o}).always(function(){var e={sg_ajax_action:"save_n_continue",email:t,sg_sessionid:a,slug:i};$SG.ajax({type:"POST",url:"/s3/ajax_snc.php",data:e,success:function(e){e&&"ok"==e.result?($SG("#sg-snc-form").slideUp(),$SG("#sg-snc-thanks").slideDown()):$SG("#sg-snc-error").text(SGAPI.util.translate("Please try again.  There was a problem sending your email.")).fadeIn()},error:function(e){$SG("#sg-snc-error").text(SGAPI.util.translate("Please try again.  There was a problem sending your email.")).fadeIn()},dataType:"json"})})}},SGSurvey.prototype.go_first_error=function(){var e=$SG("div.sg-question-errorlist, div.sg-question-warninglist").filter(":visible").filter(":first");return this.interVirtualPage?void this.goMobilePage(e.closest(".sg-question")):void $SG.scrollTo(e,800)},/**
 * Records the results of a poll through JS injection
 */
SGSurvey.prototype.Vote=function(e){
// COOKIE CHECK....
var t=new Date;t.setTime(t.getTime()+864e5);var s=t.toGMTString();if(
//this will tell me if cookies are enabled... if cookies are disabled... do not let them vote
document.cookie="sg-check-"+this.surveyObject.id+"="+this.surveyObject.id+"; expires="+s+"; path=/",test_cookie=SGCookie("sg-check-"+this.surveyObject.id),!test_cookie)return void alert(SGAPI.util.translate("You must have cookies enabled to take this poll."));var i=$("#sg_FormFor"+this.surveyObject.id).serialize(),a=["//",e,"/s3/polljs/",this.surveyObject.id,"-",this.surveyObject.key,"?_vote=",escape(i)].join("");$.ajax({url:a,dataType:"jsonp"}),$SG("#sg_FormFor"+this.surveyObject.id).addClass("voted")},/**
 * Shows the results of a poll
 */
SGSurvey.prototype.ShowResults=function(e,t){var s=$SG("#sg_FormFor"+this.surveyObject.id).serialize(),i=["//",e,"/s3/polljs/",this.surveyObject.id,"-",this.surveyObject.key,"?language=",t,"&_showresults=",escape(s)].join("");$.ajax({url:i,dataType:"jsonp"}),$SG("#sg_FormFor"+this.surveyObject.id).addClass("voted")},/** little ditty for the 'none of the above' in checkboxes **/
SGSurvey.prototype.set_nota=function(e,t){$SG(e).find("input:checkbox").not(this).each(function(){this.id!=t.id&&($SG("#"+t.id).attr("checked")?($SG(this).removeAttr("checked").attr("disabled","disabled").closest("li").addClass("sg-disabled"),
//disable and clear other fields
$SG(e).find("input:text").each(function(){$SG(this).val("").attr("disabled","disabled").closest("li").addClass("sg-disabled")})):($SG(this).removeAttr("disabled").closest("li").removeClass("sg-disabled"),$SG(e).find("input:text").each(function(){$SG(this).removeAttr("disabled","disabled").closest("li").removeClass("sg-disabled")})))}),SGAPI.survey.checkQuestionDependents()},/** 
* This function initializes the events for a survey page based on the currently loaded object
* this includes:  
*		Show/Hide
*		Accessibility Helpers
*		Validation
*		On-Page Merge Codes
*		Calculations, etc. 
**/
SGSurvey.prototype.InitPage=function(e,t){var s=this;this.page_id=e,this.checkForwardOnly(),currency_glyph_global=this.surveyObject.currency_glyph;var i=(this.surveyObject.questions.length,[]),a={sgSurvey:this,surveyObject:this.surveyObject,pageId:this.page_id};
//setup page timer (doesn't init with other questions, could be from a previous page)
if(
// init sgapi survey class
SGAPI.survey.init(a),
// Setup dynamic logic and handlers for each question type
//for (var q in this.surveyObject.questions)	{
$.each(this.surveyObject.questions,function(e,a){
//quest = this.surveyObject.questions[q];
a&&!a.properties.disabled&&"PAGE_TIMER"!=a.type&&(s.InitializeQuestion(a,t),
// NEW CHECK
a.properties.stars||a.properties.stars_review?i.stars=1:a.properties.thumbs&&(i.thumbs=1))}),
// question inits for new survey class
i.stars?SGAPI.survey.initStarRanking():i.thumbs&&//added this for thumbs -- Matt Null
SGAPI.survey.initThumbsQuestion(),this.surveyObject.pageTimer){var r=this.surveyObject.pageTimerOpts,n=!1;$.each(this.surveyObject.pages,function(e,t){return n=t.haserrors,!1});var o={type:this.surveyObject.pageTimer,limit:r.limit,redirect:r.redirect_sku,autoSub:r.auto_submit,hideNext:r.hide_next,spanTime:this.surveyObject.pageTimerSpan,pageTime:this.surveyObject.pageTime,repeat:r.timer_repeat,requiredAction:r.required_action,error:n};new PageTimer(o)}
// set up display for show/hide triggers
SGAPI.survey.checkQuestionDependents(),"undefined"==typeof t?
//setTimeout("sgTimer(" + this.surveyObject.id + ")" , this.timer_pulse);
this.isEditor=!1:this.isEditor=!0;
// Matt Null added this bc this was breaking in polls (the class was not being included)
try{cal=Calendar.setup({fdow:0,onSelect:function(e){e.hide()}})}catch(l){}this.InitValidationHooks(),
// Setup survey interactions
this.interVirtualPage&&!$SG("body").hasClass("sg-mobile-offline")?// Virtual paging
this.buildMobilizer():this.interCollapsed?// Collapsed answer options
this.buildCollapsedInter():this.interBlurred&&// Blurred questions
this.buildBlurredInter()},
// Survey collapse interaction
SGSurvey.prototype.buildCollapsedInter=function(){var e=$SG(".sg-question-set"),t=e.children(".sg-question"),s="sg-collapse-open",i=function(){var e=$SG(this).closest(".sg-question.sg-type-group");
// Not a custom group
e.length||(e=$SG(this).closest(".sg-question")),e.next(".sg-question").addClass(s)};t.not(".sg-type-slider").on("change",":input",i),t.filter(".sg-type-slider").on("sgquestchange",":input",i),t.first().addClass(s)},
// Survey blur interaction
SGSurvey.prototype.buildBlurredInter=function(){var e=$SG(".sg-question-set"),t=".sg-type-group, .sg-type-slider",s=e.children(".sg-question"),i="sg-blur-focused",a=function(){var e=$SG(this).closest(".sg-question.sg-type-group");if(
// Not a custom group
e.length||(e=$SG(this).closest(".sg-question")),e.hasClass("sg-blur-focused")&&(!e.hasClass("sg-type-checkbox")||$SG(this).parent("li").hasClass("sg-last-li"))){
// Scroll to next question
var t=e.nextAll(".sg-question:visible").first();t.length&&$SG(".sg-body").scrollTo(t,{offset:{top:-50},duration:600})}};s.not(t).filter(":visible").on("change",":input",a),s.not(t).filter(":not(:visible)").on("showhidden",function(){}),s.filter(".sg-type-slider").on("sgquestchange",":input",a),s.on("scrollSpy:enter",function(){$SG(this).addClass(i)}).on("scrollSpy:exit",function(){$SG(this).removeClass(i)}).first().addClass(i),s.scrollSpy({offsetTop:50,offsetBottom:-50})},SGSurvey.prototype.buildMobilizer=function(){function e(){
// Wait for logic events to trigger first
setTimeout(function(){$(".sg-mobile-next").is(":visible")?o.goMobilePage():l&&"yes"==d||a.click()},200)}function t(){g.is(":visible")?o.goMobilePage(-1):r.click()}
// Thank you page or terminal page
if(this.interVirtualPage){var s=$SG(".sg-question-set"),i=s.children(".sg-question"),a=$SG("#sg_NextButton, #sg_SubmitButton"),r=$SG("#sg_BackButton"),n=$SG(".sg-button-bar"),o=this,l=this.surveyObject.pages["p"+this.surveyObject.currentpage].options.HasTimer,d=!1,c="-2"==this.surveyObject.page_direction;if($SG("body").hasClass("sg-mobile-offline"))var u=i[c?"last":"first"](":not(.sg-hide)").addClass("sg-page-shown");else var u=i.filter(":not(.sg-hide)")[c?"last":"first"]().addClass("sg-page-shown");
// only initialize the first question if we are not on the intro page of a kiosk mode survey
if($(".sg-error-message.sg-error-display:not(.mobile-error-msg)").length&&(//if server side validation error
u=$($SG(".sg-question-set").find(".sg-errors")[0]),u.length||(u=$($SG(".sg-question-set").find(".sg-warning")[0])),u.closest(".sg-group-item").length&&(//errors in groups
u=u.closest(".sg-type-group"))),this.adjustMobileTableRows(u),$("#kiosk-intro").length<1){this.mobileMoveInPage(u,!c);var p=$(".sg-body").height();(!$(".sg-question-set").height()||$(".sg-question-set").height()<p)&&p>0&&$(".sg-question-set").css("height",p)}
// Next button
var h=$SG('<input type="button" class="sg-button sg-next-button sg-mobile-next" value="▶"/>');($("body").hasClass("sg-ie8")||$("body").hasClass("sg-ie7")||$(".sg-body").hasClass("sg-js-embed")&&!this.mobileOptimized)&&(h=$SG('<input type="button" class="sg-button sg-next-button sg-mobile-next" value="▶"/>')),h=a.length?h.insertAfter(a):h.prependTo(n),h.click(function(){o.checkValidation()&&o.goMobilePage()}),a.click(function(e){if(!o.checkValidation()||!o.eventCanPage())return void e.preventDefault();var t=$SG(".sg-page-current");t.length&&o.mobileMoveOutPage(t,!0)}),r.click(function(){var e=$SG(".sg-page-current");e.length&&o.mobileMoveOutPage(e,!1)});
// Back button
var g=$SG('<input type="button" class="sg-button sg-back-button sg-mobile-back" value="◀"/>');($("body").hasClass("sg-ie8")||$("body").hasClass("sg-ie7")||$(".sg-body").hasClass("sg-js-embed")&&!this.mobileOptimized)&&(g=$SG('<input type="button" class="sg-button sg-back-button sg-mobile-back" value="◀"/>')),g=r.length?g.insertAfter(r):g.appendTo(n),g.click(function(){o.goMobilePage(-1)}),$SG(".sg-body").on("swipeleft",function(t){return $SG(t.target).closest(".sg-slider").length||$SG(t.target).closest(".sg-type-signature").length||$SG(t.target).closest(".sg-type-rank-dragdrop").length||$SG(t.target).closest(".sg-type-cardsort").length||$SG(t.target).closest(".sg-type-reaction").length?void 0:o.checkValidation()?void e():void t.preventDefault()}),$SG(".sg-body").on("swiperight",function(e){$SG(e.target).closest(".sg-slider").length||$SG(e.target).closest(".sg-type-signature").length||$SG(e.target).closest(".sg-type-rank-dragdrop").length||$SG(e.target).closest(".sg-type-cardsort").length||$SG(e.target).closest(".sg-type-reaction").length||t()}),
// Make radio buttons trigger next page
$SG(".sg-type-radio :radio, .sg-type-table-radio :radio, .sg-type-nps :radio, .sg-type-imageselect img.single-select, .sg-type-table-semantic :radio ").on("click.mobilizer",function(){var t=$(this).closest(".sg-question.sg-page-current"),s=$(this).closest("li");
// Don't move page if an other option is selected or the 
// question is not on the current page
// or if there is a comment
s.hasClass("sg-other-li")||!t.length||t.find("div.sg-comment").length||t.hasClass("sg-type-group")||e()}),
// Make single slider NA checkbox trigger next page
$SG(".sg-type-slider :checkbox").on("click.mobilizer",function(){var t=$(this).closest(".sg-question.sg-page-current");$(this).is(":checked")&&!t.hasClass("sg-type-group")&&t.length&&!t.find("div.sg-comment").length&&e()}),
// Make radio buttons trigger next page
$SG(".sg-type-menu select").on("change.mobilizer",function(){var t=$(this).closest(".sg-question.sg-page-current");"NoAnswer"==$(this).val()||"multiple"==$(this).attr("multiple")||t.find("div.sg-comment").length||t.hasClass("sg-type-group")||e()}),
//make the go button go
$SG('input[type="text"].sg-input,input[type="password"].sg-input,input[type="date"].sg-input,input[type="number"].sg-input,input[type="email"].sg-input').on("keydown",function(t){return 13==t.keyCode?($(this).hasClass("sg-autocomplete")||e(),t.preventDefault(),!1):void 0}),this.adjustMobilePageControls()}},SGSurvey.prototype.eventCanPage=function(e){var t=$.Event("Mobilizer.page"+(-1==e?"prev":"next"));return $("body").trigger(t,[$SG(".sg-page-current")]),!t.isDefaultPrevented()},SGSurvey.prototype.adjustMobilePageControls=function(){var e=$SG(".sg-page-current"),t=e.nextAll(".sg-question:visible").length,s=e.prevAll(".sg-question:visible").length,i=this.surveyObject.pages["p"+this.surveyObject.currentpage].options.HasTimer,a=!1,r=!1;
// Button visibility also depends on table rows
if(i&&(a=this.surveyObject.pageTimerOpts.hide_next,r=this.surveyObject.pageTime>=this.surveyObject.pageTimerOpts.limit),$(".sg-error-message.sg-error-display:not(.mobile-error-msg)").length&&(//if server side validation error
t=e.nextAll(".sg-question.sg-errors:visible").length||e.nextAll(".sg-question.sg-warning:visible").length,s=e.prevAll(".sg-question.sg-errors:visible").length||e.prevAll(".sg-question.sg-warning:visible").length),$SG("#sg_NextButton, #sg_SubmitButton, #sg_BackButton, .sg-mobile-next, .sg-mobile-back").hide(),e.hasClass("sg-type-table")&&!e.hasClass("sg-type-rank-table")){var n="sg-mobile-table-row-current",o=".sg-hide",l="."+n,d=$SG(".sg-table tbody tr",e).not(o),c=d.filter(l);t=t||d[d.index(c[0])+1],s=s||c.prevAll().length}
// button visibility also depends on conjoint sets
if(e.hasClass("sg-type-conjoint_new")){var n="sg-mobile-conjoint-set-current",u=$SG(".sg-conjoint-set",e),p=u.filter("."+n);t=t||u[u.index(p[0])+1],s=s||p.prevAll().length}else if(e.hasClass("sg-type-cardsort")&&e.find(".sg-mobile-ocs").length){var h=e.find(".js-drg-hdl:visible");t=t||h.next().length,s=s||h.prev().length}
// payment action: hide the next button for one at a time surveys if the action hasn't passed
$SG("body").hasClass("sg-int-virtual-page")&&$SG(".sg-type-payment").length&&($SG("#sg_NextButton").length||SG("#sg_SubmitButton").length||(t=!1)),t&&$SG(".sg-mobile-next").length>0?$SG(".sg-mobile-next").show():(!i||"yes"!=a||r||this.timerComplete)&&$SG("#sg_NextButton, #sg_SubmitButton").show(),s?$SG(".sg-mobile-back").show():$SG("#sg_BackButton").show(),
//adjust mobile snc and lang bars -- sam
$($(".sg-toolbar").height(30*$(".sg-toolbar").children().length+"px"))},SGSurvey.prototype.checkValidation=function(){var e=this,t=$SG(".sg-page-current").attr("id")&&1*$SG(".sg-page-current").attr("id").split("-")[3],s=this.surveyObject.questions[t],i="sgE-"+this.surveyObject.id+"-"+this.surveyObject.currentpage+"-"+t,a=$('[name="'+i+'"]'),r=a[0],n=!0,o=!1,l=this.surveyObject.pages["p"+this.surveyObject.currentpage].options.HasTimer;if(void 0==s||!$(i).is(":visible"))return!0;
//is it answered?
var d=s.type;"IMAGE_SELECT"==d&&"multi-select"==s.properties.image_select_type&&(d="CHECKBOX");var c=e.checkAnswered(d,i,s.properties);
//if answered, check if there is a required comment or other
if(
//check required
s.properties.required&&!c&&(n=!1,e.ShowWarning(this.messages.required),o=!0),
//check for required table rows
"TABLE"==d&&$("#"+i+"-box tbody tr:visible").hasClass("sg-required-row")&&(n=e.tableRowValidation(i,s.properties.table_type),n||o||(e.ShowWarning(this.messages.required),o=!0)),c){
//let's see if there is a required comment
var u=$SG(".sg-page-current").find("div.sg-comment");if(u.length&&u.hasClass("sg-required")&&""==u.find("textarea").val()&&(n=!1,o||(e.ShowWarning(this.messages.required),o=!0)),"RADIO"==d){
//do we have a required other?
var p=$("[name |= "+i+"]:checked").closest("li");if(p.hasClass("sg-other-li")&&p.find(".sg-input-text-other").hasClass("sg-other-required")){var h=p.find(".sg-input-text-other").val();""==h&&(n=!1,o||(e.ShowWarning(this.messages.required),o=!0))}}if("CHECKBOX"==d){
//do we have a required other?
var g=$("[name |= "+i+"]:checked").closest("li").find(".sg-input-text-other.sg-other-required");g.each(function(){""==$(this).val()&&(n=!1,o||(e.ShowWarning(e.messages.required),o=!0))})}if("CHECKBOX"==d&&s.properties.minimum_response&&s.properties.minimum_response>0){var v=0;$("[name |= "+i+"]:checked").each(function(){$(this).val().length&&v++}),v<s.properties.minimum_response&&(n=!1,error_msg=this.messages.minimum_response.replace(":min",s.properties.minimum_response).replace(":value",v),o||(e.ShowWarning(error_msg),o=!0))}}
//check textbox validation
if("TEXTBOX"==d){if("date"==s.properties.map_key&&(s.properties.mobile_min_date||s.properties.mobile_max_date)){var f=$(r).val().split("-"),m=new Date(f[0],f[1]-1,f[2]);if(""!=s.properties.mobile_min_date&&void 0!=s.properties.mobile_min_date){var b=s.properties.mobile_min_date.split("-"),S=new Date(b[0],b[1]-1,b[2]);S>m&&(n=!1,o||(e.ShowWarning(this.messages.invalid_min_date.replace(":min",s.properties.mobile_min_date)),o=!0))}if(""!=s.properties.mobile_max_date&&void 0!=s.properties.mobile_max_date){var y=s.properties.mobile_max_date.split("-"),G=new Date(y[0],y[1]-1,y[2]);m>G&&(n=!1,o||(e.ShowWarning(this.messages.invalid_max_date.replace(":max",s.properties.mobile_max_date)),o=!0))}}
//checkValidity is not supported by IE9 and below so we have some work to get around it.
$(".sg-body").hasClass("sg-ie7")||$(".sg-body").hasClass("sg-ie8")||$(".sg-body").hasClass("sg-ie9")||r.checkValidity()?$("#"+i+"-element").removeClass("sg-validation-error"):(n=!1,"date"!=s.properties.map_key&&o&&$("#"+i+"-element").addClass("sg-validation-error"),"email"==s.properties.map_key&&(o||(e.ShowWarning(this.messages.invalid_email.replace(":value",$(r).val())),o=!0)),"number"==s.properties.map_key&&(s.properties.only_positive_num?o||(e.ShowWarning(this.messages.must_be_positive_whole_number.replace(":value",$(r).val())),o=!0):s.properties.only_whole_num?o||(e.ShowWarning(this.messages.must_be_whole_number.replace(":value",$(r).val())),o=!0):o||(e.ShowWarning(this.messages.invalid_number.replace(":value",$(r).val())),o=!0)))}return a&&(a.trigger("blur"),($SG(".sg-page-current .sg-control-text").hasClass("sg-validation-fail")||a.hasClass("sg-validation-error"))&&"percent"==s.properties.map_key&&(n=!1,o||(e.ShowWarning(this.messages.invalid_percent.replace(":value",$(r).val())),o=!0))),n=l&&"IDENTIFY"!=d?!0:n},SGSurvey.prototype.checkAnswered=function(e,t,s){var i=this,a=!0;switch(e){case"IMAGE_SELECT":case"RADIO":case"NPS":var r="[name = "+t+"]";void 0==$(r+":checked").val()&&(a=!1);break;case"ESSAY":case"TEXTBOX":""==$("#"+t+"-element").val()&&(a=!1);break;case"MENU":"NoAnswer"==$("#"+t+"-element").val()&&(a=!1);break;case"SLIDER":case"MULTI_SLIDER":case"MULTI_TEXTBOX":case"CONT_SUM":case"CHECKBOX":case"RANK":("CHECKBOX"==e||"RANK"==e)&&(r="[name |= "+t+"]:checked"),("MULTI_TEXTBOX"==e||"CONT_SUM"==e||"rank-dragdrop"==s.map_key&&"true"!=this.surveyObject.ismobile)&&(r="[name |= "+t+"]:text"),("SLIDER"==e||"MULTI_SLIDER"==e)&&(r="#"+t+"-box .sg-slider-hidden-value :hidden");var n=[];$(r).each(function(){$(this).val().length&&n.push($(this).val())}),0===n.length&&(a=!1);break;case"TABLE":a=i.tableRowValidation(t,s.table_type),
//If minimum response on required table, only use backend validation
s.minimum_response>0&&(a=!0);break;case"FILE":0==$("#sg-file-desc-"+t).find("li:not(.sg-prototype-li)").length&&(a=!1);break;case"GROUP":$("#"+t+"-box").find(".sg-group-item .sg-question").each(function(){var e=1*$(this).attr("id").split("-")[3];if(!isNaN(e)){var t=i.surveyObject.questions[e],s="sgE-"+i.surveyObject.id+"-"+i.surveyObject.currentpage+"-"+e;$(s).is(":visible")&&(a=i.checkAnswered(t.type,s,t.properties))}});break;case"MATRIX":var n=[];$.each($(".sg-page-current").find(":radio:checked, :text, textarea"),function(){$(this).val().length&&n.push($(this).val())}),$(".sg-page-current .sg-mobile-table-row-current").hasClass("sg-last-row")&&0===n.length&&(a=!1);break;case"MAXDIFF":var n=[],o=0;$("#"+t+"-box").find(".sg-maxdiff-set:visible select").each(function(){$(this).val().length&&"NoAnswer"!=$(this).val()&&n.push($(this).val()),o++}),n.length!=o&&(a=!1)}return a},SGSurvey.prototype.tableRowValidation=function(e,t){if("SEMANTIC"==t&&this.mobileOptimized){var s=$SG("#"+e+"-box .sg-slider-row .sg-input-hidden");
// # answered > 0
return s.length-s.filter('[value=""]').length>0}var i;i="MENU"==t||"MENU_MATRIX"==t?"select":"MULTI_TEXTBOX"==t?"input:text":"TEXTBOX"==t?"input:text":"input:checked";var a=[];return $("#"+e+"-box tbody tr:visible "+i).each(function(){if("MENU_MATRIX"==t)$(this).val().length&&"NoAnswer"!=$(this).val()&&a.push($(this).val());else if("MENU"==t){if("NoAnswer"==$(this).val())return a=[],!1;a.push($(this).val())}else $(this).val().length&&a.push($(this).val())}),0===a.length?!1:!0},SGSurvey.prototype.ShowWarning=function(e){if($(".mobile-error-msg").length)$(".mobile-error-msg").html(e);else{var t='<div class="mobile-error-msg sg-error-message sg-error-display">'+e+"</div>";$(".sg-content").prepend(t)}$(".mobile-error-msg").slideDown(500,function(){setTimeout(function(){$(".mobile-error-msg").slideUp(500)},3e3)})},SGSurvey.prototype.adjustMobileTableRows=function(e,t){if(e=$SG(e),t=t||"first",e.hasClass("sg-type-table")&&!e.hasClass("sg-type-rank-table")){var s=$SG(".sg-table tbody tr:not(.sg-hide)",e),i="sg-mobile-table-row",a="sg-mobile-table-row-current";s.removeClass(a).addClass(i),s[t]().removeClass(i).addClass(a)}if(e.hasClass("sg-type-rank-table")&&(this.bindRankTable(e),this.bindClearRank(e)),e.hasClass("sg-type-conjoint_new")){var r=$SG(".sg-conjoint-set",e),i="sg-mobile-conjoint-set",a="sg-mobile-conjoint-set-current";r.removeClass(a).addClass(i),r[t]().removeClass(i).addClass(a)}},SGSurvey.prototype.bindRankTable=function(e){var t=1*e.attr("id").split("-")[3],s=this.surveyObject.questions[t];(void 0==this.rankIndex||null==this.rankIndex)&&(this.rankIndex=new Array),this.rankIndex[t]=parseInt($(".sg-rank-counter",e).val());var i=this,a=0;$.each(e.find("tbody tr"),function(r){var n=$(this);n.find("th input.sg-rank-trigger").off().on("change",function(){var o=n.find(".sg-rank-control-label"),l=$(this).closest("tr");$(this).is(":checked")?($(l).removeClass("sg-empty-row"),$(o[i.rankIndex[t]]).removeClass("hide"),$("#"+$(o[i.rankIndex[t]]).attr("for")).attr("checked",!0),i.rankIndex[t]++,i.rankIndex[t]==s.properties.xnumber&&$.each(e.find(".sg-empty-row"),function(){$(this).addClass("sg-rank-row-disabled"),$(this).find("input.sg-rank-trigger").attr("disabled","disabled")})):($(l).addClass("sg-empty-row"),$.each($(o),function(){var e=$(this).attr("for");$(this).addClass("hide"),$("#"+e).is(":checked")&&(a=parseInt($("#"+e).val())),$("#"+e).attr("checked",!1)}),a<i.rankIndex[t]&&$.each(e.find("tbody tr"),function(e){var t=$(this).find("td label").not(".hide"),s=$(this).find(".sg-rank-control-label");if(r!=e&&t.length>0&&parseInt($(t).data("rank_index")+1)>a){var i=parseInt($(t).data("rank_index"))-1;$(t).addClass("hide"),$(t).attr("checked",!1),$(s[i]).removeClass("hide"),$("#"+$(s[i]).attr("for")).attr("checked",!0)}}),i.rankIndex[t]--,$.each(e.find(".sg-empty-row"),function(){$(this).removeClass("sg-rank-row-disabled"),$(this).find("input.sg-rank-trigger").attr("disabled",!1)})),$(".sg-rank-counter",e).val(i.rankIndex[t])})})},SGSurvey.prototype.bindClearRank=function(e){var t=$(".sg-clear-rank",e);$(t).on("click",function(){$.each(e.find("tbody tr"),function(){$(this).find("input").is(":checked")&&($(this).find("input").attr("checked",!1),$(this).find("th input.sg-rank-trigger").trigger("change"))})})},SGSurvey.prototype.updateProgressBar=function(){var e=$SG(".sg-progress-bar-text"),t=$SG(".sg-progress-bar-inner"),s=e.text(),i=0;if(Object.keys)i=Object.keys(this.surveyObject.questions).length;else for(var a in this.surveyObject.questions)i++;void 0===this.actualProgress&&(this.actualProgress=parseInt(s.slice(0,-1))),
// Round to nearest 10th
this.actualProgress+=Math.round(this.surveyObject.minstep/i*10)/10,e.text(Math.floor(this.actualProgress)+"%"),t.css("width",this.actualProgress+"%")},SGSurvey.prototype.goMobileTableRow=function(e,t){function s(){c.prop("disabled",!1),u.adjustMobilePageControls(),$SG("body, html, .sg-outer-wrapper, .sg-wrapper, .sg-body").animate({scrollTop:0},100)}var i="sg-mobile-table-row",a="sg-mobile-table-row-current",r=".sg-hide",n="."+a,o=$SG(".sg-table tbody tr",e).not(r),l=o.filter(n),d=$(o[o.index(l[0])+(t?-1:1)]),c=$SG(".sg-mobile-next, .sg-mobile-back"),u=this;if(d.length){if(
// Found a row to show - not a new question
c.prop("disabled",!0),$.support.transition){var p=t?"Prev":"Next",h="sg-page-rotateSlideOut"+p,g="sg-page-rotateSlideIn"+p;l.addClass(h).one($.support.transition.end,function(){l.removeClass(a+" "+h).addClass(i)}).emulateTransitionEnd(1e3),d.addClass(g+" "+a).removeClass(i).one($.support.transition.end,function(){d.removeClass(g),s()}).emulateTransitionEnd(1e3)}else o.removeClass(a).addClass(i),d.removeClass(i).addClass(a),s();return t||d.hasClass("sg-row-shown")||$SG("body").hasClass("sg-mobile-offline")||this.updateProgressBar(),$(".sg-mobile-table-row-current").addClass("sg-row-shown"),!0}},SGSurvey.prototype.goConjointPage=function(e,t){function s(){l.prop("disabled",!1),t?$(".sg-back-button").first().trigger("nextconjoint"):$(".sg-next-button").first().trigger("nextconjoint"),d.adjustMobilePageControls(),$SG("body, html, .sg-outer-wrapper, .sg-wrapper, .sg-body").animate({scrollTop:0},100)}var i="sg-mobile-conjoint-set",a="sg-mobile-conjoint-set-current",r=$SG(".sg-conjoint-set",e),n=r.filter("."+a),o=$SG(r[r.index(n[0])+(t?-1:1)]),l=$SG(".sg-mobile-next, .sg-mobile-back"),d=this;if(o.length){if(
// Found a set to show - not a new question
l.prop("disabled",!0),$.support.transition){var c=t?"Prev":"Next",u="sg-page-rotateSlideOut"+c,p="sg-page-rotateSlideIn"+c;n.addClass(u).one($.support.transition.end,function(){n.removeClass(a+" "+u).addClass(i)}).emulateTransitionEnd(1e3),o.addClass(p+" "+a).removeClass(i).one($.support.transition.end,function(){o.removeClass(p),s()}).emulateTransitionEnd(1e3)}else r.removeClass(a).addClass(i),o.removeClass(i).addClass(a),s();return $(".sg-mobile-table-row-current").addClass("sg-row-shown"),!0}},SGSurvey.prototype.goCardSortPage=function(e,t){var s,i=e.find(".js-drg-hdl:visible"),a=e.find(".js-bck-ul");if(s=t?i.prev():i.next(),s.length){i.hide(),s.show();var r=s.find(".sg-input").val();return""==r?a.find(":radio").prop("checked",!1):a.find(":radio").filter(function(){return this.value==r}).prop("checked",!0),this.adjustMobilePageControls(),!0}},SGSurvey.prototype.goMobilePage=function(e){function t(){r.prop("disabled",!1),o.adjustMobilePageControls(),
//scroll to top
$SG("body, html, .sg-outer-wrapper, .sg-wrapper").animate({scrollTop:0},100)}var s="sg-page-current",i=$SG("."+s),a=-1==e,r=$SG(".sg-mobile-next, .sg-mobile-back");
// Check that prevent default was not called for paging
if(this.eventCanPage(a?-1:1)&&(!i.hasClass("sg-type-table")||i.hasClass("sg-type-rank-table")||e instanceof $SG||!this.goMobileTableRow(i,a))&&!(i.hasClass("sg-type-cardsort")&&i.find(".sg-mobile-ocs").length&&this.goCardSortPage(i,a))&&(!i.hasClass("sg-type-maxdiff")||e instanceof $SG||a||!i.find(".sg-maxdiff-set:visible").nextAll(".sg-maxdiff-set").length)&&(!i.hasClass("sg-type-conjoint_new")||e instanceof $SG||!this.goConjointPage(i,a))&&(e=e instanceof $SG&&e.length?e:
// if server side validation error
$(".sg-error-message.sg-error-display:not(.mobile-error-msg)").length?i[a?"prevAll":"nextAll"](".sg-question.sg-errors:visible,.sg-question.sg-warning:visible").first():i[a?"prevAll":"nextAll"](".sg-question:visible:first"),e.length&&!e.hasClass(s)))
// Current can't be the same as next
{
// Pre-adjust the table rows before showing it
this.adjustMobileTableRows(e,a?"last":"first");var n=i.nextAll(".sg-question").filter(e[0]).length>0,o=this;r.prop("disabled",!0),this.mobileMoveOutPage(i,n),this.mobileMoveInPage(e,n,t),
//need to flag seen pages
i.hasClass("sg-page-shown")||i.addClass("sg-page-shown"),a||e.hasClass("sg-page-shown")||$SG("body").hasClass("sg-mobile-offline")||this.updateProgressBar()}},SGSurvey.prototype.mobileMoveInPage=function(e,t,s){if(e.length){s=s||$.noop;var i="sg-page-rotateSlideIn"+(t?"Next":"Prev"),a="sg-page-current",r=this;$.support.transition?e.addClass(i+" "+a).one($.support.transition.end,function(){e.removeClass(i).addClass("sg-page-shown"),/*.css({
				position : ''
			});*/
r.adjustMobilePageControls(),s()}).emulateTransitionEnd(1e3):(e.addClass(a),this.adjustMobilePageControls(),s())}},SGSurvey.prototype.mobileMoveOutPage=function(e,t,s){
// This allows us to move through all the sets in a conjoint question... but its kind of janky
if(!e.hasClass("sg-type-conjoint_new")&&e.length){s=s||$.noop;var i="sg-page-rotateSlideOut"+(t?"Next":"Prev"),a="sg-page-current",r=this;$.support.transition?e.addClass(i).one($.support.transition.end,function(){e.removeClass(a+" "+i),
//.css('position', '');
r.adjustMobilePageControls(),s()}).emulateTransitionEnd(1e3):(e.removeClass(a),this.adjustMobilePageControls(),s())}},/** 
* 	Timer
* 	This function runs times events that check the stust of rules placed in the doLoop
**/
SGSurvey.prototype.Timer=function(){if(1!=this.isEditor)/* Setup dynamic logic and handlers on the page */
for(var e=0;e<this.doLoop.length;e++)this.doLoop[e].rule()},/**
* add a timer rule to the current survey object in js
*
**/
SGSurvey.prototype.add_rule=function(e){this.doLoop.push(e)},/**ported from global functions in old survey render 
* adds an error for an element id (question)
*
*/
SGSurvey.prototype.add_error=function(e,t,s){this.remove_error(e,t),"undefined"==typeof this.page_errors[e]&&(this.page_errors[e]=[]),this.page_errors[e].push([t,s]),"undefined"==typeof this.total_errors&&(this.total_errors=0),this.total_errors++},/**ported from global functions in old survey render 
* removes an error for an element id (question)
*
*/
SGSurvey.prototype.remove_error=function(e,t){"undefined"==typeof this.page_errors[e]&&(this.page_errors[e]=[]);for(var s=Array(),i=0;i<this.page_errors[e].length;i++)this.page_errors[e][i][0]!=t?s.push(this.page_errors[e][i]):this.total_errors--;this.page_errors[e]=s},/**
* ported.  Counts the number of errors for an element id (question)
**/
SGSurvey.prototype.error_count=function(e){return"undefined"==typeof this.page_errors[e]&&(this.page_errors[e]=[]),this.page_errors[e].length},/**ported from global functions in old survey render 
* updates the element error display
*
*/
// !update
SGSurvey.prototype.update_element_errors=function(e,t){var s=e.id,i=this.error_count(s),t=$SG("#"+$SG(e).attr("id")+"-message");if(t.attr("id")!==$SG(e).attr("id")+"-message"&&($SG(e).parent().append('<div id="'+$SG(e).attr("id")+'-message" class="sg-message" style="display:none;"></div>'),t=$SG("#"+$SG(e).attr("id")+"-message")),i>0){arr=this.page_errors[s]?this.page_errors[s]:[],t.html("");for(var a=0;a<arr.length;a++)""!=arr[a][1]&&$SG("<div></div>").text(arr[a][1]).appendTo(t);""!=t&&"undefined"!=typeof t&&(t.parent().removeClass("sg-validation-pass").addClass("sg-validation-fail"),t.show())}else""!=t&&"undefined"!=typeof t&&(t.html("").parent().removeClass("sg-validation-fail").addClass("sg-validation-pass"),t.hide())},/** 
 *
 * Forward Only Survey **/
SGSurvey.prototype.checkForwardOnly=function(){},/**
 * Get the value of a cookie with the given name.
 *
 * @example SGCookie('the_cookie');
 * @desc Get the value of a cookie.
 *
 * @param String name The name of the cookie.
 * @return The value of the cookie.
 * @type String
 */
SGCookie=function(e,t,s){if("undefined"==typeof t){// only name given, get cookie
var i=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),r=0;r<a.length;r++){var n=$SG.trim(a[r]);
// Does this cookie string begin with the name we want?
if(n.substring(0,e.length+1)==e+"="){i=decodeURIComponent(n.substring(e.length+1));break}}return i}// name and value given, set cookie
s=s||{},null===t&&(t="",s.expires=-1);var o="";if(s.expires&&("number"==typeof s.expires||s.expires.toUTCString)){var l;"number"==typeof s.expires?(l=new Date,l.setTime(l.getTime()+24*s.expires*60*60*1e3)):l=s.expires,o="; expires="+l.toUTCString()}
// CAUTION: Needed to parenthesize options.path and options.domain
// in the following expressions, otherwise they evaluate to undefined
// in the packed version for some reason...
var d=s.path?"; path="+s.path:"",c=s.domain?"; domain="+s.domain:"",u=s.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),o,d,c,u].join("")},/**
 * This function is responsible for returning the total of the continuous sum.
 * @author dehru -- modifications by Matt Null
 * @properties -- the question's properties
 * @return total
 * 
 */
SGSurvey.prototype.getContinuousSumTotal=function(e,t){t=t||null;var s=t.only_whole_num||null;
//Matt Null added this so avoid very long decimal places          
//Matt Null append appropriate symbol to the total
return stotal=0,$SG(e).parents(".sg-type-continuous-sum").find("input.sg-input-text").each(function(e,t,s){var i=$SG.trim(this.value.replace(/[^\-\.\d]/g,""));s?stotal+=isNaN(parseInt(i))?0:parseInt(i):stotal+=isNaN(parseFloat(i))?0:parseFloat(i)}),s||(stotal=stotal.toFixed(2)),1==t.force_currency?stotal=""+currency_glyph_global+stotal:1==t.force_percent&&(stotal+="%"),stotal},/**
 * This function is responsible for the display changes based on the continuous sum.
 * @author dehru
 * @param domElement element
 * @param float stotal
 * @param questionObject question
 */
SGSurvey.prototype.displayContinuousSum=function(e,t,s){e.html(t);var i=!1;t>s.properties.max_total&&s.properties.max_total&&(i=!0),s.properties.must_be_max&&t!=s.properties.max_total&&(i=!0),i?$SG(e).parent().addClass("sg_Counter_Error"):$SG(e).parent().removeClass("sg_Counter_Error")},/**
 * Used as callback method to onBlur, also supporting method for other number formatters
 */
SGSurvey.prototype.formatNumber=function(e,t,s){var i=$SG(e);
// sanitize input so we can process it
if(i.val().match(/,\d{2}$/))var a=i.val().replace(/[^\-\,\d]/g,"").replace(/\,/,":").replace(/\,/g,"").replace(/\:/,".");else var a=i.val().replace(/[^\-\.\d]/g,"").replace(/\./,":").replace(/\./g,"").replace(/\:/,".");
// what to do with waht we got
if(""==$SG.trim(i.val()))
// don't let only spaces get through
a="";else if(""==$SG.trim(a)||isNaN(Number(a)))
// flag as error
$SG(e).addClass("sg-validation-error"),a=i.val();else{
// go go go
var r="",n="",o=!1;if(
// do we have a negative number
a!=Math.abs(a)&&t.only_positive_num!==!0&&(o=!0),
// strip off modifier (we'll add it later if needed)
a=a.replace(/\-/g,""),
// round for "whole numbers only" validation
t.only_whole_num&&(a=Math.round(a)),
// accessorize the values
"percent"==s&&(n="%"),"currency"==s&&(r=currency_glyph_global,!t.only_whole_num)){a=Math.floor(100*a+.50000000001),cents=a%100,a=Math.floor(a/100).toString(),cents<10&&(cents="0"+cents);for(var l=0;l<Math.floor((a.length-(1+l))/3);l++)a=a.substring(0,a.length-(4*l+3))+","+a.substring(a.length-(4*l+3));a=a+"."+cents}$SG(e).removeClass("sg-validation-error"),a=(o?"-":"")+r+a+n}return a},/**
 * Used as callback method to onBlur
 */
SGSurvey.prototype.formatPercent=function(e,t){var s=this.formatNumber(e,t,"percent");return s},/**
 * Used as callback method to onBlur
 */
SGSurvey.prototype.formatCurrency=function(e,t){var s=this.formatNumber(e,t,"currency");return s},/** A Better way to hook validation functions to targets **/
SGSurvey.prototype.InitValidationHooks=function(){$SG(".sg-validation-date").each(function(e,t){var s="%m/%d/%Y";$(this).hasClass("sg-validation-date-eu")&&(s="%d/%m/%Y"),$(this).hasClass("sg-validation-date-yyyy")&&(s="%Y/%m/%d");var i=new String(t.id).replace("-element","Trigger");if(!$(".sg-body").hasClass("sg-mobile")){var a=$(this).data("mindate"),r=$(this).data("maxdate");cal=Calendar.setup({fdow:0,inputField:t.id,min:a,max:r}),
//avoids wierd scrolling issues when in builder by hiding it all together. - Sam
$("section").length>0&&($(window).scroll(function(){cal.hide()}),$("section").scroll(function(){cal.hide()})),cal.manageFields(i,t.id,s),
//trigger a change event on the textbox for page logic and custom scripting 
cal.addEventListener("onSelect",function(e){e.hide(),$("#"+t.id).trigger("change")})}}),/**
	 * autocomplete uses jquery.autocomplete.js library
	 * @author dehru
	 */
$SG(".sg-autocomplete").each(function(e,t){/** find question **/
var s=null,i=new String(t.id).split("-")[1],a=SGAPI.surveyData[i],r=new String(t.id).split("-")[3];for(var n in a.questions)if(a.questions[n].id==r){var o="#"+t.id;s=a.questions[n]}
//$SG(base).autocomplete("https://appv3.sgizmo.com/http/filesearch?file=" + question.properties.autocomplete.substring(1));
return null==s?!0:(s.properties.autocomplete.length>0&&"@"==s.properties.autocomplete.substring(0,1)?$SG(o).autocomplete("/s3/ajax_proxy.php?call=filesearch&file="+s.properties.autocomplete.substring(1)):s.properties.autocomplete.length>0&&s.properties.autocomplete.indexOf("\n")>0&&$SG(o).autocomplete(s.properties.autocomplete.split("\n")),void(s.properties.force_autocomplete&&s.properties.autocomplete.length>0&&$SG(this).blur(function(){var e=!1,t="";if("@"==s.properties.autocomplete.substring(0,1)){var i=this;$SG.ajax({url:"/s3/ajax_proxy.php?call=filesearch&file="+s.properties.autocomplete.substring(1)+"&q="+$SG(i).val(),success:function(s){t=s.split("\n");for(var a in t)if($SG(i).val()==$.trim(t[a])){e=!0;break}e||$SG(i).val("")}})}else{t=s.properties.autocomplete.split("\n");for(var a in t)if($.trim($SG(this).val())==$.trim(t[a])){e=!0;break}e||$SG(this).val("")}})))})},/**
* Uploads a file to the webserver via background iframe
*
*
**/
SGSurvey.prototype.UploadFile=function(e,t,s,i,a,r,n,o,l){var d="";if(SO=this,i=i||null,""!=$SG("#"+e+"-element").val()){
//Start spinner
$SG("#"+e+"-box .sg-file-feedback").fadeIn(function(){$SG(this).removeClass("sg-hide")}).addClass("sg-file-loader").html(SO.messages.uploading_file),d="true"==this.surveyObject.ispreview?"/projects/previewupload?input_name="+e+"&cid="+t+"&key="+s+"&uuid="+this.surveyObject.session:"/s3/file500/?input_name="+e+"&cid="+t+"&key="+s+"&uuid="+this.surveyObject.session+"&maxfilesize="+a+"&extentions="+r+"&error_filetype="+n+"&error_size="+o+"&error_nofile="+l;var c=!1;if($SG("."+e).each(function(){return""==$SG(this).val()?(c=!0,!1):void 0}),1==c){
//context
var u=this;$SG.ajaxFileUpload({url:d,secureuri:!1,fileElementId:e+"-element",dataType:"json",success:function(t,s){if(
//stop spinner gif
$SG("#"+e+"-box .sg-file-feedback").fadeOut().removeClass("sg-file-loader"),void 0!=t.error&&""!=t.error)u.UploadShowAlert(e,t.error);else if(""==t.success.file_name)u.UploadShowAlert(e,SO.messages.upload_error);else{null!=i&&$SG("#sg-file-desc-"+e+" ul").children("li").length>=parseInt(i)&&$SG("#"+e+"-element").parent("div").css("display","none"),SO.count_uploaded_files++,
//Add file name to hidden input
$SG("."+e).each(function(){return""==$SG(this).val()?($SG(this).val(t.success.file_name.replace(/\'|"/g,"")),!1):void 0}),
//Add li for new file
$SG("#sg-file-desc-"+e+" ul").children("li").length<2&&$SG("#sg-file-desc-"+e).removeClass("sg-hide");var a=$SG("#sg-file-desc-"+e+" .sg-prototype-li").clone().removeClass("sg-prototype-li");$SG(a).html($SG(a).html().replace("{{filename}}",t.success.name)),$SG(a).find("a").attr("rel",t.success.file_name),$SG("#sg-file-desc-"+e+" ul").append(a),$SG("#"+e+"-element").val("");t.success.file_name;
//Matt Null -- attach delete button event and do the delete
$SG(a).find(".sg-file-delete").click(function(){u.deleteUploadedFile(t,e,this)})}},error:function(t,s,i){var a=$SG.parseJSON(t.responseText);"error"==s&&"filetype"==a.error?u.UploadShowAlert(e,SGAPI.util.translate(SO.messages.invalid_file_type)):"error"==s&&"filesize"==a.error?u.UploadShowAlert(e,SGAPI.util.translate(SO.messages.invalid_file_size)):u.UploadShowAlert(e,SGAPI.util.translate(SO.messages.upload_error))}})}else $SG("#"+e+"-element").val(""),this.UploadShowAlert(e,SO.messages.no_more_files)}else this.UploadShowAlert(e,SO.messages.no_file_specified)},SGSurvey.prototype.SetupFileUpload=function(e,t,s,i,a,r,n,o,l,d){var c,u=function(){return $SG("#"+e+"-element")},p=$SG("#sg-file-desc-"+e),
// $button = $input().parent().siblings('.sg-upload-btn'),
h=u().parent().siblings(".sg-browse-text"),g=$SG("#"+e+"-box .sg-file-feedback"),v=this,f="/s3/file500/?";"true"==$(".configurator").first().val()&&(f="/configurator/upload-files/?");var m=f+$.param({input_name:e,cid:t,key:s,uuid:this.surveyObject.session,maxfilesize:a,extentions:r,error_filetype:n,error_size:o,error_nofile:l,crypt:d,file_session_download:this.surveyObject.options.file_session_download});"true"==this.surveyObject.ispreview&&(m="/projects/previewupload?"+$.param({input_name:e,cid:t,key:s,uuid:this.surveyObject.session})),u().fileupload({
// forceIframeTransport: true,
url:m,dataType:"json",autoUpload:!0,maxFileSize:a,start:function(){
// Start spinner
g.fadeIn(function(){$SG(this).removeClass("sg-hide")}).addClass("sg-file-loader").html(v.messages.uploading_file)},success:function(t,s){if(
// Stop spinner
g.removeClass("sg-file-loader").hide(),void 0!=t.error&&""!=t.error)v.UploadShowAlert(e,t.error);else if(""==t.success.file_name)v.UploadShowAlert(e,v.messages.upload_error);else{null!=i&&$SG("ul",p).children("li").length>=parseInt(i)&&u().closest("div").hide(),v.count_uploaded_files++,
// Add file name to hidden input
$SG("."+e).each(function(){return""==$SG(this).val()?($SG(this).val(t.success.file_name.replace(/\'|"/g,"")),!1):void 0}),
// Add li for new file
$SG("ul",p).children("li").length<2&&p.removeClass("sg-hide");var a=$SG(".sg-prototype-li",p).clone().removeClass("sg-prototype-li");$SG(a).html($SG(a).html().replace("{{filename}}",t.success.name)),$SG(a).find("a").attr("rel",t.success.file_name),$SG("ul",p).append(a),u().val(""),$SG(a).find(".sg-file-delete").click(function(){v.deleteUploadedFile(t,e,this)})}},error:function(){v.UploadShowAlert(e,v.messages.upload_error)}}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled"),u().bind("fileuploadadd",function(e,t){h.text(t.files[0].name),c=t})},
//Matt Null -- deletes and uploaded file
SGSurvey.prototype.deleteUploadedFile=function(e,t,s){e=e||{};var i=e.success.file_name,a=this;s=s.target?s.target:s.srcElement?s.srcElement:s,$SG.ajax({url:"/s3/delete_file.php",data:{file:i,cid:a.surveyObject.customer_id,sid:a.surveyObject.id},type:"POST",beforeSend:function(){a.UploadShowAlert(t,"Deleting...")},success:function(){$SG(s).parent("li").remove(),1==$SG("#sg-file-desc-"+t).find("li").length&&$SG("#sg-file-desc-"+t).addClass("sg-hide"),$SG("."+t).each(function(){return $SG(this).val()==i?($SG(this).val(""),!1):void 0})}});var r=$SG("#"+t+"-element").closest("div");r.show(),$SG(".sg-browse-text",r).text(""),this.count_uploaded_files--},SGSurvey.prototype.UploadShowAlert=function(e,t){$SG("#"+e+"-box .sg-file-feedback").removeClass("sg-file-loader").fadeIn(function(){$SG(this).removeClass("sg-hide")}).addClass("sg-file-alert").html(t),setTimeout(function(){$SG("#"+e+"-box .sg-file-feedback").fadeOut(2e3).removeClass("sg-file-alert")},3e3)},/** 
* Function:  InitializeQuestion 
* sets up the question with the appropriate click handlers etc.  This does a lot of setting up, so it's probably
* going to be one that gets checked/used a lot 
* @param Object question
**/
SGSurvey.prototype.InitializeQuestion=function(e,t){/**
	 * Calculates the elapsed time (ms) before answering 
	 * a question
	 * @return void
	 */
function s(){if(!a){a=!0;var e=new Date,t=$SG(r+"-time");t.val()||(t.val((e.getTime()-i.lastChangeTime.getTime())/1e3),i.lastChangeTime=e)}}var i=this;
//skip over questions that do not exist.
if("undefined"==typeof e)return!1;var a,r="#sgE-"+this.surveyObject.id+"-"+this.page_id+"-"+e.id;$SG(r+"-box").on("change",":input",s),
// to fake a one-input vs. options... one input calls its id -element, many options have -sku
// pFred- what??
"undefined"==typeof e.options&&"MENU"!=e.type&&(e.options={0:{id:"element"}}),void 0!=e.properties.complicated_logic_rule&&void 0!=e.properties.complicated_logic_rule_triggers&&SGAPI.survey.initLogic(e,e.properties.complicated_logic_rule,e.properties.complicated_logic_rule_triggers),
// hide all after? really this should be taken care of server-side, so nothing gets shown-hidden -- jarring
(1==e.properties.hide_all_after_until_value||1==e.properties.has_showhide_deps)&&SGAPI.survey.initShowHideTriggers(e);for(var n in e.options)optId=r+"-"+e.options[n].id,
// add listeners for radios and checkboxes
("CHECKBOX"==e.type||"RADIO"==e.type)&&(
//CLICKING OTHER TEXTBOXES TRIGGERING CHECKED ON OPTION HERE! I FOUND IT!  LOOK AT ME!
optEl=$(optId),$(optId+"-other").bind("click",{el:optEl},function(e){e.data.el.prop("checked",!0),e.data.el.trigger("change")}));/** hide after response **/
if(1==e.properties.hide_after_response)for(n in e.options){var o=r+"-"+e.options[n].id;u=this,$otherBox=$SG(o).parent().children(".sg-other"),$otherInput=$otherBox.children("input");var l=$otherBox.length>0;l?($SG(o).on("blur",function(){""!=$(this).parent().children(".sg-other").children("input").val()&&($SG(this).closest(".sg-question").addClass("washidden"),$SG(this).closest(".sg-question").hide())}),$otherInput.blur(function(){""!=$(this).val()&&($SG(this).closest(".sg-question").addClass("washidden"),$SG(this).closest(".sg-question").hide())})):$SG(o).on("click",function(){$SG(this).closest(".sg-question").addClass("washidden"),$SG(this).closest(".sg-question").hide()})}/** title case **/
if(e.properties.title_case)if("CHECKBOX"==e.type||"RADIO"==e.type){for(n in e.options)if(e.options[n].properties&&e.options[n].properties.other){var d="#sgE-"+this.surveyObject.id+"-"+this.page_id+"-"+e.id+"-"+e.options[n].id,c=d+"-other";$SG(c).blur(function(e){"undefined"==typeof e&&(e=window.event);var t=(sgGetEventTarget(e),$SG(this).val().split(" ")),s=[];for(w in t){if("string"!=typeof t[w])break;var i=t[w].split("");i.length&&""!=t[w]?(t[w]=i.join(""),s[w]=t[w].replace(/^(\s*)(.)/,"$1"+i[0].toUpperCase()),i.shift(),i.length&&(s[w]=s[w].replace(/^(\s*)(.)(.*)/,"$1$2"+i.join("").toLowerCase())))://accounts for \s+
s[w]=""}$SG(this).val(s.join(" "))})}}else for(n in e.options){var o=r+"-"+e.options[n].id,u=this;$SG(o).blur(function(e){"undefined"==typeof e&&(e=window.event);var t=(sgGetEventTarget(e),$SG(this).val().split(" ")),s=[];for(w in t){if("string"!=typeof t[w])break;var i=t[w].split("");i.length&&""!=t[w]?(t[w]=i.join(""),s[w]=t[w].replace(/^(\s*)(.)/,"$1"+i[0].toUpperCase()),i.shift(),i.length&&(s[w]=s[w].replace(/^(\s*)(.)(.*)/,"$1$2"+i.join("").toLowerCase())))://accounts for \s+
s[w]=""}$SG(this).val(s.join(" "))})}/** auto format numeric, percent, or currency **/
if(e.properties.force_numeric||e.properties.force_percent||e.properties.force_currency)if("CHECKBOX"==e.type||"RADIO"==e.type){for(n in e.options)if(e.options[n].properties&&e.options[n].properties.other){var d="#sgE-"+this.surveyObject.id+"-"+this.page_id+"-"+e.id+"-"+e.options[n].id,c=d+"-other";$SG(c).blur(function(t){"undefined"==typeof t&&(t=window.event);var s=sgGetEventTarget(t);if(e.properties.force_percent)var i=u.formatPercent(s,e.properties);else if(e.properties.force_numeric)var i=u.formatNumber(s,e.properties);else if(e.properties.force_currency)var i=u.formatCurrency(s,e.properties);$SG(s).val(i)})}}else{var u=this;for(n in e.options){var o=r+"-"+e.options[n].id;$SG(o).blur(function(t){t="undefined"==typeof t?window.event:t;var s=sgGetEventTarget(t);if(e.properties.force_percent)var i=u.formatPercent(s,e.properties);else if(e.properties.force_numeric)var i=u.formatNumber(s,e.properties);else if(e.properties.force_currency)var i=u.formatCurrency(s,e.properties);$SG(s).val(i)})}}/* input mask */
if(e.properties.inputmask)if("CHECKBOX"==e.type||"RADIO"==e.type){for(n in e.options)if(e.options[n].properties&&e.options[n].properties.other){var d="#sgE-"+this.surveyObject.id+"-"+this.page_id+"-"+e.id+"-"+e.options[n].id,c=d+"-other",h=e.properties.inputmask.MASK,g="";e.properties.messages&&e.properties.messages.inputmask&&(g=e.properties.messages.inputmask[this.language]||"");var u=this;$SG(c).blur(function(e){"undefined"==typeof e&&(e=window.event);var t=sgGetEventTarget(e);""==t.value||t.value.match(new RegExp(h))?u.remove_error(t.id,"inputmask"):u.add_error(t.id,"inputmask",g),u.update_element_errors(t,$SG(r+"-msg"))})}}else for(n in e.options){var o=r+"-"+e.options[n].id,h=e.properties.inputmask.MASK,g="";e.properties.messages&&e.properties.messages.inputmask&&(g=e.properties.messages.inputmask[this.language]||"");var u=this;$SG(o).blur(function(e){"undefined"==typeof e&&(e=window.event);var t=sgGetEventTarget(e);""==t.value||t.value.match(new RegExp(h))?u.remove_error(t.id,"inputmask"):u.add_error(t.id,"inputmask",g),u.update_element_errors(t,$SG(r+"-msg"))})}/* min number */
// !min
if(e.properties.min_number)for(n in e.options){var o=r+"-"+e.options[n].id,u=this,v=e.properties.min_number;e.properties.force_percent&&(v=e.properties.min_number+"%"),e.properties.force_currency&&(v=""+currency_glyph_global+e.properties.min_number),$SG(o).blur(function(t){"undefined"==typeof t&&(t=window.event);var s=sgGetEventTarget(t);if(parseFloat(s.value.replace(/,/g,"").replace(/\$/g,"").replace(/%/g,""))<parseFloat(e.properties.min_number)&&""!=s.value){var i=u.messages.min_number;i.indexOf(":min")>-1&&(i=i.replace(":min",v)),i.indexOf(":value")>-1&&(i=i.replace(":value",s.value)),1==u.surveyObject.rtl&&$("#"+s.id+"-message").attr("dir","ltr"),u.add_error(s.id,"minnumber",i)}else u.remove_error(s.id,"minnumber");u.update_element_errors(s,$SG(r+"-msg")),1==u.surveyObject.rtl&&$("#"+s.id+"-message").attr("dir","ltr")})}/* max number */
// !max
if(e.properties.max_number)for(n in e.options){var o=r+"-"+e.options[n].id,u=this,f=e.properties.max_number;e.properties.force_percent&&(f=e.properties.max_number+"%"),e.properties.force_currency&&(f=""+currency_glyph_global+e.properties.max_number),$SG(o).blur(function(t){"undefined"==typeof t&&(t=window.event);var s=sgGetEventTarget(t);if(parseFloat(s.value.replace(/,/g,"").replace(/\$/g,"").replace(/%/g,""))>parseFloat(e.properties.max_number)&&""!=s.value){var i=u.messages.max_number;
//uses messages array and expects to replace ":min" and ":value"
i.indexOf(":max")>-1&&(i=i.replace(":max",f)),i.indexOf(":value")>-1&&(i=i.replace(":value",s.value)),u.add_error(s.id,"maxnumber",i)}else u.remove_error(s.id,"maxnumber");u.update_element_errors(s,$SG(r+"-msg")),1==u.surveyObject.rtl&&$("#"+s.id+"-message").attr("dir","ltr")})}if(
// Pete G - not sure what xnumber was supposed to do but it was always returning undefined - if(question.properties.xnumber && question.type == 'CHECKBOX')
// xnumber is the number of rows for a table -Seth
"CHECKBOX"==e.type&&("table-checkbox"==e.properties.map_key?$.each(e.options,function(e,t){return"na"==$(r+"-"+e).data("special")&&$(r+"-"+e).prop("checked")?void $(r+"-"+e).closest("tr").find(":checkbox").not(r+"-"+e).attr("disabled","disabled"):void 0}):$SG(r+"-box :checked").length>0&&$SG(r+"-box :checked").each(function(){$(this).hasClass("na")&&$(this).closest(r+"-box").find(":checkbox").not(this).attr("disabled","disabled")}),$(r+"-box .sg-input-checkbox").change(function(){$SG(r+"-box :checked").length>0&&$SG(r+"-box :checked").length>=e.properties.xnumber?$SG(r+"-box :checkbox").each(function(){if($(this).prop("checked")){if($SG(this).siblings(".sg-other").length)var e=$(this).siblings(".sg-input-text-other");e&&e.removeProp("disabled")}else $(this).prop("disabled","disabled"),$(this).siblings().find(".sg-input-text-other").prop("disabled","disabled")}):($SG(r+"-box :checkbox").each(function(){$SG(this).prop("disabled",!1)}),$SG(r+"-box .sg-input-text-other").removeProp("disabled"))}),$(r+"-box .sg-input-checkbox").trigger("change"),
//this is for a table of checkboxes
$SG("input[id^='"+r.substring(1)+"-']").click(function(){if("table-checkbox"==e.properties.map_key){if($SG(this).hasClass("na")&&$SG(this).is(":checked"))return void $SG("input[id^='"+r.substring(1)+"-']").not(this).each(function(){$SG(this).removeAttr("checked"),$SG(this).attr("disabled","disabled")});$SG(this).parent().siblings().children("input[id^='"+r.substring(1)+"']").each(function(){this.removeAttribute("disabled")})}})),"SLIDER"==e.type){var m=$SG(r+"-box .slider-setup").val();if(m){m=JSON.parse(m);try{slider(m.id,m.orientation,m.min,m.max,m.stepval,m.startval,m.single,m.showval,m.flipped,m.sliderval)}catch(b){window.console&&console.log("error initializing slider: "+b.message)}}}if("MULTI_SLIDER"==e.type)for(var S in e.options){var m=$SG(".slider-sgE-"+this.surveyObject.id+"-"+this.page_id+"-"+e.id+"-"+S).closest(".sg-slider-container").siblings(".slider-setup").val();if(m){m=JSON.parse(m);try{slider(m.id,m.orientation,m.min,m.max,m.stepval,m.startval,m.single,m.showval,m.flipped,m.sliderval)}catch(b){window.console&&console.log("error initializing slider: "+b.message)}}}if("REACTION"==e.type&&!$("body").hasClass("safari-mobile")){"undefined"==typeof window.reactions&&(window.reactions={});var y={question:e,surveyid:this.surveyObject.id,page:this.page_id};window.reactions["question-"+e.id]=new Reaction(y).init()}/** image select **/
if("DATE"==e.properties.subtype,/*signiture*/
"SIGNATURE"==e.type&&this.initSignature(r),/*text highlighter*/
"TEXTHIGHLIGHTER"==e.type&&new this.texthighlighter(r,!1,e.properties),/*heatmap*/
"HEATMAP"==e.type&&new this.heatmap(r,!1,e.properties),"IMAGE_SELECT"==e.type&&e.properties.image_select_type){tot_images=0;for(var G in e.options)tot_images++;var _=e.properties.image_select_type,u=this,k=$SG(".sg-question-options").width();for(var n in e.options){var C=r+"-box",x=r+"-"+n,j=x+"-image",q=x+"-handle .sg-image-box",I=x+"-icon",O=$SG(j).width();
//make sure the state of the input is correct
$SG(x).is(":checked")&&($SG(q).parent(".sg-imageselect-item").addClass("sg-image-selected"),$SG(I+" span").text("Selected"),$SG(x).attr("checked","checked")),
// set appropriate image width to the max available if it is more than that
O>k&&(O=k),
// if we have no preconcieved inline styles, apply the computed image_width as a min-width
$SG(j).closest(".sg-imageselect-item").attr("style")||$SG(j).closest(".sg-imageselect-item").css("min-width",O),
//This is a fix for offline, unbinds to that multiple responses work
$SG(q).unbind("click"),
//click added to radio only b/c a click on the label will call the click on the button
$SG(q).click(function(e){e.preventDefault(),"single-select"==_&&($SG(C+" .sg-image-box").each(function(){$SG(this).parent(".sg-imageselect-item").removeClass("sg-image-selected"),$SG(this).find(I+" span").text("Not Selected"),$SG(this).find("input").removeAttr("checked").change()}),$SG(this).parent(".sg-imageselect-item").addClass("sg-image-selected"),$SG(this).find(I+" span").text("Selected"),$SG(this).find("input").attr("checked","checked").change()),("multi-select"==_||"multiple-select"==_)&&($SG(this).find("input").is(":not(:checked)")?($SG(this).parent(".sg-imageselect-item").addClass("sg-image-selected"),$SG(this).find(I+" span").text("Selected"),$SG(this).find("input").attr("checked","checked").change()):($SG(this).parent(".sg-imageselect-item").removeClass("sg-image-selected"),$SG(this).find(I+" span").text("Not Selected"),$SG(this).find("input").removeAttr("checked").change()))})}}/*** ranking, new way ***/
if("RANK"==e.type)
// Table-based Ranking
if("TABLE"==e.properties.display_type||"true"==this.surveyObject.ismobile&&e.properties.force_ranking)$(r+"-container").find("input").each(function(){$(this).click(function(){if(this.checked){var t=$(this).attr("value")||"";for(subOpt in e.options){var s=$(r+"-"+e.options[subOpt].id+"-"+t);this.id!=s.attr("id")&&s.prop("checked",!1)}}})}),$SG(r+"-container").hasClass("sg-rank-table")&&$SG("body").hasClass("sg-mobile-optimized")&&!$SG("body").hasClass("sg-int-virtual-page")&&(
//this will set up drag and drop ranking when using the standard mobile view
this.bindRankTable($SG(r+"-container")),this.bindClearRank($SG(r+"-container")));else if("SORT"==e.properties.display_type)
//Sortable Ranking
// the following selector (.sg-rank-sortbox ul) is used because of the way polls are rendered in the editor
// this selector is okay to use because there will always be one question in the editor
"undefined"==typeof t?$SG(".sg-rank-sortbox ul").sortable({stop:function(e,t){var s=$SG(r+"-sortbox").sortable("toArray");for(p in s){var i=parseInt(p)+1;1==i?$SG("#"+s[p]).addClass("sg-first-li"):$SG("#"+s[p]).removeClass("sg-first-li"),"undefined"!=typeof s[p]&&s[p].replace&&($SG("#"+s[p].replace(/-handle$/,"")).val(i),$SG("#"+s[p].replace(/-handle$/,"-number")).html(i+".&nbsp;"))}}})://this is done only for styling purposes
$SG(".sg-rank-sortbox ul").addClass("ui-sortable");else{
// Drag-Drop Ranking
if("undefined"==typeof t){var T=$SG(r+"-origin, "+r+"-target");T.sortable({connectWith:r+"-origin, "+r+"-target",placeholder:"sg-sortable-placeholder",receive:function(t,s,i){if(this.id.match(/-origin$/))return!0;if("undefined"==typeof e.properties.xnumber)return!0;if(e.properties.xnumber<1)return!0;"undefined"==typeof i&&(i=this);var a=$SG(i).sortable("toArray").length-1;a>=e.properties.xnumber+1&&$SG(s.sender).sortable("cancel")},stop:function(e,t){var s=$SG(r+"-target").sortable("toArray"),i=$SG(r+"-origin").sortable("toArray");$.each(s,function(e,t){var s=parseInt(e)+1;1==s?$SG("#"+t).addClass("sg-first-li"):$SG("#"+t).removeClass("sg-first-li"),"undefined"!=typeof t&&t.replace&&($SG("#"+t.replace(/-handle$/,"")).val(s),$SG("#"+t.replace(/-handle$/,"-number")).html(s+".&nbsp;"))}),$.each(i,function(e,t){var s=parseInt(e)+1;1==s?$SG("#"+t).addClass("sg-first-li"):$SG("#"+t).removeClass("sg-first-li"),"undefined"!=typeof t&&t.replace&&($SG("#"+t.replace(/-handle$/,"")).val(""),$SG("#"+t.replace(/-handle$/,"-number")).html(""))}),$SG(r+"-target li").length<2?$SG(r+"-target").closest("div").addClass("sg-rank-target-empty"):$SG(r+"-target").closest("div").removeClass("sg-rank-target-empty")}});
// Store first state of sortables
var A=["id","name"];T.each(function(){for(var e=$SG(this).parent().siblings(".sg-sort-default"),t=0;t<A.length;t++)$SG("["+A[t]+"]",e).each(function(){$(this).attr("data-"+A[t],$(this).attr(A[t])).attr(A[t],"")})})}
//adjust height of receiver and lock height of origin (div height times number of divs)
var E=($SG("body").hasClass("sg-mobile-offline"),!0);if("undefined"==typeof adjusted_drag_drops?(adjusted_drag_drops=new Array,adjusted_drag_drops.push(r)):-1!=adjusted_drag_drops.indexOf(r)?E=!1:adjusted_drag_drops.push(r),E){var P=$SG(r+"-origin").outerHeight(!0),D=$SG(r+"-target").outerHeight(!0);P+=D;
//Calculate a min height because js-embeds were experiencing display issues
var M=0;/** cv: 9/28/2010 This block deal with ranking dimentions when the !$#@ question is hidden by show hide **/
if($SG(r+"-origin").children("li").each(function(){M+=$(this).height()+21}),P>0&&M>P&&(P=M),0==P){var N=$SG(document.createElement("DIV"));N.addClass("sg-rank-dragdrop"),N.html($SG(r+"-origin").parent().html()),N.css({visibility:"hidden",width:"180px",display:"block",position:"absolute"}),N.appendTo($SG("body"));var P=N.outerHeight(!0);N.remove();var N=$SG(document.createElement("DIV"));N.addClass("sg-rank-dragdrop"),N.html($SG(r+"-base").parent().html()),N.css({visibility:"hidden",width:"180px",display:"block",position:"absolute"}),N.appendTo($SG("body")),P+=N.outerHeight(!0),N.remove()}/** end show hide fix **/
$SG(r+"-target").height(P),$SG(r+"-origin").height(P)}$SG(r+"-target li").length<2?$SG(r+"-target").closest("div").addClass("sg-rank-target-empty"):$SG(r+"-target").closest("div").removeClass("sg-rank-target-empty"),$SG(r+"-box").hasClass("sg-type-rank-table")&&$SG("body").hasClass("sg-mobile-optimized")&&!$SG("body").hasClass("sg-int-virtual-page")&&(
//this will set up drag and drop ranking when using the standard mobile view
this.bindRankTable($SG(r+"-box")),this.bindClearRank($SG(r+"-box")))}/*continuous sum*/
if("CONT_SUM"==e.type){
//for(p in question.properties) alert(p+': '+question.properties[p]);
u=this;var H=!1,U=!1;for(n in e.options){var R=r+"-"+e.options[n].id;$SG(R).prop("disabled")===!1&&$SG(R).val().length>0&&(H=!0,//we should display the sum.
U=R);var u=this;$SG(R).blur(function(t){
//this in context here is the textbox element.
"undefined"==typeof t&&(t=window.event);var s=sgGetEventTarget(t),i=s.id.replace(/-\w+$/,""),a=$SG("#"+i+"-counter"),r=u.getContinuousSumTotal(this,e.properties);u.displayContinuousSum(a,r,e)})}
//do the initial display here.
if(H&&U){var B=$SG(r+"-counter"),L=this.getContinuousSumTotal(U,e.properties);this.displayContinuousSum(B,L,e)}}/* Tie other options to the radio buttons */
if(e.options&&"CONT_SUM"!=e.type){u=this;for(n in e.options)/* Add advanced features to the 'Other' textbox */
if(e.options[n].properties){if(e.options[n].properties.other&&"sg-table"!=e.properties.cssclass)//properties.other might be right
{var d="#sgE-"+this.surveyObject.id+"-"+this.page_id+"-"+e.id+"-"+e.options[n].id,c=d+"-other";$SG(d).bind("click",{other:c},function(e){$SG(this).prop("checked")&&($SG(e.data.other).focus(),
// Virtual paging - scroll to other text input
u.interVirtualPage&&$SG(".sg-wrapper").scrollTo($SG(e.data.other),{duration:100,offset:{top:-35}}))})}/*add the js on the 'none of the above' and 'not applicable' checkboxes*/
(e.options[n].properties.none||e.options[n].properties.na)&&($SG(r+"-"+e.options[n].id).change(function(){u.set_nota(r+"-box",$SG(this)[0])}),/* Now, set proper checks when going forward or back in the survey */
$SG(r+("-"+e.options[n].id)).length>0&&$SG(r+"-"+e.options[n].id)[0].checked&&u.set_nota(r+"-box",$SG(r+"-"+e.options[n].id)[0])),
// add the js on the 'all of the above' checkbox
e.options[n].properties.all&&$(r+"-"+e.options[n].id).bind("click",SGAPI.survey.setAllOfAbove)}}/* Does this question have Max Words? */
if(e.properties.max_words>0){var Q=r.replace("#",""),z=this.messages.max_words.replace(":max",e.properties.max_words).replace(":value",'<span id="'+Q+'-maxwords">0</span>');$(r+"-element").after('<div class="sg-max-words">'+z+"</div>");for(n in e.options){var o=r+"-"+e.options[n].id,V=r+"-maxwords";$SG(V).html($SG(o).val().length>0?$SG(o).val().match(/\S+/g).length:0),$SG(o).on("keyup paste",function(){
// this timeout is a gross little hack so we can validate pasted content as well
setTimeout(function(){var t=$SG(o).val();if(
//replace multiple spaces with just one
t=t.replace(/[ ]+/g," ")){var s=$.trim(t).match(/\S+/g).length>0?$.trim(t).match(/\S+/g).length:0;s>parseInt(e.properties.max_words)?$SG(o).parents("div.sg-question-options").first().addClass("sg-validation-error"):$SG(o).parents("div.sg-question-options").first().removeClass("sg-validation-error")}else s=0;$SG(V).html(s)},10)})}}/* Does this question have Max characters? */
if(e.properties.max_characters>0){var Q=r.replace("#",""),X=this.messages.max_characters.replace(":max",e.properties.max_characters).replace(":value",'<span id="'+Q+'-maxcharacters">0</span>');$(r+"-element").after('<div class="sg-max-characters">'+X+"</div>");for(n in e.options){var o=r+"-"+e.options[n].id,F=r+"-maxcharacters",W=void 0!=$SG(o).val()?$SG(o).val().length-$SG(o).val().replace(/[^\n]/g,"").length:0;$SG(F).html(W),
//$SG(current_characters_max).html($SG(elem).val().length > 0 ? ($SG(elem).val()).length : 0);
$SG(o).on("keyup paste",function(){
// this timeout is a gross little hack so we can validate pasted content as well
setTimeout(function(){var t=$SG(o).val();
//replace multiple spaces with just one
//x =x.replace(/[ ]+/g,' ');
if(t){var s=t.length>0?t.length-t.replace(/[^\n]/g,"").length:0;s>parseInt(e.properties.max_characters)?$SG(o).parents("div.sg-question-options").first().addClass("sg-validation-error"):$SG(o).parents("div.sg-question-options").first().removeClass("sg-validation-error")}else s=0;$SG(F).html(s)},10)})}}/* Does this question have MIN Words? */
if(e.properties.min_words>0){var Q=r.replace("#",""),K=this.messages.min_words.replace(":min",e.properties.min_words).replace(":value",'<span id="'+Q+'-minwords">0</span>');$(r+"-element").after('<div class="sg-min-words">'+K+"</div>");for(n in e.options){var o=r+"-"+e.options[n].id,J=r+"-minwords";$SG(J).html($SG(o).val().length>0?$SG(o).val().match(/\S+/g).length:0),$SG(o).on("keyup paste",function(){
// this timeout is a gross little hack so we can validate pasted content as well
setTimeout(function(){var t=$SG(o).val();if(
//replace multiple spaces with just one
t=t.replace(/[ ]+/g," ")){var s=$.trim(t).match(/\S+/g).length>0?$.trim(t).match(/\S+/g).length:0;s<parseInt(e.properties.min_words)||s>parseInt(e.properties.max_words)?$SG(o).parents("div.sg-question-options").first().addClass("sg-validation-error"):$SG(o).parents("div.sg-question-options").first().removeClass("sg-validation-error")}else s=0;$SG(J).html(s)},10)})}}/* Does this question have MIN characters? */
if(e.properties.min_characters>0){var Q=r.replace("#",""),Y=this.messages.min_characters.replace(":min",e.properties.min_characters).replace(":value",'<span id="'+Q+'-mincharacters">0</span>');$(r+"-element").after('<div class="sg-min-characters">'+Y+"</div>");for(n in e.options){var o=r+"-"+e.options[n].id,Z=r+"-mincharacters";$SG(Z).html($SG(o).val().length>0?$SG(o).val().length-$SG(o).val().replace(/[^\n]/g,"").length:0),$SG(o).on("keyup paste",function(){
// this timeout is a gross little hack so we can validate pasted content as well
setTimeout(function(){var t=$SG(o).val();
//replace multiple spaces with just one
//x =x.replace(/[ ]+/g,' ');
if(t){var s=t.length>0?t.length-t.replace(/[^\n]/g,"").length:0;s<parseInt(e.properties.min_characters)||s>parseInt(e.properties.max_characters)?$SG(o).parents("div.sg-question-options").first().addClass("sg-validation-error"):$SG(o).parents("div.sg-question-options").first().removeClass("sg-validation-error")}else s=0;$SG(Z).html(s)},10)})}}
//Matt Null -- Cascading Dropdown
if("CONJOINT_NEW"==e.type&&this.setupConjoint(),"CASCADING_DROPDOWN"==e.type){new CascadingDropdown({base:r,qid:e.id})}/* Dynamic Show/Hide Functions 
	   Show hide now works by compiling a 'Show Rules' array inside the Runtime array.
	*/
// Build card sort question
"TABLE"==e.type&&-1!=e.properties.table_type.indexOf("CARD_SORT")&&this.setupCardSort(e,r,e.properties.table_type),"MULTI_TEXTBOX"==e.type&&"table-card-sort-open"==e.properties.map_key&&this.setupOpenCardSort(e,r)},
// Card sort function: bind the drag and drop, etc.
SGSurvey.prototype.setupCardSort=function(e,t,s){var i=$SG(t+"-box .sg-table-cs"),a=(i.find(".sg-target-cs").hasClass("sg-cs-source-all"),$SG(".js-draggable-source",i)),r=a.filter(".js-no-drop"),n=a.not(".js-no-drop");"CARD_SORT_CLOSED"==s?($SG(".js-drg-hdl",r).first().show(),n.droppable({hoverClass:"ui-state-hover",tolerance:"pointer",drop:function(e,t){
// Add to new <ul>
$SG(t.helper).removeAttr("style").appendTo(this),
// Update sku and trigger logic (if present)
$SG(".sg-input",t.helper).val($SG(this).data("sku")).trigger("change"),r.toggleClass("cs-empty",!r.find("li").length),
// Show next card
$SG(".js-drg-hdl",r).filter(":visible").length||$SG(".js-drg-hdl",r).not(":visible").first().slideDown();var s=$SG(".js-drg-hdl",this).length;$SG(this).parent(".sg-cs-bucket").attr("data-count",s)},accept:t+"-box .cs-card"})):"CARD_SORT"==s&&($SG(".js-drg-hdl",r).first().show(),i.find(".answered-count").each(function(e,t){$(this).data("count")>0&&$(this).parent(".sg-cs-bucket").attr("data-count",$(this).data("count"))}),n.droppable({hoverClass:"ui-state-hover",tolerance:"pointer",drop:function(e,t){
// Add to new <ul>
var s=$SG(t.helper).clone(!0).removeAttr("style").prependTo(this);
// Remove original
$SG(t.draggable).remove(),
// Update sku and trigger logic (if present)
$SG(".sg-input",s).val($SG(this).data("sku")).trigger("change"),
// Show next card
$SG(".js-drg-hdl",r).filter(":visible").length||$SG(".js-drg-hdl",r).not(":visible").first().slideDown();var i=$SG(".js-drg-hdl",this).length;$SG(this).parent(".sg-cs-bucket").attr("data-count",i),r.toggleClass("cs-empty",!r.find("li").length),
// Remove hover class
$SG(this).closest(".sg-cs-bucket").removeClass("ui-state-hover")},over:function(){$SG(this).closest(".sg-cs-bucket").addClass("ui-state-hover")},out:function(){$SG(this).closest(".sg-cs-bucket").removeClass("ui-state-hover")},accept:t+"-box .cs-card"})),$SG(".js-drg-hdl",i).draggable({revert:!0,zIndex:4,scroll:!1})},
// Card sort function: bind the drag and drop, etc.
SGSurvey.prototype.setupOpenCardSort=function(e,t){
// New group
function s(e){f++;var s=v.clone().show().attr("class","").appendTo(g),i=t.replace("#","");s.find(":radio").attr({name:i+"-radio",id:i+"-"+f,value:e}).prop("checked",!0).change(),s.find("label").attr({"for":i+"-"+f}).text(e)}var i=$SG(t+"-box .sg-table-cs"),a=i.hasClass("sg-mobile-ocs"),r=(i.find(".sg-target-cs").hasClass("sg-cs-source-all"),$SG(".js-draggable-source",i)),n=r.filter(".js-no-drop"),o=r.not(".js-no-drop"),l=$SG(".js-add-bucket",i),d=$SG(".bucket-template",i),c=$SG(".cs-buckets-col",i),u=$SG(".js-drg-hdl",n).first().show();
// Mobile interaction
if(a){var p=$SG(".js-mobile-ocs-bckt",i),h=$SG(":text",p),g=$SG(".js-bck-ul",i),v=$SG(".js-tmp",g),f=0,m=u.find(".sg-input").val();
// Pre-select answer for first card
""!=m&&g.find(":radio").filter(function(){return this.value==m}).prop("checked",!0),
// Update value of card
g.on("change",":radio",function(){n.find(".js-drg-hdl:visible .sg-input").val(this.value)}),
// Input for new group
p.find(".js-add-bckt").click(function(e){""==h.val()?h.focus():(s(h.val()),h.val("").blur())})}else{$SG("body").on("click",".sg-cs-buckets-open:empty",function(){$SG(this).parent(".sg-cs-bucket").remove()});var b=function(){var e=c.first(),t=e.children().length;c.each(function(){$(this).children(".sg-cs-bucket").length<t&&(e=$(this),t=$(this).children(".sg-cs-bucket").length)});var s=d.clone().removeClass("bucket-template").show().appendTo(e),i=s.find(".sg-cs-bucket-lbl input").val()+s.parents(".sg-cs-bck-list").find("ul:visible").length;return s.find("input.sg-input").val(i),s.find(".sg-cs-bucket-lbl input").val(i).select().on("keydown",function(e){return 13==e.keyCode?($(this).blur(),e.preventDefault(),!1):void s.find("input.sg-input").val($(this).val())}),s};l.on("click",function(){$clone=b(),$clone.find("ul").droppable({hoverClass:"ui-state-hover",tolerance:"pointer",drop:function(e,t){
// Add to new <ul>
$SG(t.helper).removeAttr("style").appendTo(this),
// Update sku and trigger logic (if present)
$SG(".sg-input",t.helper).val($SG(this).parent(".sg-cs-bucket").find(".sg-cs-bucket-lbl input").val()).trigger("change"),n.find("li").length?n.removeClass("cs-empty"):n.addClass("cs-empty"),
// Show next card
$SG(".js-drg-hdl",n).filter(":visible").length||$SG(".js-drg-hdl",n).not(":visible").first().slideDown();var s=$SG(".js-drg-hdl",this).length;$SG(this).parent(".sg-cs-bucket").attr("data-count",s)},accept:t+"-box .cs-card"})}),o.droppable({hoverClass:"ui-state-hover",tolerance:"pointer",drop:function(e,t){
// Add to new <ul>
$SG(t.helper).removeAttr("style").appendTo(this),
// Update sku and trigger logic (if present)
$SG(".sg-input",t.helper).val($SG(this).parent(".sg-cs-bucket").find(".sg-cs-bucket-lbl input").val()).trigger("change"),n.toggleClass("cs-empty",!n.find("li").length),
// Show next card
$SG(".js-drg-hdl",n).filter(":visible").length||$SG(".js-drg-hdl",n).not(":visible").first().slideDown();var s=$SG(".js-drg-hdl",this).length;$SG(this).parent(".sg-cs-bucket").attr("data-count",s),$SG(this).parent(".sg-cs-bucket").find(".sg-cs-bucket-lbl input").on("keydown",function(e){return 13==e.keyCode?($(this).blur(),e.preventDefault(),!1):void $SG(this).find("input.sg-input").val($(this).val())})},accept:t+"-box .cs-card"}),o.parent(".sg-cs-bucket").find(".sg-cs-bucket-lbl input").on("keydown",function(e){return 13==e.keyCode?($(this).blur(),e.preventDefault(),!1):void $SG(this).parents(".sg-cs-bucket").find("input.sg-input").val($(this).val())}),l.droppable({hoverClass:"ui-state-hover",tolerance:"pointer",drop:function(e,s){
// which col do we insert the bucket into?
var i=c.first(),a=i.children().length;c.each(function(){$(this).children(".sg-cs-bucket").length<a&&(i=$(this),a=$(this).children(".sg-cs-bucket").length)});var r=d.clone().removeClass("bucket-template").show().appendTo(i);
// Add to new <ul>
$SG(s.helper).removeAttr("style").appendTo(r.find("ul")),
// Update sku and trigger logic (if present)
$SG(".sg-input",s.helper).val($SG(this).parent(".sg-cs-bucket").find(".sg-cs-bucket-lbl input").val()).trigger("change"),
// Show next card
$SG(".js-drg-hdl",n).filter(":visible").length||$SG(".js-drg-hdl",n).not(":visible").first().slideDown(),r.find("ul").droppable({hoverClass:"ui-state-hover",tolerance:"pointer",drop:function(e,t){
// Add to new <ul>
$SG(t.helper).removeAttr("style").appendTo(this),
// Update sku and trigger logic (if present)
$SG(".sg-input",t.helper).val($SG(this).parent(".sg-cs-bucket").find(".sg-cs-bucket-lbl input").val()).trigger("change"),n.find("li").length?n.removeClass("cs-empty"):n.addClass("cs-empty"),
// Show next card
$SG(".js-drg-hdl",n).filter(":visible").length||$SG(".js-drg-hdl",n).not(":visible").first().slideDown();var s=$SG(".js-drg-hdl",this).length;$SG(this).parent(".sg-cs-bucket").attr("data-count",s)},accept:t+"-box .cs-card"});var o=r.find(".sg-cs-bucket-lbl input").val()+r.parents(".sg-cs-bck-list").find("ul:visible").length;r.find("input.sg-input").val(o),r.find(".sg-cs-bucket-lbl input").val(o).select().on("keydown change",function(e){return"keydown"==e.type&&13==e.keyCode?($(this).blur(),e.preventDefault(),!1):void r.find("input.sg-input").val($(this).val())}),n.toggleClass("cs-empty",!n.find("li").length)},accept:t+"-box .cs-card"}),$SG(".js-drg-hdl",i).draggable({revert:!0,zIndex:4,scroll:!1})}},SGSurvey.prototype.setupConjoint=function(){function e(){var e=$SG(this).closest(".sg-conjoint-set"),t=e.find(".js-text-remaining"),s=e.find(".js-text-remaining-count"),i=parseInt($SG(this).closest(".sg-conjoint").data("conjoint-sum"),10),a=0;
// Get current total
$SG(".sg-js-conjoint-text-input",e).each(function(e,t){var s=$(t).val();s=s?parseInt(s,10):0,a+=isNaN(s)?0:s}),s.text(i-a),a>i?t.addClass("sg-conjoint-sum-error"):t.removeClass("sg-conjoint-sum-error")}var t=SGAPI.survey.surveyObject.ismobile,s=SGAPI.survey.surveyObject.messages.next_button,i=SGAPI.survey.surveyObject.messages.back_button,a='<input type="submit" class="sg-button sg-back-button sg-pseudo-button" id="sg_BackButton" name="sGizmoBackButton" onclick="$SG(\'sg_navchoice\').value=\'sGizmoBackButton\';return(true);" value="'+i+'" /> ';t&&"false"!=t||
// update submit button (if it exists) so that it has the next text
$SG(".sg-submit-button").val(s),
// Apply data attr to buttons for offline
$(".sg-next-button, .sg-submit-button, .sg-back-button").addClass("btn-conjoint"),
// Radio button behavior for choice + best-worse
$SG(".sg-conjoint").on("change",".sg-js-conjoint-choice",function(){var e=$SG(this).closest(".sg-conjoint-set"),t=".sg-js-conjoint-choice",s=e.closest(".sg-conjoint").data("conjoint-type");"best-worse"===s&&(t+="[value="+$SG(this).val()+"]"),e.find(t).not(this).prop("checked","")}),
// Feedback for cont-sum score type
$SG(".sg-conjoint").on("change",".sg-js-conjoint-text-input",e),
// Set initial state
$SG(".sg-conjoint[data-conjoint-type=text]:visible .sg-conjoint-set:visible").each(function(t,s){e.apply(s)}),$SG(".conjoint-option-cell").has('input[type="radio"]').click(function(){var e=$(this).find('input[type="radio"]'),t=$(this).closest(".sg-conjoint").data("conjoint-type");if(e.hasClass("sg-js-conjoint-choice-worst")||e.hasClass("sg-js-conjoint-choice-best"))var s=e.hasClass("sg-js-conjoint-choice-worst")?"sg-js-conjoint-choice-worst":"sg-js-conjoint-choice-best";else var s="sg-js-conjoint-choice";
// Change background color of selected card (for mobile)
"best-worse"==t?($SG(this).closest("tbody").find("td").has("input."+s+":checked").removeClass("selected"),$SG(this).closest("tr").find("td").removeClass("selected"),$SG(this).closest("td").addClass("selected")):($SG(this).closest("tbody").find("tr").has("input."+s+":checked").removeClass("selected"),$SG(this).closest("tr").addClass("selected")),
//allow the input to be selected when its containing cell is clicked
e.attr("checked",!0).trigger("change")}),
// Override "next/submit" behavior
$SG(document).on("click nextconjoint",".sg-next-button, .sg-submit-button, .sg-back-button",function(){var s=$SG(".sg-conjoint:visible"),i=!1;
// Each conjoint question
return direction=$SG(this).hasClass("sg-back-button")?-1:1,s.each(function(s,r){var n=$SG(r).closest(".sg-question"),o=$SG(".sg-conjoint-set:visible",r),l=o.data("conjointindex"),d=$SG(".sg-conjoint-set[data-conjointindex="+(l+direction)+"]",r),c=!0,u=$SG(r).data("required"),p=$SG(r).data("conjoint-type"),h=parseInt($SG(r).data("conjoint-sum"),10),g=$SG(r).data("conjoint-sumreq"),v=$SG(r).data("conjoint-submit-text"),f=$SG(r).data("conjoint-over-max"),m=$SG(r).data("conjoint-equal-error"),b=$SG(r).data("conjoint-spoof-step"),S=$SG(r).data("required-msg"),y=$SG(r).data("answered");
// Validate Continuous Sum score type
if("text"===p){var G=0;$SG(".sg-js-conjoint-text-input",o).each(function(e,t){var s=$(t).val();s=s?parseInt(s,10):0,isNaN(s)||0>s?c=!1:G+=s}),G>h?($SG(".sg-conjoint-error",n).text(f.replace(":value",G)),c=!1):u&&0===G?($SG(".sg-conjoint-error",n).text(S),c=!1):g&&G!==h&&($SG(".sg-conjoint-error",n).text(m.replace(":value",G)),c=!1)}
// Validate "required"
if(u===!0){var _=0;switch(p){case"choice":case"choice-none":_=1;break;case"best-worse":_=2}_&&$SG(".sg-js-conjoint-choice:checked",o).length<_&&(c=!1)}if(c||1!=direction){if(n.removeClass("sg-errors"),$SG(".sg-question-options",n).removeClass("sg-question-has-errors"),$SG(".sg-conjoint-error",n).hide(),d.length>0){
//prevent mobile css from hiding the whole question
i=!0,"text"===p&&e.apply(d[0]),o.hide(),d.show();
//adjust progress bar
var k=$SG(".sg-progress-bar-text"),C=$SG(".sg-progress-bar-inner"),w=parseInt(k.text().slice(0,-1)),x=w+Math.round(direction*b)+"%";w>=100||y||(k.text(x),C.css("width",x))}
// make a fake back button if one doesn't already exist
!$SG(".sg-back-button").length&&l>0?$SG(".sg-button-bar").append(a):$SG(".sg-pseudo-button").length&&l-1==1&&-1==direction&&$SG(".sg-pseudo-button").remove(),t&&"false"==t||l+1!=$SG(".sg-conjoint-set").length||
// update submit button (if it exists) so that it has the submit text
$SG(".sg-submit-button").val(v)}else i=!0,n.addClass("sg-errors"),$SG(".sg-question-options",n).addClass("sg-question-has-errors"),$SG(".sg-conjoint-error",n).show()}),i?!1:void $SG(".btn-conjoint").removeClass("btn-conjoint")})},
//Matt Null - force no repeats
SGSurvey.prototype.force_no_repeats=function(e){e.each(function(){var e=$(this);
//only looking for selects now... can easily make the selector "select,input" etc
e.find("select").each(function(){$(this).change(function(){var t=$(this).prop("selectedIndex");e.find("select").not(this).each(function(){t==$(this).prop("selectedIndex")&&$(this).prop("selectedIndex",0)})})})})},/**
 * @author Matt Null
 * Handles all of the kiosk JS
 */
SGSurvey.prototype.runKioskMode=function(){var e=$("#kiosk-intro"),t=$("#kiosk-close-button"),s=this,i=function(){window.kioskIdleTimeout=setTimeout(function(){window.location.href.slice(window.location.href.indexOf("?")).length>1?window.location.href=window.location.href:window.location.href=window.location.href+"?__output=kiosk"},6e4*s.surveyObject.options.is_kiosk.idle_timeout)};
//attach events to top kiosk bar	
$("#kiosk-start-new-survey").click(function(){window.location.href.slice(window.location.href.indexOf("?")).length>1?window.location.href=window.location.href:window.location.href=window.location.href+"?__output=kiosk"}),
//if this is the first page
e.size()>0?(e.show(),$(".sg-question-set").find(".sg-question").hide(),$(".sg-footer").hide(),$("#kiosk-start-button").click(function(){e.hide(),$(".sg-question-set").find(".sg-question:not(.sg-hide)").css("display","block"),$(".sg-question-set").find(".sg-question:not(.sg-hide)").first().addClass("sg-page-current").slideDown(500,function(){s.adjustMobilePageControls()}),i(),$(".sg-footer").fadeIn(500)})):t.size()>0&&(//its the last page
this.KioskFinalPageCounter(),t.click(function(){window.location.href=window.location.href.replace("?__output=kiosk","")+"?__output=kiosk"})),
//run the idle timeout script for kiosk
1!=this.surveyObject.currentpage&&i(),
//if the user interacts with the window, restart the idletimeout
$(window).click(function(){
// clear the timeout only if it already exists
void 0!=window.kioskIdleTimeout&&window.clearTimeout(kioskIdleTimeout),i()})},/**
 * @author Matt Null
 * Handles Kiosk last page timer
 */
SGSurvey.prototype.KioskFinalPageCounter=function(){var e=$("#kiosk-countdown"),t=parseInt(e.html());setInterval(function(){var t=parseInt(e.html());0!=t&&e.html(t-1)},1e3),setTimeout(function(){window.location.href=window.location.href.replace("?__output=kiosk","")+"?__output=kiosk"},1e3*t)};var Survey=function(){};Survey.prototype={/** 
	 * This function must be called after the class is instantiated.
	 * 
	 * @param {obj} oArgs
	 */
init:function(e){this.sgSurvey=e.sgSurvey,this.surveyObject=e.surveyObject,this.pageId=e.pageId,this.optionDepsMap={},this.dNumbering=this.sgSurvey.dNumbering,this.decremented=[]},/**
	 * This function updates the meta element of the 'target'.
	 * 
	 * @param {$, string} target
	 * @param {string} token
	 * @param {string} val
	 * 
	 */
setMeta:function(e,t,s){e instanceof $&&(e="#"+e.attr("id")),$(e.replace(/-box/g,"-meta")).each(function(){var e=new RegExp(t+"=(.+?)&|$"),i=e.exec(this.value);
// was a match, it exists in there
i.length>1?this.value=this.value.replace(t+"="+i[1],t+"="+s)://no match, add it in			
this.value+="&"+t+"="+s})},/**
	 * This function triggers the "select all" for "all of the above" options. 
	 */
setAllOfAbove:function(){var e=$(this),t=e.is(":checked"),s=e.parents(".sg-question:first"),i=s.find("input:checkbox");i.each(function(){var s=$(this);s.data("special")||(s.prop("checked",t),t?s.bind("click.resetAllAbove",function(){e.prop("checked",!1),i.unbind(".resetAllAbove")}):s.unbind(".resetAllAbove"))}),SGAPI.survey.checkQuestionDependents()},
//decrement question numbers after a show/hide trigger
decrementNumbers:function(e){e.find(".sg-question-number").length>0&&e.find(".sg-question-number").html().length>0&&e.nextAll().find(".sg-question-number").each(function(){newNum=1*$(this).html().replace(".","")-1,$(this).html(newNum+".")})},
//increment question numbers after a show/hide trigger
incrementNumbers:function(e){if(e.find(".sg-question-number").length>0){
//no need to do this if the shown question is last on the page
if(e.attr("id")==$(".sg-question").has(".sg-question-number").not(".sg-type-instruction").last().attr("id"))return;if(e.find(".sg-question-number").html().length>0){var t=$(".sg-question .sg-question-number:last");if(!t.length)return;var s=t.closest(".sg-question");if(e.closest(".sg-type-group").length&&s.closest(".sg-type-group").length)return;var i=1*t.html().replace(".","")+1;t.html(i+"."),s.prevUntil(e).find(".sg-question-number").each(function(){var e=1*$(this).html().replace(".","")+1;$(this).html(e+".")})}}},/**
	 * This function hides all the dependent questions passed to it.
	 * It also clears the data for the hidden questions.
	 * 
	 * @param {obj} deps
	 * 
	 */
hideDependents:function(e,t){this.placeHolderQuestVals=this.placeHolderQuestVals||{};var s=this,i=function(e){// Remember the values of the questions so showDependents can repopulate if it needs to
e=$(e);var t=e[0].id;if(e.find(":checkbox").length)s.placeHolderQuestVals[t]=[],e.find(":checkbox:checked").each(function(){s.placeHolderQuestVals[t].push($(this).val())}),s.placeHolderQuestVals[t].length||delete s.placeHolderQuestVals[t];else if(e.find(":radio").length)s.placeHolderQuestVals[t]=e.find(":radio:checked").val();else{if(e.find(".sg-input").is("select")&&"NoAnswer"==e.find(".sg-input").val())return;s.placeHolderQuestVals[t]=e.find(".sg-input").val(),""==s.placeHolderQuestVals[t]&&delete s.placeHolderQuestVals[t]}};$.each(e,function(a,r){
// if the dep is a group, hide all questions inside
if(r.hide(),s.setMeta(r,"hidden","true"),t?
// clean question data except for textboxes (yeah whatever)
s.clearQuestionDataOld(r):e.constructor!=Array&&r.find(".sg-input").length&&void 0==s.placeHolderQuestVals[a]&&(// Remember default (placeholder) values
r.hasClass("sg-type-group")?r.find(".sg-question").each(function(){i(this)}):i(r)),r.hasClass("sg-type-group")){var n=[];r.find(".sg-question").each(function(){n.push($(this))}),s.hideDependents(n,t)}})},/**
	 * This function shows all the dependent questions passed to it.
	 * 
	 * @param {$, obj} deps
	 * 
	 */
showDependents:function(e){that=this,$.each(e,function(e,t){if(!t.hasClass("washidden")){
// Set the values to their initial values before showing
if(that.placeHolderQuestVals){var s=function(e,t){e=$(e),e.find(":checkbox").length?e.find(":checkbox").each(function(){$(this).prop("checked",t.indexOf($(this).val())>-1)}):e.find(":radio").length?e.find(":radio").prop("checked",!1).filter('[value="'+t+'"]').prop("checked",!0):e.find(".sg-input").val(t)},i=that.placeHolderQuestVals[e];t.hasClass("sg-type-group")?t.find(".sg-question").each(function(){var e=that.placeHolderQuestVals[this.id];null!=e&&void 0!=e&&s(this,e)}):null!=i&&void 0!=i&&""==$(t.selector.replace("-box","-element")).val()&&s(t,i)}
// if the dep is a group, show all questions inside
if(t.show().removeClass("sg-hide"),that.setMeta(t,"hidden","false"),$("[checked='checked']",t).removeAttr("checked").prop("checked",!0),t.hasClass("sg-type-group")){var a=[];t.find(".sg-question").each(function(){$(this).parent().hasClass("sg-hide")||a.push($(this))}),that.showDependents(a)}}})},/**
	 * This function shows all the dependent questions passed to it.
	 * 
	 * @param {$, obj} deps
	 * 
	 */
showQuestion:function(qid){var self=this;
// If question is hidden by Custom Script, the selector may have no length
if(selector="#sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+qid+"-box",$(selector).length){if(selectorParent=$(selector)[0].parentElement,$(selector).hasClass("washidden"))return!1;
// Set the values to their initial values before showing
if(this.placeHolderQuestVals){var updateQuestToPlaceHolder=function(e,t){e=$(e),e.find(":checkbox").length?e.find(":checkbox").each(function(){$(this).prop("checked",t.indexOf($(this).val())>-1)}):e.find(":radio").length?e.find(":radio").prop("checked",!1).filter('[value="'+t+'"]').prop("checked",!0):e.find(".sg-input").val(t)},plc=this.placeHolderQuestVals[qid];$(selector).hasClass("sg-type-group")?$(selector).find(".sg-question").each(function(){var e=self.placeHolderQuestVals[this.qid];null!=e&&void 0!=e&&updateQuestToPlaceHolder(this,e)}):null!=plc&&void 0!=plc&&""==$($(selector).replace("-box","-element")).val()&&updateQuestToPlaceHolder($(selector),plc)}
// if the dep is a group, show all questions inside
if($(selector).show().removeClass("sg-hide"),$(selectorParent).hasClass("sg-group-item")&&$(selectorParent).show().removeClass("sg-hide"),$(selector).attr("data-shown","true"),this.setMeta($(selector),"hidden","false"),$("[checked='checked']",$(selector)).removeAttr("checked").prop("checked",!0),$(selector).hasClass("sg-type-group")){var subQuests=[];$(selector).find(".sg-question").each(function(){if(!$(this).parent().hasClass("sg-hide")){var sku=$(this).attr("id").split("-")[3];if(sku>0){
//check subs for logic, eval or show if no logic
var sub_quest=self.surveyObject.questions[sku];sub_quest&&(sub_quest.properties.complicated_logic_rule?eval(sub_quest.properties.complicated_logic_rule):subQuests.push($(this)))}else $(this).attr("data-shown","true"),subQuests.push($(this))}}),this.showDependents(subQuests)}if($(selector).hasClass("sg-type-table")){$(selector).show().removeClass("sg-hide");var subQuests=[];$(selector).find("tr").each(function(){if(!$(this).parent().hasClass("sg-hide")){
//get subquestion id from row 	
var row=$(this).find(".sg-first-cell").attr("id"),name=$("input","#"+row).attr("name"),sku=0,other=0;if(
//check for other row to ignore.
name&&(other=other=name.indexOf("other")),row&&(sku=row.split("-")[1]),sku>0&&0>other){
//check rows for logic, eval or show if no logic
var sub_quest=self.surveyObject.questions[sku];sub_quest&&(sub_quest.properties.complicated_logic_rule?eval(sub_quest.properties.complicated_logic_rule):subQuests.push($(this)))}else subQuests.push($(this))}}),this.showDependents(subQuests)}if(!$(selector).hasClass("sg-type-file")&&!$(selector).hasClass("sg-type-cascading-dropdown")){var new_selector=selector.replace("#","[name |= ").replace("-box","]");//fire change event on the selector so it would show all dependents as well
$(selector).hasClass("sg-type-maxdiff")||($(new_selector).change(),$(new_selector).trigger("showhidden")),
// Update mobile buttons in response to logic
this.sgSurvey.adjustMobilePageControls()}}},/**
	 * This function hides all the dependent questions passed to it.
	 * It also clears the data for the hidden questions.
	 * 
	 * @param {obj} deps
	 * 
	 */
hideQuestion:function(e){
// If question is hidden by Custom Script, the selector may have no length
if(selector="#sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+e+"-box",$(selector).length){selectorParent=$(selector)[0].parentElement,this.placeHolderQuestVals=this.placeHolderQuestVals||{};var t=this,s=function(e){// Remember the values of the questions so showDependents can repopulate if it needs to
e=$(e);var s=e[0].qid;if(void 0!=s)if(e.find(":checkbox").length)t.placeHolderQuestVals[s]=[],e.find(":checkbox:checked").each(function(){t.placeHolderQuestVals[s].push($(this).val())}),t.placeHolderQuestVals[s].length||delete t.placeHolderQuestVals[s];else if(e.find(":radio").length)t.placeHolderQuestVals[s]=e.find(":radio:checked").val();else{if(e.find(".sg-input").is("select")&&"NoAnswer"==e.find(".sg-input").val())return;t.placeHolderQuestVals[s]=e.find(".sg-input").val(),""==t.placeHolderQuestVals[s]&&delete t.placeHolderQuestVals[s]}};
// if the dep is a group, hide all questions inside
if($(selector).hide().addClass("sg-hide"),$(selectorParent).hasClass("sg-group-item")&&$(selectorParent).hide().addClass("sg-hide"),this.setMeta($(selector),"hidden","true"),$(selector).find(".sg-input").length&&void 0==this.placeHolderQuestVals[e]&&(// Remember default (placeholder) values
$(selector).hasClass("sg-type-group")?$(selector).find(".sg-question").each(function(){s(this)}):s($(selector))),$(selector).hasClass("sg-type-group")){var i=[];$(selector).find(".sg-question").each(function(){i.push($(this))}),this.hideDependents(i)}if($(selector).hasClass("sg-type-table")){var i=[];$(selector).find("tr").each(function(){$(this).parent().hasClass("sg-hide")||i.push($(this))}),this.hideDependents(i)}
// Update mobile buttons in response to logic
this.sgSurvey.adjustMobilePageControls()}},showTableRow:function(e,t){var s="tr.row-"+e;$(s).show().removeClass("sg-hide"),
//if mobile display row as block instead of table-row.
$SG(".sg-body").hasClass("sg-mobile-optimized")&&$(s).css("display","block"),this.setMeta($(s),"hidden","false"),$(s).attr("data-shown","true");var i="#sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+e+"-meta";this.setMeta($(i),"hidden","false");var a="#sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+t+"-box";if($(a).hasClass("sg-hide")){
//if mobile and make sure we are now showing correct next/submit button
if($(a).removeClass("sg-hide"),$(a).addClass("sg-page-shown"),this.setMeta($(a),"hidden","false"),$SG(".sg-body").hasClass("sg-mobile-optimized")){var r=$(".sg-question:visible"),n=r.index($(".sg-page-current")),o=r.length-1;n==o?($(".sg-submit-button").show(),$(".sg-next-button").hide()):($(".sg-submit-button").hide(),$(".sg-next-button").show())}this.updateNumbering(a,!1)}this.adjustColor(a)},hideTableRow:function(e,t){var s="tr.row-"+e;$(s).hide().addClass("sg-hide"),this.setMeta($(s),"hidden","true");var i="#sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+t+"-box",a=$(i).find("tr:not(.sg-hide)");$(i).hasClass("sg-hide")||(a.length<2&&$(i).addClass("sg-hide"),this.updateNumbering(i,!0)),this.adjustColor(i)},adjustColor:function(e){$(e).find("tbody tr:not(.sg-hide)").each(function(e,t){$(t).removeClass("sg-even-row").removeClass("sg-odd-row"),e%2===0?$(t).addClass("sg-odd-row"):$(t).addClass("sg-even-row")})},/**
	 * This function resets a question.
	 * 
	 * @param {$} quest
	 * 
	 */
clearQuestionDataOld:function(e){quest=$(e).closest(".sg-question"),
// menu 
quest.hasClass("sg-type-menu")&&!quest.find(":input").hasClass("sg-input-menu-multiselect")?quest.find("select").prop("selectedIndex",0):(quest.find("input.sg-input").prop("checked",!1),
//quest.find('input.sg-input[type="text"]').val(''); // textbox - We decided we didn't want textboxes to clear (due to default value)
quest.find("textarea.sg-input").val(""))},clearQuestionData:function(e){var t=this;
//don't clear data if the question was never shown (default values)
if(quest=$(e).closest(".sg-question"),-1!=e.indexOf("row-")&&(quest=$(e).closest("tr")),$(quest).attr("data-shown")||quest.hasClass("sg-type-rank-dragdrop")||quest.hasClass("sg-type-maxdiff")||quest.hasClass("sg-type-slider")){if(quest.hasClass("sg-type-group")&&(subs=quest.find(".sg-question"),subs.each(function(){id=$(this).attr("id").replace("-box",""),sel="[name |= "+id+"]",($(this).attr("data-shown")||$(this).hasClass("sg-type-slider"))&&t.clearQuestionData(sel)})),(quest.hasClass("sg-type-menu")||quest.hasClass("sg-type-multimenu")||quest.hasClass("sg-type-table-menu-matrix"))&&!quest.find(":input").hasClass("sg-input-menu-multiselect"))quest.find("select").prop("selectedIndex",0);else if(quest.hasClass("sg-type-menu")&&quest.find(":input").hasClass("sg-input-menu-multiselect"))quest.find("select option:selected").removeAttr("selected");else if(quest.hasClass("sg-type-slider")||quest.hasClass("sg-type-multi-slider")){//slider 
var s=e.replace("[name |= ","").replace("]","");quest.find(".sg-slider-value").html(""),quest.find(".ui-slider-handle").removeAttr("style");var i=quest.data("startval");i?(quest.find('input.sg-input[type="hidden"]').val(i.toString()),quest.find(".ui-slider").slider("value",i)):quest.find('input.sg-input[type="hidden"]').val(""),quest.find(".sg-bubble-"+s).html(i).css("min-height","12px")}else if(quest.hasClass("sg-type-table-stars"))quest.find("input").removeAttr("checked"),quest.find(".sg-star-0").mousedown(),//click on reset
quest.find(".sg-star-0 .sg-input-radio").prop("checked","checked"),quest.find("input").change();else if(quest.hasClass("sg-type-rank-table"))quest.find('input[type="radio"]').prop("checked",!1);else if(quest.hasClass("sg-type-rank-dragdrop")){var a=["id","name"];quest.find('ul[id$="-origin"], ul[id$="-target"]').each(function(){var e=$SG(this).parent().siblings(".sg-sort-default");$SG(this).html(e.html()),$SG(this).data().uiSortable&&$SG(this).sortable("refresh");for(var t=0;t<a.length;t++)$SG("[data-"+a[t]+"]",this).each(function(){$(this).attr(a[t],$(this).attr("data-"+a[t])).attr("data-"+a[t],"")})}),quest.find('input.sg-input[type="text"]').val("")}else if(quest.hasClass("sg-type-imageselect"))quest.find(".sg-imageselect-item").removeClass("sg-image-selected"),quest.find("input").removeAttr("checked").change();else{if(quest.hasClass("sg-type-file"))return void quest.find("li:not(.sg-prototype-li) .sg-file-delete").click();quest.hasClass("sg-type-continuous-sum")?(quest.find('input.sg-input[type="text"]').val(""),quest.find(".sg-counter-sum").html("")):quest.hasClass("sg-type-signature")?(quest.find(".sg-signature-clear").click(),quest.find(".sg-signature-name input").val("")):(quest.find("select").prop("selectedIndex",0),quest.find("input.sg-input").prop("checked",!1),quest.find('input.sg-input[type="text"]').val(""),quest.find("textarea.sg-input").val(""),
//individual row logic in star tables
quest.find("input").removeAttr("checked"),quest.find(".sg-star-0").mousedown(),//click on reset
quest.find(".sg-star-0 .sg-input-radio").prop("checked","checked"))}$(e).change()}},initLogic:function(question,logic,triggers){var self=this,base="#sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+question.id+"-box";self.setupTriggers(triggers,logic,question.id),eval(logic)},setupTriggers:function(triggers,logic,id){var self=this,targetSku=id,targetSelect="[id = sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+targetSku+"-box]";if($(".sg-body").hasClass("sg-ie"))var eventType="click";else var eventType="change";$.each(triggers,function(key,sku){var quest=self.surveyObject.questions[sku];if(quest){var quest_type=quest.type;switch("IMAGE_SELECT"==quest_type?quest_type="single-select"==quest.properties.image_select_type?"IMAGE-SINGLE":"IMAGE-MULTI":"MENU"==quest_type&&(quest_type=1==quest.properties.multiple?"MENU-MULTI":"MENU"),quest_type){case"MENU":case"IMAGE-SINGLE":var selector="[name = sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"]",prevState=!1;$(selector).on("change",function(){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)});break;case"RADIO":case"NPS":var selector="[name = sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"], [name = sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"-other]",prevState=!1;$(selector).on("change click",function(){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)});break;case"ESSAY":case"TEXTBOX":case"SLIDER":case"HIDDEN":var timer,selector="[name = sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"]",prevState=!1,sliderButton=".slider-sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id,na_box="#sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"-na";
//keyup paste input blur
$(selector+","+sliderButton+","+na_box).on("keyup click paste input blur change",function(){timer&&clearTimeout(timer),timer=setTimeout(function(){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)},500)});break;case"IMAGE-MULTI":var selector="[name |= sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"]",prevState=!1;$(selector).on("change",function(){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)});break;case"CHECKBOX":case"MULTI_TEXTBOX":var selector="[name |= sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"]",prevState=!1;$(selector).on("change click",function(){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)});break;case"MENU-MULTI":var selector="#sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"-element",prevState=!1;$(selector).on(eventType,function(){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)});break;case"CASCADING_DROPDOWN":var selector="#sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"-box select",prevState=!1,data=1;$(selector).on(eventType,function(){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)});break;case"TEXTHIGHLIGHTER":var selector="#sgE-"+self.surveyObject.id+"-"+self.pageId+"-"+quest.id+"-element",prevState=!1;$(selector).on("thchange",function(e){prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState)});break;default:return""}void 0!=typeof quest.properties.defaulttext&&(prevState=$(targetSelect).is(":visible"),eval(logic),self.updateNumbering(targetSelect,prevState))}})},updateNumbering:function(e,t){var s=this,e=$(e).closest(".sg-question");!$(e).is(":visible")&&t&&s.decrementNumbers($(e)),$(e).is(":visible")&&!t&&s.incrementNumbers($(e))},SG_evaluate:function(e){var t=this.surveyObject,s=this.surveyObject.id,i=this.pageId,a=t.questions[e];if(a){
//is the question visible?
var r="#sgE-"+s+"-"+i+"-"+a.id+"-box";if($(r).hasClass("sg-hide")&&"HIDDEN"!=a.type)return"";var n=a.type;switch("IMAGE_SELECT"==n?n="single-select"==a.properties.image_select_type?"IMAGE-SINGLE":"IMAGE-MULTI":"MENU"==n&&(n=1==a.properties.multiple?"MENU-MULTI":"MENU"),n){case"IMAGE-SINGLE":case"NPS":case"RADIO":var o="[name = sgE-"+s+"-"+i+"-"+a.id+"]";
// Card sort uses textboxes with the sku as the value
// Card sort uses textboxes with the sku as the value
return a.properties.table_type&&-1!=a.properties.table_type.indexOf("CARD_SORT")?$(o).val()||"":$(o+":checked").val()||"";case"ESSAY":case"TEXTBOX":case"HIDDEN":case"SLIDER":var o="[name = sgE-"+s+"-"+i+"-"+a.id+"]",l="[name = sgE-"+s+"-"+i+"-"+a.id+"-na]";return $(l).is(":checked")?$(l).val():$.isNumeric($(o).val())?1*$(o).val():$(o).val()||"";case"IMAGE-MULTI":case"CHECKBOX":case"MULTI_TEXTBOX":var o="[name |= sgE-"+s+"-"+i+"-"+a.id+"]",d=[];return $(o+":checked").each(function(){
//check value for star ranking options
$(this).val().length&&d.push($(this).val())}),d.length?d:"";case"MENU":var o="[name = sgE-"+s+"-"+i+"-"+a.id+"]";return c="NoAnswer"!=$(o).val()?$(o).val():"";case"MENU-MULTI":var o="#sgE-"+s+"-"+i+"-"+a.id+"-element",d=[];return $(o+" option:selected").each(function(){d.push($(this).val())}),d.length?d:"";case"CASCADING_DROPDOWN":var c=[];return $SG(r+" select").each(function(){var e=$SG("option:selected",this);e.length&&"NoAnswer"!=e.val()&&""!=e.val()&&c.push(e.val())}),c.length?c:"";case"TEXTHIGHLIGHTER":var o="#sgE-"+s+"-"+i+"-"+a.id+"-element",u=$SG(o),p=u.data("thq"),h=p?p.getAnswers():[];return h.length?h:"";default:return""}}},/**
	 * Set up the show / hide dependencies for a question.
	 * 
	 * @param {obj} question
	 */
initShowHideTriggers:function(e){function t(e){return["#sgE-",s.surveyObject.id,"-",s.pageId,"-",e,"-box"].join("")}var s=this,i="#sgE-"+this.surveyObject.id+"-"+this.pageId+"-"+e.id;
//add the handler to show the others when it's clicked... fork on input type
if(this.optionDepsMap[e.id]={},1==e.properties.hide_all_after_until_value&&(this.surveyObject.hide_all_after=e.id),"RADIO"==e.type||"CHECKBOX"==e.type||"MENU"==e.type||"NPS"==e.type){var a,r,n,o,l,d=0;
// add listeners for menus
if("MENU"==e.type){var c=$(i+"-element");c.bind("change",function(e){s.checkQuestionDependents(e)})}for(var u in e.options)
// skip options without dependents
if(r=i+"-"+e.options[u].id,
// add listeners for radios and checkboxes
"MENU"!=e.type&&(
// this is the option element
l=$(r),l.bind("click",function(e){s.checkQuestionDependents(e)})),e.options[u].properties&&e.options[u].properties.dependent){n=e.options[u].properties.dependent,n+="",n=n.split(/,/),o=[],d=n.length;
// loop through option specific dependents
for(var p=0;d>p;p++)a=$(t(n[p])),o.push(a);
// save opt/deps info to global list
this.optionDepsMap[e.id][e.options[u].id]={el:"MENU"==e.type?c:l,deps:o}}}},/**
	 * This function is the brains behind show/hide triggers. Everytime 
	 * it runs, it checks the status of the page and hides/shows the correct 
	 * questions. It uses recursion to check the status again everytime something
	 * changes.  
	 * 
	 * @param {array} testArr
	 */
checkQuestionDependents:function(e){for(var t=!1,s=0,i=arguments.length;i>s;s++)arguments[s]&&arguments[s].originalEvent&&(t=!0);var a,r,n,o,l,d,c,u={},p={},h=[],g=this;
// loop through every question with dependents
for(var v in this.optionDepsMap){a=this.optionDepsMap[v];
// loop through the options for this question
for(var f in a){r=a[f],n=r.el,d=r.deps;
// loop through array of dependents for this option
for(var s=0;s<d.length;s++)o=d[s],l=o.attr("id"),
// whether the input is selected (for menus or checkbox/radio)
c=n.is("select")?$.isArray(n.val())?-1!=$.inArray(f,n.val()):n.val()==f:n.is(":checked"),c?p[l]=o:(u[l]=o,h.push(l))}}
// remove any shows in the hide list
for(var m in u)p[m]&&delete u[m];if(g.dNumbering){for(var m in u)$("#"+m).is(":visible")&&g.decrementNumbers($("#"+m));for(var m in p)$("#"+m).is(":visible")||g.incrementNumbers($("#"+m))}
// if something has changed from the last time, run again
SGAPI.array.compare(e,h)||(this.hideDependents(u,t),this.showDependents(p),this.checkQuestionDependents.apply(this,t?[h,{originalEvent:!0}]:[h]))},/** 
	 * This function combs the page for star box questions 
	 * and initializes their user interaction.
	 */
initStarRanking:function(){
// grab all star boxes
var e=$("div.sg-star-box");
// for each star box...
e.each(function(){var e=$(this).find("label"),t=e.length;
// attach events to all labels
e.each(function(s){var i=$(this);
// add hover events to each star
i.hover(function(){for(var t=s;t>=0;t--)$(e[t]).addClass("sg-star-on")},function(){for(var t=s;t>=0;t--){var i=$(e[t]);
// only remove the class if the star is NOT permanently on
i.data("perm")||i.removeClass("sg-star-on")}}),
// add click events to each star
// we used mousedown because click had funny effects
i.bind("mousedown",function(){for(var i=0;t>i;i++){var a=$(e[i]);
// if the current star is above the selected
i>s?a.removeClass("sg-star-on").data("perm",!1):a.addClass("sg-star-on").data("perm",!0)}});
// add stars if radio buttom was already selected. 
var a=i.find("input[type=radio]").is(":checked");a&&i.trigger("mousedown")});var s=$(this).siblings(".sg-slider-na"),i=this;$("input",s).change(function(){$(this).prop("checked")&&$(".sg-star-0",i).trigger("mousedown")})})},/** 
	 * This function combs the page for thumbs boxes and initializes their user interaction.
	 * @author Matt Null
	 */
initThumbsQuestion:function(){var e=$("div.sg-thumb-box");e.each(function(){var e=$(this).find("label"),t=$(this).find("input");t.each(function(){$(this).attr("checked")&&($(this).parent().hasClass("sg-thumb-up")?$(this).parent().addClass("sg-thumb-up-on"):$(this).parent().hasClass("sg-thumb-down")&&$(this).parent().addClass("sg-thumb-down-on"))}),e.mousedown(function(){$(this).hasClass("sg-thumb-up")?($(this).addClass("sg-thumb-up-on"),$("label.sg-thumb-down").removeClass("sg-thumb-down-on")):($(this).addClass("sg-thumb-down-on"),$("label.sg-thumb-up").removeClass("sg-thumb-up-on"))})})},initGroup:function(e,t,s){
//get some of the other info we need
for(var i in this.surveyObject.questions)if(this.surveyObject.questions[i].id==t){var a=this.surveyObject.questions[i].properties.addasneeded_max;1!=this.surveyObject.questions[i].properties.displayfirst_add_as_needed&&(a+=1);var r=this.surveyObject.questions[i].properties.addasneeded_max_message[this.surveyObject.language];break}var n=e+t,o=$("#"+n+"-button"),l=s||0;if(
// The button holds info about the group...magic.
o.data({maxCount:a,maxMsg:$('<div class="max-msg">'+r+"</div>")}),0==l){
// only grab the inputs that aren't part for the dummy or button
var d=$("#"+n+"-box").find("[id^="+e+"]").filter(function(){return!(this.id.match(/dummy/)||this.id.match(/-button/))});
// add piping with next index
pipeify(d,++l),o.data("count",l)}else l==a&&(o.hide(),o.after(o.data("maxMsg")));this.InitValidationHooks()},addGroup:function(e,t){var s=this,i=e+t,a=$("#"+i+"-button"),r=a.data("count"),n=a.data("maxCount"),o=$("#"+i+"-box .sg-group").length-1;
// safety net to keep more groups from being added
if(o==n)return!1;
// adding the piping requires more attention for ie 6/7
if($.browser.msie&&$.browser.version<8){var l=$("#dummy-group-"+t).wrap('<div class="sg-temp-group" />'),d=$(".sg-temp-group").html();$("#dummy-group-"+t).unwrap();var c=$(d).removeAttr("id"),u=c.find("[id*="+e+"]");u=iePipeify(u,++r)}else{var l=$("#dummy-group-"+t),c=l.clone().removeAttr("id"),u=c.find("[id*="+e+"]");pipeify(u,++r)}c.find(".sg-question-errorlist").length>0&&($.each(c.find(".sg-question-errorlist"),function(){$(this).remove()}),c.find(".sg-question-has-errors").removeClass("sg-question-has-errors")),
// add the group to page
c.insertBefore(a).fadeIn();var o=$("#"+i+"-box .sg-group").length-1;
// hide button and add message when user can't add more
o>=n&&(a.hide(),a.after(a.data("maxMsg"))),a.data("count",r);var p=function(e){for(var t={},i=0;i<s.surveyObject.questions.length;i++)if(s.surveyObject.questions[i].id==e){t=s.surveyObject.questions[i].properties;break}return t||{}};c.find(".sg-validation-percent, .sg-validation-numeric, .sg-validation-currency").on("blur",function(e){var t=Number(this.id.split("-")[3]),i=null,a=p(t);$SG(this).hasClass("sg-validation-percent")?i=s.formatPercent(this,a):$SG(this).hasClass("sg-validation-numeric")?i=s.formatNumber(this,a):$SG(this).hasClass("sg-validation-currency")&&(i=s.formatCurrency(this,a)),null!=i&&$SG(this).val(i)});var h=$(a).parents(".sg-question-options"),g=h.children(".sg-group:first"),v=g.html();return $(g).length>0&&""===v&&$(".sg-question-set").css("height")&&1==s.mobileOptimized&&$(".sg-question-set").css("height","auto"),this.InitValidationHooks(),!1},removeGroup:function(e,t,s){var i=$("#"+t+s+"-button");i.data("count");$(e).parents(".sg-group:first").remove();var a=i.data("maxCount"),r=$("#"+t+s+"-box .sg-group").length-1;
// update index and show button
//button.data('count', --index).show();
// remove the max message
return a>r&&i.show(),i.data("maxMsg").remove(),!1},initSignature:function(e){var t=e+"-element",s=$SG(t);if(null!=s){var i=s.find("canvas")[0],a=s.find(e);if(null!=i){var r=new SignaturePad(i,{onEnd:function(){a.val(i.toDataURL())}});
// reload signature
""!=a.val()&&r.isEmpty()&&r.fromDataURL(a.val()),
// clear signature
$SG(s).find(".sg-signature-clear").on("click",function(){r.clear(),a.val("")});var n=window.devicePixelRatio||1;i.width=i.offsetWidth*n,i.height=i.offsetHeight*n,i.getContext("2d").scale(n,n)}}},heatmap:function(e,t,s){new HeatmapQuestion(e,{admin:t,properties:s})},texthighlighter:function(e,t,s){new TextHighlighterQuestion(e,{admin:t,properties:s})}};
//For the reaction question type attached to the window.
var Reaction=function(e){var t=this;this.options=e,this.player=null,this.inputData={},this.inputSelectors={},this.comments={},this.mobile=null,this.init=function(){
//return it to the window object
//give access to the eventReady script given back to you tube information about the quesiton.
return"undefined"==typeof window.reaction_ids&&(window.reaction_ids=[]),window.reaction_ids.push("question-"+t.options.question.id),this.initInputs(),this.initSelectors(),this.initPlayer(),this},this.initPlayer=function(){var e="player-question-"+t.options.question.id;if($player=$("#"+e),"reaction-audio"==t.options.question.properties["media-type"]){if($player.data("mobile"))return void t.initMobile();var s={controls:!0,width:"100%",height:150,plugins:{wavesurfer:{src:t.options.question.properties["media-source"],msDisplayMax:10,debug:!0,waveColor:$player.data("primary"),progressColor:$player.data("secondary"),cursorColor:"black",hideScrollbar:!1,barWidth:3,fillParent:!0,autoCenter:!0}}}}else var s={fluid:!0,techOrder:["youtube"],sources:[{type:"video/youtube",src:t.options.question.properties["media-source"]}]};t.player=videojs(document.getElementById(e),s).ready(function(){var s=$(this.loadingSpinner.el());if("reaction-audio"==t.options.question.properties["media-type"])t.player.waveform.surfer.on("ready",function(){t.initCharts(),t.initSliders(),t.initComments(),s.hide();var i=t.player.addChild("ModalDialog"),a=$(i.el());i.open(),a.click(function(){i.close(),$(".vjs-waveform",$("#"+e)).show()}),t.player.pause(),t.player.waveform.surfer.pause()});else{t.initCharts(),t.initSliders(),t.initComments(),s.hide(),
// Below breaks iPhone
t.player.pause();var i=t.player.addChild("ModalDialog"),a=$(i.el());i.open(),a.click(function(){i.close()}),t.player.on("ended",function(){setTimeout(function(){t.player.pause()},500)})}})},this.initMobile=function(){var e="player-question-"+t.options.question.id;t.player=WaveSurfer.create({container:"#"+e,msDisplayMax:10,debug:!0,waveColor:$player.data("primary"),progressColor:$player.data("secondary"),cursorColor:"black",hideScrollbar:!1,barWidth:3,fillParent:!0,autoCenter:!0}),t.mobile=$("#"+e).data("mobile"),t.mobile=!0,t.player.load(t.options.question.properties["media-source"]),t.player.on("ready",function(){t.initCharts(),t.initSliders(),t.initComments(),t.player.pause(),t.player.waveform.surfer.pause()}),$("#player-question-"+t.options.question.id+"-button").click(function(){t.player.playPause()})},this.showGif=function(){},this.currentTime=function(){if(t.mobile)return t.player.getCurrentTime();if("reaction-audio"==t.options.question.properties["media-type"])var e=t.player.waveform.surfer.getCurrentTime();else var e=t.player.currentTime();return e},this.duration=function(){if(t.mobile)return t.player.getDuration();if("reaction-audio"==t.options.question.properties["media-type"])var e=t.player.waveform.surfer.getDuration();else var e=t.player.duration();return e},this.initSliders=function(){$(document).ready(function(){for(var e in t.options.question.options){var s=t.options.question.options[e];
//sgE-1127837-1-5-10001-slider-input
$("#sgE-"+t.options.surveyid+"-"+t.options.page+"-"+t.options.question.id+"-"+s.id+"-slider-input").rangeslider({polyfill:!1,onInit:function(){this.optionid=s.id,
// Remove temporary slider
this.$element.siblings(".js-temp").remove()},onSlide:function(e,s){t.currentTime()},onSlideEnd:function(e,s){t.currentTime();
//that.setData(this.optionid, time, value);
t.writeData()}})}})},this.initInputs=function(){for(var e in t.options.question.options){var s=t.options.question.options[e];t.inputData[s.id]={}}},this.initSelectors=function(){for(var e in t.options.question.options){var s=t.options.question.options[e];t.inputSelectors[s.id]=$("#sgE-"+t.options.surveyid+"-"+t.options.page+"-"+t.options.question.id+"-"+s.id);
//if data exists grab it and store it and populate charts
var i=t.inputSelectors[s.id].val();i&&(i=decodeURIComponent(escape(window.atob(i))),i=jQuery.parseJSON(i),t.inputData[s.id]=i)}},this.setData=function(e,s){t.inputData[e].duration=Math.floor(t.duration()-1),t.inputData[e].data=s,t.writeData()},this.writeData=function(){for(var e in t.options.question.options){var s=t.options.question.options[e];if(t.inputData[s.id]){var i=JSON.stringify(t.inputData[s.id]),a=window.btoa(unescape(encodeURIComponent(i)));t.inputSelectors[s.id].val(a)}}},this.initCharts=function(){var e=Math.floor(t.duration()-1);for(var s in t.options.question.options)var i=t.options.question.options[s],a=$("#sgE-"+t.options.surveyid+"-"+t.options.page+"-"+t.options.question.id+"-"+i.id+"-chart"),r=$(this),n=a.highcharts({chart:{type:"spline",animation:Highcharts.svg,// don't animate in old IE
marginRight:10,events:{load:function(){
// set up the updating of the chart each second
var e=this.series[0],s=this;setInterval(function(){var i=$(s.container).parent().data("optionid"),a=$(s.container).parent().data("optionsku"),r=1*$("#"+i+"-slider-input").val(),n=Math.round(t.currentTime()),// current time
o=r;
//add check to see if video is playing  also need to overwrite old spots so we don't have multiple plots on the same second if they are scrubbing.
if(t.mobile)var l=!0;else var l=t.player.hasStarted()&&!t.player.paused();if(l){for(var d in e.data)e.data[d].x==n&&e.removePoint(d,!1,!1);
//need to remove old data.
e.addPoint([n,o])}
//set series data to memory
var c={};for(var d in e.data)c[e.data[d].x]=e.data[d].y;t.setData(a,c)},1e3)}}},title:{text:""},xAxis:{type:"linear",tickPixelInterval:null,minRange:e,//this needs to be calculated based on length of video
min:0,max:e,gridLineWidth:0,minorGridLineWidth:0,lineColor:"transparent"},yAxis:{title:{text:""},plotLines:[{value:0,width:0,color:"transparent"}],gridLineWidth:0,minorGridLineWidth:0,lineColor:"transparent",min:-10,max:10,labels:{style:{display:"none"}}},tooltip:!1,legend:{enabled:!1},exporting:{enabled:!1},series:[{name:"Reaction Score",marker:{enabled:!1},data:function(){data=[];for(var e in t.inputData[i.id].data){var s={};s.x=1*e,s.y=t.inputData[i.id].data[e],data.push(s)}return data}()}],plotOptions:{line:{marker:!1}},credits:!1,navigator:{enabled:!0,adaptToUpdatedData:!1}})},this.initComments=function(){var e=$("#reaction-"+this.options.question.id+"-comments"),s=($("#reaction-"+this.options.question.id+"-comments-save"),$('[name="sgE-'+this.options.surveyid+"-"+this.options.page+"-"+this.options.question.id+'-comments-json"]')),i=$("#reaction-"+this.options.question.id+"-success");
// Co comments allowed
s.length&&(
// Restore comments
s.val().length&&(this.comments=JSON.parse(decodeURIComponent(escape(window.atob(s.val()))))),
// New comment
e.on("focus",function(e){t.player.pause()}),e.on("keyup",function(a){if(13==a.keyCode){var r=$.trim(e.val()),n=Math.round(t.currentTime());r.length&&(
// Record second and comment
t.comments[n]=r,s.val(window.btoa(unescape(encodeURIComponent(JSON.stringify(t.comments)))))),
// Reset comment box
e.val(""),
//show success
i.fadeIn().delay(2e3).fadeOut(),e.blur(),t.player.play()}}))}};
// javascript embeds will have content to load once this file loads
if(
// ADD TO GLOBAL NAMESPACE
SGAPI.survey=new Survey,SGAPI.surveyData=[],SGAPI.socialMediaData={facebook:[],twitter:[]},
// new methods that use SGAPI.survey
SGSurvey.prototype.addGroup=SGAPI.survey.addGroup,SGSurvey.prototype.initGroup=SGAPI.survey.initGroup,SGSurvey.prototype.initSignature=SGAPI.survey.initSignature,SGSurvey.prototype.texthighlighter=SGAPI.survey.texthighlighter,SGSurvey.prototype.heatmap=SGAPI.survey.heatmap,SGSurvey.prototype.removeGroup=SGAPI.survey.removeGroup,window.SG_init_page=SG_init_page,window.SGSurvey=SGSurvey,SGAPI.contentLoader)for(var i=0,len=SGAPI.contentLoader.length;len>i;i++)SGAPI.contentLoader[i]($);
//add indexof for logic on multiselect questions in <IE9
Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,s=Number(arguments[1])||0;for(s=0>s?Math.ceil(s):Math.floor(s),0>s&&(s+=t);t>s;s++)if(s in this&&this[s]===e)return s;return-1});var PageTimer=function(e){var t=this;e=e||{},this.type=e.type,this.limit=e.limit,this.redirect=e.redirect,this.autoSub=e.autoSub,this.hideNext=e.hideNext,this.spanTime=e.spanTime,this.pageTime=e.pageTime,this.repeat=e.repeat,this.requiredAction=e.requiredAction,this.error=e.error,this.limit&&("span"==this.type?$("#kiosk-intro").size()>0?(setTimeout(function(){$("#sg-timer-bar").hide()},10),$("#kiosk-start-button").click(function(){$("#sg-timer-bar").show(),t.initSpanTimer()})):t.initSpanTimer():$("#kiosk-intro").size()>0?(setTimeout(function(){$("#sg-timer-bar").hide()},10),$("#kiosk-start-button").click(function(){$("#sg-timer-bar").show(),t.initSpanTimer()})):t.initPageTimer())};
//init timer for single page timers and repeat timers
PageTimer.prototype.initPageTimer=function(){var e=this,t=1e3*this.limit,s=this.limit;if(this.pageTime>0){var i=1e3*this.pageTime;t-=i,s=this.limit-this.pageTime}var a=secondsToTime(s);$("#sg-timer-start").text(a.h+":"+a.m+":"+a.s),e.hideNext&&($("#sg_NextButton").hide(),$("#sg_SubmitButton").hide());var r=1*s+Math.round((new Date).getTime()/1e3);setInterval(function(){tick(r)},1e3);var n=$(".sg-question-set").find(".sg-type-identify.sg-errors").length;if(!n){setTimeout(function(){e.autoSub&&($("#sg_NextButton").click(),$("#sg_SubmitButton").click()),!e.autoSub&&e.hideNext&&(SGSurvey.prototype.timerComplete=!0,$("#sg_NextButton").show(),$("#sg_SubmitButton").show())},t)}},
//init timer when spanning across multiple survey pages
PageTimer.prototype.initSpanTimer=function(){var e=1e3*this.limit,t=1e3*this.spanTime,s=this.limit-this.spanTime,i=secondsToTime(s),a=e-t;$(function(){$("#sg-timer-start").text(i.h+":"+i.m+":"+i.s)});var r=1*s+Math.round((new Date).getTime()/1e3);setInterval(function(){tick(r)},1e3);var n=$(".sg-question-set").find(".sg-type-identify.sg-errors").length;if(!n){setTimeout(function(){$("#sg_NextButton").click(),$("#sg_SubmitButton").click()},a)}};
//Anthony Hildoer
//Cascading dropdown class
var CascadingDropdown=function(e){e=e||{},this.base=e.base,this.container=$(e.base+"-box"),this.questionID=e.qid,this.optionsCache={},this.init()};CascadingDropdown.prototype.init=function(){var e=this,t=0;this.container.find("select").each(function(){e.init_dropdown($(this),t),t++})},CascadingDropdown.prototype.init_dropdown=function(e,t){var s=this;e.attr("data-order_id",t),
// first drop down always shows
0==t&&(this.getOptions(e,[]),e.parent().parent().show()),e.change(function(){var t=parseInt(e.attr("data-order_id")),i=[],a=e.val();return s.container.find("select").each(function(){var e=$(this),r=parseInt(e.attr("data-order_id"));r>t?(
// all selects after the current get data cleared and options cleared
e.val(""),// clear the value
e.html('<option value=""> -- '+SGAPI.util.translate("Please Select")+" -- </option>"),// clear the options
r>t+1||""==a?
// only the drop down immediately following the one that changed should show at all,
e.parent().parent().hide():(
// this select is the next one the user might select, so it needs to show
e.parent().parent().show(),
// we will need to update the options in this drop down, as they may have changed
s.getOptions(e,i))):(
// this one needs to remain showing
e.parent().parent().show(),i.push(e.val()))}),null})},CascadingDropdown.prototype.getOptions=function(e,t){var s=this,i=e.prop("id")+"-"+window.encodeURIComponent(t);e.prop("disabled",!0),e.html('<option value=""> '+SGAPI.util.translate("Loading...")+" </option>");var a=function(t){var s=t.values||[],i=[];SGAPI.survey.surveyObject.messages.selectone?i.push('<option value="">'+SGAPI.survey.surveyObject.messages.selectone+"</option>"):i.push('<option value=""> -- '+SGAPI.util.translate("Please Select")+" -- </option>");for(var a=0;a<s.length;a++)i.push('<option value="'+s[a]+'">'),i.push(s[a]),i.push("</option>");e.html(i.join("")),e.prop("disabled",!1);
// see if this select has data from previous interaction, if so, pre-populate
var r=e.attr("data-previous_value");void 0!==r&&(e.val(r),setTimeout(function(){e.trigger("change")},0),e.removeAttr("data-previous_value"))};this.optionsCache[i]?a(this.optionsCache[i]):$.ajax({url:"/s3/ajax_cascadingdropdown.php",data:{id:SGAPI.survey.surveyObject.id,question_sku:this.questionID,selected:t,"cascading-dropdown-language":encodeURIComponent(SGAPI.survey.surveyObject.language)},cache:!1,dataType:"json",success:function(e){
// update cache
s.optionsCache[i]=e,
// handle options
a(s.optionsCache[i])}})},slider=function(e,t,s,i,a,r,n,o,l,d){var l=l,e=e,c=$("#"+e+"-box"),t=t,s=s,i=i,a=a,n=n,o=o,d=d,r=l===!1?r:i-r+s;c.data("startval",r),$SG(".slider-"+e).data("startval",r);var u=$SG(".slider-"+e).siblings(".sg-slider-hidden-value").find(".sg-input-hidden").val(),p=$('<div class="sg-dink"><div></div></div>'),h=$('<div class="sg-slider-bubble-'+t+'"><div class="sg-bubble-'+e+'"></div></div>');if(p.appendTo(h),$SG(".slider-"+e).slider({create:function(t,s){d&&(l===!1?$(this).slider("value",d):$(this).slider("value",i-d),$(".sg-slider-value-"+e).html(d),1==n&&1==o&&(h.appendTo(".slider-"+e+" .ui-slider-handle"),$(".sg-bubble-"+e).text(d)))},animate:!0,min:s,max:i,step:a,orientation:t,slide:function(t,a){l===!1?($(this).siblings(".sg-slider-hidden-value").find(".sg-input-hidden").val(a.value),$(".sg-slider-value-"+e).text(a.value),1==n&&1==o&&$(".sg-bubble-"+e).text(a.value)):($(this).siblings(".sg-slider-hidden-value").find(".sg-input-hidden").val(i-a.value+s),$(".sg-slider-value-"+e).text(i-a.value+s),1==n&&1==o&&$(".sg-bubble-"+e).text(i-a.value+s))},stop:function(e,t){$(this).siblings(".sg-slider-hidden-value").find(".sg-input-hidden").trigger("sgquestchange"),$(this).siblings(".sg-slider-hidden-value").find(".sg-input-hidden").change()},start:function(a,r){$(this).removeClass("ui-slider-"+t+"-blank"),1==n&&1==o&&(l===!1?h.find(".sg-bubble-"+e).text(r.value):h.find(".sg-bubble-"+e).text(i-r.value+s),$(".slider-"+e+" .ui-slider-handle").children(".sg-slider-bubble-".orientation).length<1&&h.appendTo(".slider-"+e+" .ui-slider-handle")),l===!1?($(this).siblings(".sg-slider-hidden-value").find(".sg-input-hidden").val(r.value),$(".sg-slider-value-"+e).html(r.value)):($(this).siblings(".sg-slider-hidden-value").find(".sg-input-hidden").val(i-r.value+s),$(".sg-slider-value-"+e).html(i-r.value+s))}}),$("#amount").val("$"+$("#slider").slider("value")),u&&"not applicable"!=u){var g=l?i-u+s:u;$SG(".slider-"+e).removeClass("ui-slider-vertical-blank").removeClass("ui-slider-horizontal-blank").slider("value",g),$SG(".sg-slider-value-"+e).html(u),1==n&&1==o&&($SG(".sg-bubble-"+e).text(u),h.appendTo(".slider-"+e+" .ui-slider-handle"),$SG(".sg-bubble-"+e).text(u))}else $SG(".slider-"+e).slider("value",r),$SG(".sg-slider-value-"+e).html(),"not applicable"==u&&($("#"+e+"-na").prop("checked",!0),$(".slider-"+e).slider("option","disabled",!0).addClass("ui-slider-horizontal-blank sg-disabled"));
// set up slider NA option
$("#"+e+"-na").change(function(){if($(this).is(":checked"))$(".slider-"+e).slider("option","disabled",!0).addClass("ui-slider-horizontal-blank sg-disabled").find(".sg-slider-bubble-"+t).hide(),$(".sg-slider-value-"+e).html("");else{var s=$("#"+e+".sg-input-hidden").val();$(".sg-slider-value-"+e).text(s),$(".slider-"+e).slider("option","disabled",!1).removeClass("sg-disabled").find(".sg-slider-bubble-"+t).show()}})};try{twttr.ready(function(e){e.events.bind("click",function(e){var t=$(e.target),s=t.prev("input");s.hasClass("sgjs-social-media")&&sg_twitter_action_record(e,s)}),e.events.bind("tweet",function(e){var t=$(e.target),s=t.prev("input");s.hasClass("sgjs-social-media")&&sg_twitter_action_record(e,s)})})}catch(e){}}(SGAPI.jQuery||jQuery);
/*! jQuery Mobile v1.4.3 | Copyright 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,e,t),i.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,i){!function(e,t,i){"$:nomunge";function o(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var a,r="hashchange",s=n,u=e.event.special,c=s.documentMode,l="on"+r in t&&(c===i||c>7);e.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)},e.fn[r].delay=50,u[r]=e.extend(u[r],{setup:function(){return l?!1:void e(a.start)},teardown:function(){return l?!1:void e(a.stop)}}),a=function(){function n(){var i=o(),s=f(c);i!==c?(h(c=i,s),e(t).trigger(r)):s!==c&&(location.href=location.href.replace(/#.*/,"")+s),a=setTimeout(n,e.fn[r].delay)}var a,u={},c=o(),d=function(e){return e},h=d,f=d;return u.start=function(){a||n()},u.stop=function(){a&&clearTimeout(a),a=i},t.attachEvent&&!t.addEventListener&&!l&&function(){var t,i;u.start=function(){t||(i=e.fn[r].src,i=i&&i+o(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||h(o()),n()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=s.title)}catch(e){}})},u.stop=d,f=function(){return o(t.location.href)},h=function(n,i){var o=t.document,a=e.fn[r].domain;n!==i&&(o.title=s.title,o.open(),a&&o.write('<script>document.domain="'+a+'"</script>'),o.close(),t.location.hash=n)}}(),u}()}(e,this),function(e){e.mobile={}}(e),function(e,t,n){e.extend(e.mobile,{version:"1.4.3",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:e(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(e,this),function(e,t,n){var i={},o=e.find,a=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,r=/:jqmData\(([^)]*)\)/g;e.extend(e.mobile,{ns:"",getAttribute:function(t,n){var i;t=t.jquery?t[0]:t,t&&t.getAttribute&&(i=t.getAttribute("data-"+e.mobile.ns+n));try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:a.test(i)?JSON.parse(i):i}catch(o){}return i},nsNormalizeDict:i,nsNormalize:function(t){return i[t]||(i[t]=e.camelCase(e.mobile.ns+t))},closestPageData:function(e){return e.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),e.fn.jqmData=function(t,i){var o;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),o=arguments.length<2||i===n?this.data(t):this.data(t,i)),o},e.jqmData=function(t,n,i){var o;return"undefined"!=typeof n&&(o=e.data(t,n?e.mobile.nsNormalize(n):n,i)),o},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.find=function(t,n,i,a){return t.indexOf(":jqmData")>-1&&(t=t.replace(r,"[data-"+(e.mobile.ns||"")+"$1]")),o.call(this,t,n,i,a)},e.extend(e.find,o)}(e,this),function(e,t){function i(t,n){var i,a,r,s=t.nodeName.toLowerCase();return"area"===s?(i=t.parentNode,a=i.name,t.href&&a&&"map"===i.nodeName.toLowerCase()?(r=e("img[usemap=#"+a+"]")[0],!!r&&o(r)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&o(t)}function o(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var a=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||n):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(t,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function o(t,n,i,o){return e.each(a,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var a="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(r,o(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(r,o(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in n.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var o,a,r=e(this[0]);r.length&&r[0]!==n;){if(o=r.css("position"),("absolute"===o||"relative"===o||"fixed"===o)&&(a=parseInt(r.css("zIndex"),10),!isNaN(a)&&0!==a))return a;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var o,a=e.ui[t].prototype;for(o in i)a.plugins[o]=a.plugins[o]||[],a.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<a.length;o++)e.options[a[o][0]]&&a[o][1].apply(e.element,n)}}}(e),function(e,t,i){var o=function(t,n){var i=t.parent(),o=[],a=i.children(":jqmData(role='header')"),r=t.children(":jqmData(role='header')"),s=i.children(":jqmData(role='footer')"),u=t.children(":jqmData(role='footer')");return 0===r.length&&a.length>0&&(o=o.concat(a.toArray())),0===u.length&&s.length>0&&(o=o.concat(s.toArray())),e.each(o,function(t,i){n-=e(i).outerHeight()}),Math.max(0,n)};e.extend(e.mobile,{window:e(t),document:e(n),keyCode:e.ui.keyCode,behaviors:{},silentScroll:function(n){"number"!==e.type(n)&&(n=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,n),e.mobile.document.trigger("silentscroll",{x:0,y:n})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(t){var n=e(t).closest(".ui-page").jqmData("url"),i=e.mobile.path.documentBase.hrefNoHash;return e.mobile.dynamicBaseEnabled&&n&&e.mobile.path.isPath(n)||(n=i),e.mobile.path.makeUrlAbsolute(n,i)},removeActiveLinkClass:function(t){!!e.mobile.activeClickedLink&&(!e.mobile.activeClickedLink.closest("."+e.mobile.activePageClass).length||t)&&e.mobile.activeClickedLink.removeClass(e.mobile.activeBtnClass),e.mobile.activeClickedLink=null},getInheritedTheme:function(e,t){for(var n,i,o=e[0],a="",r=/ui-(bar|body|overlay)-([a-z])\b/;o&&(n=o.className||"",!(n&&(i=r.exec(n))&&(a=i[2])));)o=o.parentNode;return a||t||"a"},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var i,o,a,r,s,u=t.length,c=e();for(r=0;u>r;r++){for(o=t.eq(r),a=!1,i=t[r];i;){if(s=i.getAttribute?i.getAttribute("data-"+e.mobile.ns+n):"","false"===s){a=!0;break}i=i.parentNode}a||(c=c.add(o))}return c},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()},resetActivePageHeight:function(t){var n=e("."+e.mobile.activePageClass),i=n.height(),a=n.outerHeight(!0);t=o(n,"number"==typeof t?t:e.mobile.getScreenHeight()),n.css("min-height",""),n.height()<t&&n.css("min-height",t-(a-i))},loading:function(){var t=this.loading._widget||e(e.mobile.loader.prototype.defaultHtml).loader(),n=t.loader.apply(t,arguments);return this.loading._widget=t,n}}),e.addDependents=function(t,n){var i=e(t),o=i.jqmData("dependents")||e();i.jqmData("dependents",e(o).add(n))},e.fn.extend({removeWithDependents:function(){e.removeWithDependents(this)},enhanceWithin:function(){var t,n={},i=e.mobile.page.prototype.keepNativeSelector(),o=this;e.mobile.nojs&&e.mobile.nojs(this),e.mobile.links&&e.mobile.links(this),e.mobile.degradeInputsWithin&&e.mobile.degradeInputsWithin(this),e.fn.buttonMarkup&&this.find(e.fn.buttonMarkup.initSelector).not(i).jqmEnhanceable().buttonMarkup(),e.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(i).jqmEnhanceable().fieldcontain(),e.each(e.mobile.widgets,function(t,a){if(a.initSelector){var r=e.mobile.enhanceable(o.find(a.initSelector));r.length>0&&(r=r.not(i)),r.length>0&&(n[a.prototype.widgetName]=r)}});for(t in n)n[t][t]();return this},addDependents:function(t){e.addDependents(this,t)},getEncodedText:function(){return e("<a>").text(this.text()).html()},jqmEnhanceable:function(){return e.mobile.enhanceable(this)},jqmHijackable:function(){return e.mobile.hijackable(this)}}),e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.addDependents=function(t,n){var i=e(t),o=i.jqmData("dependents")||e();i.jqmData("dependents",e(o).add(n))},e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}}(e,this),function(e,i){t.matchMedia=t.matchMedia||function(e,t){var n,i=e.documentElement,o=i.firstElementChild||i.firstChild,a=e.createElement("body"),r=e.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(a,o),n=42===r.offsetWidth,i.removeChild(a),{matches:n,media:e}}}(n),e.mobile.media=function(e){return t.matchMedia(e).matches}}(e),function(e,t){var i={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,i),e.extend(e.mobile.support,i)}(e),function(e,n){e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(e),function(e,i){function o(e){var t,n=e.charAt(0).toUpperCase()+e.substr(1),o=(e+" "+p.join(n+" ")+n).split(" ");for(t in o)if(f[o[t]]!==i)return!0}function a(){var n=t,i=!(!n.document.createElementNS||!n.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||n.opera&&-1===navigator.userAgent.indexOf("Chrome")),o=function(t){(!t||!i)&&e("html").addClass("ui-nosvg")},a=new n.Image;a.onerror=function(){o(!1)},a.onload=function(){o(1===a.width&&1===a.height)},a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function r(){var o,a,r,s="transform-3d",u=e.mobile.media("(-"+p.join("-"+s+"),(-")+"-"+s+"),("+s+")");if(u)return!!u;o=n.createElement("div"),a={MozTransform:"-moz-transform",transform:"transform"},h.append(o);for(r in a)o.style[r]!==i&&(o.style[r]="translate3d( 100px, 1px, 1px )",u=t.getComputedStyle(o).getPropertyValue(a[r]));return!!u&&"none"!==u}function s(){var t,n,i=location.protocol+"//"+location.host+location.pathname+"ui-dir/",o=e("head base"),a=null,r="";return o.length?r=o.attr("href"):o=a=e("<base>",{href:i}).appendTo("head"),t=e("<a href='testurl' />").prependTo(h),n=t[0].href,o[0].href=r||location.pathname,a&&a.remove(),0===n.indexOf(i)}function u(){var e,i=n.createElement("x"),o=n.documentElement,a=t.getComputedStyle;return"pointerEvents"in i.style?(i.style.pointerEvents="auto",i.style.pointerEvents="x",o.appendChild(i),e=a&&"auto"===a(i,"").pointerEvents,o.removeChild(i),!!e):!1}function c(){var e=n.createElement("div");return"undefined"!=typeof e.getBoundingClientRect}function l(){var e=t,n=navigator.userAgent,i=navigator.platform,o=n.match(/AppleWebKit\/([0-9]+)/),a=!!o&&o[1],r=n.match(/Fennec\/([0-9]+)/),s=!!r&&r[1],u=n.match(/Opera Mobi\/([0-9]+)/),c=!!u&&u[1];return(i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&a&&534>a||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||u&&7458>c||n.indexOf("Android")>-1&&a&&533>a||s&&6>s||"palmGetResource"in t&&a&&534>a||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var d,h=e("<body>").prependTo("html"),f=h[0].style,p=["Webkit","Moz","O"],m="palmGetResource"in t,v=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),g=t.blackberry&&!o("-webkit-transform");e.extend(e.mobile,{browser:{}}),e.mobile.browser.oldIE=function(){var e=3,t=n.createElement("div"),i=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(i[0]);return e>4?e:!e}(),e.extend(e.support,{pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:e.mobile.media("only all"),cssPseudoElement:!!o("content"),touchOverflow:!!o("overflowScrolling"),cssTransform3d:r(),boxShadow:!!o("boxShadow")&&!g,fixedPosition:l(),scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in h[0])&&!m&&!v,dynamicBaseTag:s(),cssPointerEvents:u(),boundingRect:c(),inlineSVG:a}),h.remove(),d=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),e.mobile.gradeA=function(){return(e.support.mediaquery&&e.support.cssPseudoElement||e.mobile.browser.oldIE&&e.mobile.browser.oldIE>=8)&&(e.support.boundingRect||null!==e.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||v||d,d&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-noboxshadow")}(e),function(e,t){var n,i=e.mobile.window,o=function(){};e.event.special.beforenavigate={setup:function(){i.on("navigate",o)},teardown:function(){i.off("navigate",o)}},e.event.special.navigate=n={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return e.support.pushState&&e.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return e.mobile.hashListeningEnabled===!0},popstate:function(t){var n=new e.Event("navigate"),o=new e.Event("beforenavigate"),a=t.originalEvent.state||{};o.originalEvent=t,i.trigger(o),o.isDefaultPrevented()||(t.historyState&&e.extend(a,t.historyState),n.originalEvent=t,setTimeout(function(){i.trigger(n,{state:a})},0))},hashchange:function(t){var n=new e.Event("navigate"),o=new e.Event("beforenavigate");o.originalEvent=t,i.trigger(o),o.isDefaultPrevented()||(n.originalEvent=t,i.trigger(n,{state:t.hashchangeState||{}}))},setup:function(){n.bound||(n.bound=!0,n.isPushStateEnabled()?(n.originalEventName="popstate",i.bind("popstate.navigate",n.popstate)):n.isHashChangeEnabled()&&(n.originalEventName="hashchange",i.bind("hashchange.navigate",n.hashchange)))}}}(e),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",a)},teardown:function(){e(this).unbind("resize",a)}};var t,n,i,o=250,a=function(){n=(new Date).getTime(),i=n-r,i>=o?(r=n,e(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(a,o-i))},r=0}(e),function(e,t){function i(){var e=o();e!==a&&(a=e,d.trigger(h))}var o,a,r,s,u,c,l,d=e(t),h="orientationchange",f={0:!0,180:!0};e.support.orientation&&(u=t.innerWidth||d.width(),c=t.innerHeight||d.height(),l=50,r=u>c&&u-c>l,s=f[t.orientation],(r&&s||!r&&!s)&&(f={"-90":!0,90:!0})),e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:(a=o(),void d.bind("throttledresize",i))},teardown:function(){return e.support.orientation&&!e.event.special.orientationchange.disabled?!1:void d.unbind("throttledresize",i)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=o=function(){var i=!0,o=n.documentElement;return i=e.support.orientation?f[t.orientation]:o&&o.clientWidth/o.clientHeight<1.1,i?"portrait":"landscape"},e.fn[h]=function(e){return e?this.bind(h,e):this.trigger(h)},e.attrFn&&(e.attrFn[h]=!0)}(e,this),function(e,t,n,i){function o(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function a(t,n){var a,r,s,u,c,l,d,h,f,p=t.type;if(t=e.Event(t),t.type=n,a=t.originalEvent,r=e.event.props,p.search(/^(mouse|click)/)>-1&&(r=j),a)for(d=r.length,u;d;)u=r[--d],t[u]=a[u];if(p.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==p.search(/^touch/)&&(s=o(a),p=s.touches,c=s.changedTouches,l=p&&p.length?p[0]:c&&c.length?c[0]:i,l))for(h=0,f=P.length;f>h;h++)u=P[h],t[u]=l[u];return t}function r(t){for(var n,i,o={};t;){n=e.data(t,A);for(i in n)n[i]&&(o[i]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function s(t,n){for(var i;t;){if(i=e.data(t,A),i&&(!n||i[n]))return t;t=t.parentNode}return null}function u(){L=!1}function c(){L=!0}function l(){R=0,B.length=0,H=!1,c()}function d(){u()}function h(){f(),q=setTimeout(function(){q=0,l()},e.vmouse.resetTimerDuration)}function f(){q&&(clearTimeout(q),q=0)}function p(t,n,i){var o;return(i&&i[t]||!i&&s(n.target,t))&&(o=a(n,t),e(n.target).trigger(o)),o}function m(t){var n,i=e.data(t.target,S);!H&&(!R||R!==i)&&(n=p("v"+t.type,t),n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function v(t){var n,i,a,s=o(t).touches;s&&1===s.length&&(n=t.target,i=r(n),i.hasVirtualBinding&&(R=X++,e.data(n,S,R),f(),d(),I=!1,a=o(t).touches[0],O=a.pageX,M=a.pageY,p("vmouseover",t,i),p("vmousedown",t,i)))}function g(e){L||(I||p("vmousecancel",e,r(e.target)),I=!0,h())}function b(t){if(!L){var n=o(t).touches[0],i=I,a=e.vmouse.moveDistanceThreshold,s=r(t.target);I=I||Math.abs(n.pageX-O)>a||Math.abs(n.pageY-M)>a,I&&!i&&p("vmousecancel",t,s),p("vmousemove",t,s),h()}}function w(e){if(!L){c();var t,n,i=r(e.target);p("vmouseup",e,i),I||(t=p("vclick",e,i),t&&t.isDefaultPrevented()&&(n=o(e).changedTouches[0],B.push({touchID:R,x:n.clientX,y:n.clientY}),H=!0)),p("vmouseout",e,i),I=!1,h()}}function E(t){var n,i=e.data(t,A);if(i)for(n in i)if(i[n])return!0;return!1}function y(){}function x(t){var n=t.substr(1);return{setup:function(){E(this)||e.data(this,A,{});var i=e.data(this,A);i[t]=!0,N[t]=(N[t]||0)+1,1===N[t]&&z.bind(n,m),e(this).bind(n,y),W&&(N.touchstart=(N.touchstart||0)+1,1===N.touchstart&&z.bind("touchstart",v).bind("touchend",w).bind("touchmove",b).bind("scroll",g))},teardown:function(){--N[t],N[t]||z.unbind(n,m),W&&(--N.touchstart,N.touchstart||z.unbind("touchstart",v).unbind("touchmove",b).unbind("touchend",w).unbind("scroll",g));var i=e(this),o=e.data(this,A);o&&(o[t]=!1),i.unbind(n,y),E(this)||i.removeData(A)}}}var D,T,A="virtualMouseBindings",S="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),P="clientX clientY pageX pageY screenX screenY".split(" "),C=e.event.mouseHooks?e.event.mouseHooks.props:[],j=e.event.props.concat(C),N={},q=0,O=0,M=0,I=!1,B=[],H=!1,L=!1,W="addEventListener"in n,z=e(n),X=1,R=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},T=0;T<k.length;T++)e.event.special[k[T]]=x(k[T]);W&&n.addEventListener("click",function(t){var n,i,o,a,r,s,u=B.length,c=t.target;if(u)for(n=t.clientX,i=t.clientY,D=e.vmouse.clickDistanceThreshold,o=c;o;){for(a=0;u>a;a++)if(r=B[a],s=0,o===c&&Math.abs(r.x-n)<D&&Math.abs(r.y-i)<D||e.data(o,S)===r.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(e,t,n),function(e,t,i){function o(t,n,o,a){var r=o.type;o.type=n,a?e.event.trigger(o,i,t):e.event.dispatch.call(t,o),o.type=r}var a=e(n),r=e.mobile.support.touch,s="touchmove scroll",u=r?"touchstart":"mousedown",c=r?"touchend":"mouseup",l=r?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,o(a,n?"scrollstart":"scrollstop",e)}var n,i,a=this,r=e(a);r.bind(s,function(o){e.event.special.scrollstart.enabled&&(n||t(o,!0),clearTimeout(i),i=setTimeout(function(){t(o,!1)},50))})},teardown:function(){e(this).unbind(s)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),i=!1;n.bind("vmousedown",function(r){function s(){clearTimeout(l)}function u(){s(),n.unbind("vclick",c).unbind("vmouseup",s),a.unbind("vmousecancel",u)}function c(e){u(),i||d!==e.target?i&&e.preventDefault():o(t,"tap",e)}if(i=!1,r.which&&1!==r.which)return!1;var l,d=r.target;n.bind("vmouseup",s).bind("vclick",c),a.bind("vmousecancel",u),l=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(i=!0),o(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),a.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,i=t.pageYOffset,o=e.clientX,a=e.clientY;return 0===e.pageY&&Math.floor(a)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(o)>Math.floor(e.pageX)?(o-=n,a-=i):(a<e.pageY-i||o<e.pageX-n)&&(o=e.pageX-n,a=e.pageY-i),{x:o,y:a}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,n,i,a){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var r=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return o(i,"swipe",e.Event("swipe",{target:a,swipestart:t,swipestop:n}),!0),o(i,r,e.Event(r,{target:a,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,i=e(n),o={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=o,o.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var i,r=e.event.special.swipe.start(t),s=t.target,u=!1;o.move=function(t){r&&(i=e.event.special.swipe.stop(t),u||(u=e.event.special.swipe.handleSwipe(r,i,n,s),u&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(r.coords[0]-i.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},o.stop=function(){u=!0,e.event.special.swipe.eventInProgress=!1,a.off(l,o.move),o.move=null},a.on(l,o.move).one(c,o.stop)}},i.on(u,o.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(u,n.start),n.move&&a.off(l,n.move),n.stop&&a.off(c,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)});
/* This notice must be untouched at all times.
SurveyGizmo translate.js Version 1
Copyright (c) 2008-2009 Widgix Software. All Rights Reserved.

*/
/**
 * _T - translate's a string to the user's current language from the global PO file.
 * @author christian vanek
 * @return string key
 **/
function translate(t){
//check for db
// console.log(translatedb);
//check for db
// console.log(translatedb);
return translatedb?translatedb[t]||t:t}var translatedb;
/*! jQuery UI - v1.10.4 - 2014-05-20
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.tabs.js, jquery.ui.effect.js, jquery.ui.effect-slide.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
!function(t,e){function i(e,i){var n,a,o,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,a=n.name,e.href&&a&&"map"===n.nodeName.toLowerCase()?(o=t("img[usemap=#"+a+"]")[0],!!o&&s(o)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,a=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,n,a=t(this[0]);a.length&&a[0]!==document;){if(s=a.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(a.css("zIndex"),10),!isNaN(n)&&0!==n))return n;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function n(e,i,s,n){return t.each(a,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var a="Width"===s?["Left","Right"]:["Top","Bottom"],o=s.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?r["inner"+s].call(this):this.each(function(){t(this).css(o,n(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?r["outer"+s].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,a=t.ui[e].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;n.length>s;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)}})}(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(a){}n(e)},t.widget=function(i,s,n){var a,o,r,l,h={},c=i.split(".")[0];i=i.split(".")[1],a=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][a.toLowerCase()]=function(e){return!!t.data(e,a)},t[c]=t[c]||{},o=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),l=new s,l.options=t.widget.extend({},l.options),t.each(n,function(i,n){return t.isFunction(n)?(h[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,a=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=a,i}}(),e):(h[i]=n,e)}),r.prototype=t.widget.extend(l,{widgetEventPrefix:o?l.widgetEventPrefix||i:i},h,{constructor:r,namespace:c,widgetName:i,widgetFullName:a}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete o._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,a,o=s.call(arguments,1),r=0,l=o.length;l>r;r++)for(n in o[r])a=o[r][n],o[r].hasOwnProperty(n)&&a!==e&&(i[n]=t.isPlainObject(a)?t.isPlainObject(i[n])?t.widget.extend({},i[n],a):t.widget.extend({},a):a);return i},t.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;t.fn[i]=function(o){var r="string"==typeof o,l=s.call(arguments,1),h=this;return o=!r&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,r?this.each(function(){var s,n=t.data(this,a);return n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(s=n[o].apply(n,l),s!==n&&s!==e?(h=s&&s.jquery?h.pushStack(s.get()):s,!1):e):t.error("no such method '"+o+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,a);e?e.option(o||{})._init():t.data(this,a,new n(o,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,a,o,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(a=r[i]=t.widget.extend({},this.options[i]),o=0;n.length-1>o;o++)a[n[o]]=a[n[o]]||{},a=a[n[o]];if(i=n.pop(),1===arguments.length)return a[i]===e?null:a[i];a[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var a,o=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=a=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,a=this.widget()),t.each(n,function(n,r){function l(){return i||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):e}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||t.guid++);var h=n.match(/^(\w+)\s*(.*)$/),c=h[1]+o.eventNamespace,u=h[2];u?a.delegate(u,c,l):s.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,a,o=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),o=!t.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){t(this)[e](),a&&a.call(s[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),k=(e.collision||"flip").split(" "),x={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),a=i(x.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),D=u+f+s(this,"marginRight")+w.width,C=d+_+s(this,"marginBottom")+w.height,I=t.extend({},v),P=i(x.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?I.left-=u:"center"===e.my[0]&&(I.left-=u/2),"bottom"===e.my[1]?I.top-=d:"center"===e.my[1]&&(I.top-=d/2),I.left+=P[0],I.top+=P[1],t.support.offsetFractions||(I.left=l(I.left),I.top=l(I.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[k[i]]&&t.ui.position[k[i]][s](I,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:D,collisionHeight:C,offset:[a[0]+P[0],a[1]+P[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-I.left,s=i+p-u,n=m.top-I.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:I.left,top:I.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(l.horizontal="center"),d>g&&g>r(n+a)&&(l.vertical="middle"),l.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(I,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],void(s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,
this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,_=i.offset.top,b=_+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-g>v||m>l+g||h-g>b||_>c+g||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(s=g>=Math.abs(h-b),n=g>=Math.abs(c-_),a=g>=Math.abs(r-v),o=g>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,"outer"!==f.snapMode&&(s=g>=Math.abs(h-_),n=g>=Math.abs(c-b),a=g>=Math.abs(r-m),o=g>=Math.abs(l-v),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return o>=c&&d>=l&&r>=u&&p>=h;case"intersect":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),a.length&&(s=t.data(a[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,l=this.position.left,h=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==l&&(n.left=this.position.left+"px"),this.size.width!==h&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(o,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=l-e.minWidth),n&&c&&(t.left=l-e.maxWidth),r&&u&&(t.top=h-e.minHeight),a&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-o},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,a,o,r,l,h=t(this).data("ui-resizable"),c=h.options,u=h.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(h.containerElement=t(p),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),h.containerOffset=i.offset(),h.containerPosition=i.position(),h.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=h.containerOffset,a=h.containerSize.height,o=h.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:o,l=t.ui.hasScroll(p)?p.scrollHeight:a,h.parentData={element:p,left:n.left,top:n.top,width:r,height:l}))},resize:function(e){var i,s,n,a,o=t(this).data("ui-resizable"),r=o.options,l=o.containerOffset,h=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?l.left:0),h.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?l.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-l.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),l=o.outerWidth()-e.sizeDiff.width,h=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},l=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?l(n.alsoResize):t.each(n.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,c=Math.round((s.width-n.width)/l)*l,u=Math.round((s.height-n.height)/h)*h,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=l),v&&(p+=h),f&&(d-=l),g&&(p-=h),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-h>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=h,e.position.top=a.top+n.height-h),d-l>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=l,e.position.left=a.left+n.width-l))}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):"fit"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{
unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,a.widgetName+"-item")===a?(s=t(this),!1):void 0}),t.data(e.target,a.widgetName+"-item")===a&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-t(document).scrollTop()<o.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)),e.pageX-t(document).scrollLeft()<o.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=t.left,o=a+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>r&&l>s+h,d="y"===this.options.axis||e+c>a&&o>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return n?this.floating?o&&"right"===o||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&s||"left"===a&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,a,o,r=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--)for(a=t(h[s]),n=a.length-1;n>=0;n--)o=t.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=l.length-1;s>=0;s--)l[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,a,o,r,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)a=t.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(u.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]),this.containers.push(a));for(i=u.length-1;i>=0;i--)for(o=u[i][1],r=u[i][0],s=0,h=r.length;h>s;s++)l=t(r[s]),l.data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,a,o,r,l,h,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(o=1e4,r=null,p=f.floating||i(this.currentItem),l=p?"left":"top",h=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],a=this.items.length-1;a>=0;a--)t.contains(this.containers[g].element[0],this.items[a].item[0])&&this.items[a].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[a].top,this.items[a].height))&&(u=this.items[a].item.offset()[l],d=!1,Math.abs(u-c)>Math.abs(u+this.items[a][h]-c)&&(d=!0,u+=this.items[a][h]),o>Math.abs(u-c)&&(o=Math.abs(u-c),r=this.items[a],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,a=e.pageX,o=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t){var e=0,i={},s={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),a=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(t(e.target).attr("tabIndex",-1),t(a).attr("tabIndex",0),a.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,s=this.options,n=s.heightStyle,a=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),s=i.attr("id"),n=i.next(),a=n.attr("id");s||(s=o+"-header-"+e,i.attr("id",s)),a||(a=o+"-panel-"+e,n.attr("id",a)),i.attr("aria-controls",a),n.attr("aria-labelledby",s)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(s.event),"fill"===n?(i=a.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height())}).height(i))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?t():n.next(),l=s.next(),h={oldHeader:s,oldPanel:l,newHeader:o?t():n,newPanel:r};e.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?t():n,this._toggle(h),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),
i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,n){var a,o,r,l=this,h=0,c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){l._toggleComplete(n)};return"number"==typeof d&&(r=d),"string"==typeof d&&(o=d),o=o||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(a=t.show().outerHeight(),e.animate(i,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(s,{duration:r,easing:o,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?h+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(a-e.outerHeight()-h),h=0)}})):e.animate(i,r,o,p):t.animate(s,r,o,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t){t.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var a=t.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case a.UP:e=!0,this._keyEvent("previous",n);break;case a.DOWN:e=!0,this._keyEvent("next",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",n=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},a=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,n),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,o=this.options,r="checkbox"===this.type||"radio"===this.type,l=r?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||t(this).removeClass(l)}).bind("click"+this.eventNamespace,function(t){o.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){s.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;t(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var e=s.element[0];a(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(t(this).addClass("ui-state-active"),e=this,void s.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return o.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?a(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(s),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,a=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(a?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(a.inline?e.parent()[0]:a.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function n(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}t.extend(t.ui,{datepicker:{version:"1.10.4"}});var a,o="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return n(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,a;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),a=this._newInst(t(e),n),a.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,a):n&&this._inlineDatepicker(e,a)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,o,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,a=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},a.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,o,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,a,r){var l,h,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],o,p)),n(p.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],o,p),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,o);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,o),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,o);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,o);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,o)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,s,a){var o,r,l,h,c=this._getInst(i);return 2===arguments.length&&"string"==typeof s?"defaults"===s?t.extend({},t.datepicker._defaults):c?"all"===s?t.extend({},c.settings):this._get(c,s):null:(o=s||{},"string"==typeof s&&(o={},o[s]=a),c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(c,"min"),h=this._getMinMaxDate(c,"max"),n(c.settings,o),null!==l&&o.dateFormat!==e&&o.minDate===e&&(c.settings.minDate=this._formatDate(c,l)),null!==h&&o.dateFormat!==e&&o.maxDate===e&&(c.settings.maxDate=this._formatDate(c,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,a=t.datepicker._getInst(e.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv),n[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,n[0]),i=t.datepicker._get(a,"onSelect"),i?(s=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var s,n,a=t.datepicker._getInst(i.target);return t.datepicker._get(a,"constrainInput")?(s=t.datepicker._possibleChars(t.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">n||!s||s.indexOf(n)>-1):e},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,a,o,r,l,h;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),a=s?s.apply(e,[e,i]):{},a!==!1&&(n(i.settings,a),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return o|="fixed"===t(this).css("position"),!o}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),h=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),h):i.dpDiv[l||"show"](l?h:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,a=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,s=this._getNumberOfMonths(e),n=s[1],o=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",o*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-o:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+a>h&&h>a?Math.abs(a+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,a,r=this._curInst;!r||e&&r!==t.data(e,o)||this._datepickerShowing&&(i=this._get(r,"showAnim"),s=this._get(r,"duration"),n=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),s,n):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(r,"onClose"),a&&a.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker();
}},_adjustDate:function(e,i,s){var n=t(e),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(e,i,s,n){var a,o=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=t("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,a=this._get(e,"altField");a&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(a).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,s,n){if(null==i||null==s)throw"Invalid arguments";if(s="object"==typeof s?""+s:s+"",""===s)return null;var a,o,r,l,h=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,g=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,_=-1,b=-1,y=!1,w=function(t){var e=i.length>a+1&&i.charAt(a+1)===t;return e&&a++,e},k=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=RegExp("^\\d{1,"+i+"}"),a=s.substring(h).match(n);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},x=function(i,n,a){var o=-1,r=t.map(w(i)?a:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,i){var n=i[1];return s.substr(h,n.length).toLowerCase()===n.toLowerCase()?(o=i[0],h+=n.length,!1):e}),-1!==o)return o+1;throw"Unknown name at position "+h},D=function(){if(s.charAt(h)!==i.charAt(a))throw"Unexpected literal at position "+h;h++};for(a=0;i.length>a;a++)if(y)"'"!==i.charAt(a)||w("'")?D():y=!1;else switch(i.charAt(a)){case"d":_=k("d");break;case"D":x("D",d,p);break;case"o":b=k("o");break;case"m":v=k("m");break;case"M":v=x("M",f,g);break;case"y":m=k("y");break;case"@":l=new Date(k("@")),m=l.getFullYear(),v=l.getMonth()+1,_=l.getDate();break;case"!":l=new Date((k("!")-this._ticksTo1970)/1e4),m=l.getFullYear(),v=l.getMonth()+1,_=l.getDate();break;case"'":w("'")?D():y=!0;break;default:D()}if(s.length>h&&(r=s.substr(h),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),b>-1)for(v=1,_=b;o=this._getDaysInMonth(m,v-1),!(o>=_);)v++,_-=o;if(l=this._daylightSavingAdjust(new Date(m,v-1,_)),l.getFullYear()!==m||l.getMonth()+1!==v||l.getDate()!==_)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},h=function(t,e,i){var s=""+e;if(l(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return l(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||l("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,a);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),o,r);break;case"y":u+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),a=n,o=this._getFormatConfig(t);try{a=this.parseDate(i,s,o)||n}catch(r){s=e?"":s}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=s?a.getDate():0,t.currentMonth=s?a.getMonth():0,t.currentYear=s?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":r+=parseInt(h[1],10);break;case"w":case"W":r+=7*parseInt(h[1],10);break;case"m":case"M":o+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(h[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(a,o))}h=l.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),n===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,a,o,r,l,h,c,u,d,p,f,g,m,v,_,b,y,w,k,x,D,C,I,P,M,T,S,z,A,H,N,E,W,O,F,R,L=new Date,Y=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),j=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),K=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),$=1!==q[0]||1!==q[1],Q=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate())),e=G&&G>e?G:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>":K?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+X,1)),this._getFormatConfig(t)):n,a=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+n+"</span></a>":K?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+n+"</span></a>",o=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?Q:Y,o=U?this.formatDate(o,r,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(j?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;q[0]>k;k++){for(x="",this.maxRows=4,D=0;q[1]>D;D++){if(C=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",P="",$){if(P+="<div class='ui-datepicker-group",q[1]>1)switch(D){case 0:P+=" ui-datepicker-group-first",I=" ui-corner-"+(j?"right":"left");break;case q[1]-1:P+=" ui-datepicker-group-last",I=" ui-corner-"+(j?"left":"right");break;default:P+=" ui-datepicker-group-middle",I=""}P+="'>"}for(P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?j?a:s:"")+(/all|right/.test(I)&&0===k?j?s:a:"")+this._generateMonthYearHeader(t,Z,tt,G,J,k>0||D>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)T=(w+c)%7,M+="<th"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[T]+"'>"+p[T]+"</span></th>";for(P+=M+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),z=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,A=Math.ceil((z+S)/7),H=$&&this.maxRows>A?this.maxRows:A,this.maxRows=H,N=this._daylightSavingAdjust(new Date(tt,Z,1-z)),E=0;H>E;E++){for(P+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",w=0;7>w;w++)O=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],F=N.getMonth()!==Z,R=F&&!_||!O[0]||G&&G>N||J&&N>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(N.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(N.getTime()===Q.getTime()?" "+this._currentClass:"")+(N.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===Y.getTime()?" ui-state-highlight":"")+(N.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);P+=W+"</tr>"}Z++,Z>11&&(Z=0,tt++),P+="</tbody></table>"+($?"</div>"+(q[0]>0&&D===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=P}y+=x}return y+=h,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,a,o,r){var l,h,c,u,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(a||!m)y+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=s.getMonth())&&(!h||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(_||(b+=y+(!a&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!a&&m&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),o=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!a||e.getTime()<=a.getTime())&&(!o||e.getFullYear()>=o)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.4"}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(n.focus(1),e.preventDefault()):(s.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,s){var n,a;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(a).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,a){s.position=[a.position.left-i.document.scrollLeft(),a.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(a))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,a){s.height=t(this).height(),s.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(a))}}).css("position",a)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(s){var n=this,a=!1,o={};t.each(s,function(t,s){n._setOption(t,s),t in e&&(a=!0),t in i&&(o[t]=s)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(s){e._allowInteraction(s)||(s.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,s=[],n=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(s=i.split?i.split(" "):[i[0],i[1]],1===s.length&&(s[1]=s[0]),t.each(["left","top"],function(t,e){+s[t]===s[t]&&(n[t]=s[t],s[t]=e)}),i={my:s[0]+(0>n[0]?n[0]:"+"+n[0])+" "+s[1]+(0>n[1]?n[1]:"+"+n[1]),at:s.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t,e){function i(){return++n}function s(t){return t=t.cloneNode(!1),t.hash.length>1&&decodeURIComponent(t.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var n=0,a=/#.*$/;t.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(s,a){return t(a).attr("aria-controls")===n?(i=s,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(s),a=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(n),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),e;default:return}i.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var a,o,r,l=t(n).uniqueId().attr("id"),h=t(n).closest("li"),c=h.attr("aria-controls");s(n)?(a=n.hash,o=e.element.find(e._sanitizeSelector(a))):(r=e._tabId(h),a="#"+r,o=e.element.find(a),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&h.data("ui-tabs-aria-controls",c),h.attr({"aria-controls":a.substring(1),"aria-labelledby":l}),o.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,l=r?t():this._getPanelForTab(a),h=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:h,newTab:r?t():a,newPanel:l};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(a),e),this._toggle(e,c))},_toggle:function(e,i){function s(){a.running=!1,a._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,s))return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var n=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),l={tab:a,panel:r};s(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,a){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),n=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,a){var o,r=a.re.exec(i),l=r&&a.parse(r),h=a.space||"rgba";return l?(o=s[h](l),s[c[h].cache]=o[c[h].cache],n=s._rgba=o._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),s):a[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)];
}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(n,o,r,l){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=e);var u=this,d=t.type(n),p=this._rgba=[];return o!==e&&(n=[n,o,r,l],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof h?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var a=s.cache;f(s.props,function(t,e){if(!u[a]&&s.to){if("alpha"===t||null==n[t])return;u[a]=s.to(u._rgba)}u[a][e.idx]=i(n[t],e,!0)}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,s.from&&(u._rgba=s.from(u[a])))}),this):e},is:function(t){var i=h(t),s=!0,n=this;return f(c,function(t,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),a=c[n],o=0===this.alpha()?h("transparent"):this,r=o[a.cache]||a.to(o._rgba),l=r.slice();return s=s[a.cache],f(a.props,function(t,n){var a=n.idx,o=r[a],h=s[a],c=u[n.type]||{};null!==h&&(null===o?l[a]=h:(c.mod&&(h-o>c.mod/2?o+=c.mod:o-h>c.mod/2&&(o-=c.mod)),l[a]=i((h-o)*e+o,n)))}),this[n](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(s,n,a),l=Math.min(s,n,a),h=r-l,c=r+l,u=.5*c;return e=l===r?0:s===r?60*(n-a)/h+360:n===r?60*(a-s)/h+120:60*(s-n)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],a=t[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,e+1/3)),Math.round(255*n(r,o,e)),Math.round(255*n(r,o,e-1/3)),a]},f(c,function(s,n){var a=n.props,o=n.cache,l=n.to,c=n.from;h.fn[s]=function(s){if(l&&!this[o]&&(this[o]=l(this._rgba)),s===e)return this[o].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[o].slice();return f(a,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=h(c(d)),n[o]=d,n):h(d)},f(a,function(e,i){h.fn[e]||(h.fn[e]=function(n){var a,o=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=t.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=c+parseFloat(a[2])*("+"===a[1]?1:-1))),h[i.idx]=n,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var a,o,r="";if("transparent"!==n&&("string"!==t.type(n)||(a=s(n)))){if(n=h(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function s(e,i){var s,n,o={};for(s in i)n=i[s],e[s]!==n&&(a[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(o[s]=n));return o}var n=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,r){var l=t.speed(a,o,r);return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",h=l.children?o.find("*").addBack():o;h=h.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(n,function(t,i){e[i]&&o[i+"Class"](e[i])})},a(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),o.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,a){return s?t.effects.animateClass.call(this,{add:i},s,n,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,a,o,r){return"boolean"==typeof n||n===e?a?t.effects.animateClass.call(this,n?{add:s}:{remove:s},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,a){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,a)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var s=0;e.length>s;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,a;for(a=0;s.length>a;a++)null!==s[a]&&(n=t.data(i+s[a]),n===e&&(n=""),t.css(s[a],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return e.wrap(s),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(a)&&a.call(n[0]),t.isFunction(e)&&e()}var n=t(this),a=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):o.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,a=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){t.effects.effect.slide=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(n,e.mode||"show"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(n,a),n.show(),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(h,c?isNaN(s)?"-"+s:-s:s),u[h]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}}(jQuery);
/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2012, John Dyer (http://j.hn)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
// Namespace
// IFRAME
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}
// FLASH
function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}var mejs=mejs||{};
// version number
mejs.version="2.9.1",
// player number (for missing, same id attr)
mejs.meIndex=0,
// media types accepted by plugins
mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]},/*
Utility methods
*/
mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t,i,n=0,s="",a="",o=document.getElementsByTagName("script"),r=o.length,l=e.length;r>n;n++){for(i=o[n].src,t=0;l>t;t++)if(a=e[t],i.indexOf(a)>-1){s=i.substring(0,i.indexOf(a));break}if(""!==s)break}return s},secondsToTimeCode:function(e,t,i,n){
//add framecount
"undefined"==typeof i?i=!1:"undefined"==typeof n&&(n=25);var s=Math.floor(e/3600)%24,a=Math.floor(e/60)%60,o=Math.floor(e%60),r=Math.floor((e%1*n).toFixed(3)),l=(t||s>0?(10>s?"0"+s:s)+":":"")+(10>a?"0"+a:a)+":"+(10>o?"0"+o:o)+(i?":"+(10>r?"0"+r:r):"");return l},timeCodeToSeconds:function(e,t,i,n){"undefined"==typeof i?i=!1:"undefined"==typeof n&&(n=25);var s=e.split(":"),a=parseInt(s[0],10),o=parseInt(s[1],10),r=parseInt(s[2],10),l=0,u=0;return i&&(l=parseInt(s[3])/n),u=3600*a+60*o+r+l},/* borrowed from SWFObject: http://code.google.com/p/swfobject/source/browse/trunk/swfobject/src/swfobject.js#474 */
removeSwf:function(e){var t=document.getElementById(e);t&&"OBJECT"==t.nodeName&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}},
// Core detector, plugins are added below
mejs.PluginDetector={
// main public function to test a plug version number PluginDetector.hasPluginVersion('flash',[9,0,125]);
hasPluginVersion:function(e,t){var i=this.plugins[e];return i?(t[1]=t[1]||0,t[2]=t[2]||0,i&&(i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2])?!0:!1):!1},
// cached values
nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),
// stored version numbers
plugins:[],
// runs detectPlugin() and stores the version number
addPlugin:function(e,t,i,n,s){this.plugins[e]=this.detectPlugin(t,i,n,s)},
// get the version number from the mimetype (all but IE) or ActiveX (IE)
detectPlugin:function(e,t,i,n){var s,a,o,r=[0,0,0];
// Firefox, Webkit, Opera
if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if(s=this.nav.plugins[e].description,s&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(r=s.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),a=0;a<r.length;a++)r[a]=parseInt(r[a].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{o=new ActiveXObject(i),o&&(r=n(o))}catch(l){}return r}},
// Add Flash detection
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){
// adapted from SWFObject
var t=[],i=e.GetVariable("$version");return i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]),t}),
// Add Silverlight detection
/*
mejs.PluginDetector.addPlugin('silverlight','Silverlight Plug-In','application/x-silverlight-2','AgControl.AgControl', function (ax) {
	// Silverlight cannot report its version number to IE
	// but it does have a isVersionSupported function, so we have to loop through it to get a version number.
	// adapted from http://www.silverlightversion.com/
	var v = [0,0,0,0],
		loopMatch = function(ax, v, i, n) {
			while(ax.isVersionSupported(v[0]+ "."+ v[1] + "." + v[2] + "." + v[3])){
				v[i]+=n;
			}
			v[i] -= n;
		};
	loopMatch(ax, v, 0, 1);
	loopMatch(ax, v, 1, 1);
	loopMatch(ax, v, 2, 10000); // the third place in the version number is usually 5 digits (4.0.xxxxx)
	loopMatch(ax, v, 2, 1000);
	loopMatch(ax, v, 2, 100);
	loopMatch(ax, v, 2, 10);
	loopMatch(ax, v, 2, 1);
	loopMatch(ax, v, 3, 1);

	return v;
});
*/
// add adobe acrobat
/*
PluginDetector.addPlugin('acrobat','Adobe Acrobat','application/pdf','AcroPDF.PDF', function (ax) {
	var version = [],
		d = ax.GetVersions().split(',')[0].split('=')[1].split('.');

	if (d) {
		version = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10)];
	}
	return version;
});
*/
// necessary detection (fixes for <IE9)
mejs.MediaFeatures={init:function(){var e,t,i=this,n=document,s=mejs.PluginDetector.nav,a=mejs.PluginDetector.ua.toLowerCase(),o=["source","track","audio","video"];
// detect browsers (only the ones that have some kind of quirk we need to work around)
i.isiPad=null!==a.match(/ipad/i),i.isiPhone=null!==a.match(/iphone/i),i.isiOS=i.isiPhone||i.isiPad,i.isAndroid=null!==a.match(/android/i),i.isBustedAndroid=null!==a.match(/android 2\.[12]/),i.isIE=-1!=s.appName.toLowerCase().indexOf("microsoft"),i.isChrome=null!==a.match(/chrome/gi),i.isFirefox=null!==a.match(/firefox/gi),i.isWebkit=null!==a.match(/webkit/gi),i.isGecko=null!==a.match(/gecko/gi)&&!i.isWebkit,i.isOpera=null!==a.match(/opera/gi),i.hasTouch="ontouchstart"in window;
// create HTML5 media elements for IE before 9, get a <video> element for fullscreen detection
for(e=0;e<o.length;e++)t=document.createElement(o[e]);i.supportsMediaTag="undefined"!=typeof t.canPlayType||i.isBustedAndroid,
// detect native JavaScript fullscreen (Safari/Firefox only, Chrome still fails)
// iOS
i.hasSemiNativeFullScreen="undefined"!=typeof t.webkitEnterFullscreen,
// Webkit/firefox
i.hasWebkitNativeFullScreen="undefined"!=typeof t.webkitRequestFullScreen,i.hasMozNativeFullScreen="undefined"!=typeof t.mozRequestFullScreen,i.hasTrueNativeFullScreen=i.hasWebkitNativeFullScreen||i.hasMozNativeFullScreen,i.nativeFullScreenEnabled=i.hasTrueNativeFullScreen,i.hasMozNativeFullScreen&&(i.nativeFullScreenEnabled=t.mozFullScreenEnabled),this.isChrome&&(i.hasSemiNativeFullScreen=!1),i.hasTrueNativeFullScreen&&(i.fullScreenEventName=i.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange",i.isFullScreen=function(){return t.mozRequestFullScreen?n.mozFullScreen:t.webkitRequestFullScreen?n.webkitIsFullScreen:void 0},i.requestFullScreen=function(e){i.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():i.hasMozNativeFullScreen&&e.mozRequestFullScreen()},i.cancelFullScreen=function(){i.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():i.hasMozNativeFullScreen&&document.mozCancelFullScreen()}),
// OS X 10.5 can't do this even if it says it can :(
i.hasSemiNativeFullScreen&&a.match(/mac os x 10_5/i)&&(i.hasNativeFullScreen=!1,i.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),/*
extension methods to <video> or <audio> object to bring it into parity with PluginMediaElement (see below)
*/
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},
// for parity with the plugin versions
stop:function(){this.pause()},
// This can be a url string
// or an array [{src:'file.mp4',type:'video/mp4'},{src:'file.webm',type:'video/webm'}]
setSrc:function(e){for(
// Fix for IE9 which can't set .src when there are <source> elements. Awesome, right?
var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if("string"==typeof e)this.src=e;else{var i,n;for(i=0;i<e.length;i++)n=e[i],this.canPlayType(n.type)&&(this.src=n.src)}},setVideoSize:function(e,t){this.width=e,this.height=t}},/*
Mimics the <video/audio> element by calling Flash's External Interface or Silverlights [ScriptableMember]
*/
mejs.PluginMediaElement=function(e,t,i){this.id=e,this.pluginType=t,this.src=i,this.events={}},
// JavaScript values and ExternalInterface methods that match HTML5 video properties methods
// http://www.adobe.com/livedocs/flash/9.0/ActionScriptLangRefV3/fl/video/FLVPlayback.html
// http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html
mejs.PluginMediaElement.prototype={
// special
pluginElement:null,pluginType:"",isFullScreen:!1,
// not implemented :(
playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],
// HTML5 read-only properties
paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",
// HTML5 get/set properties, but only set (updated by event handlers)
muted:!1,volume:1,currentTime:0,
// HTML5 methods
play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,i,n,s=mejs.plugins[this.pluginType];for(t=0;t<s.length;t++)
// test if user has the correct plugin version
if(n=s[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,n.version))
// test for plugin playback types
for(i=0;i<n.types.length;i++)
// find plugin that can play the type
if(e==n.types[i])return!0;return!1},positionFullscreenButton:function(e,t,i){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(e,t,i)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},
// custom methods since not all JavaScript implementations support get/set
// This can be a url string
// or an array [{src:'file.mp4',type:'video/mp4'},{src:'file.webm',type:'video/webm'}]
setSrc:function(e){if("string"==typeof e)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else{var t,i;for(t=0;t<e.length;t++)i=e[t],this.canPlayType(i.type)&&(this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(i.src)),this.src=mejs.Utility.absolutizeUrl(e))}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&(
// same on YouTube and MEjs
"youtube"==this.pluginType?this.pluginApi.setVolume(100*e):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},
// additional non-HTML5 methods
setVideoSize:function(e,t){
//if (this.pluginType == 'flash' || this.pluginType == 'silverlight') {
this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},
// start: fake events
addEventListener:function(e,t,i){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,i,n=this.events[e];if(n)for(i=Array.prototype.slice.call(arguments,1),t=0;t<n.length;t++)n[t].apply(null,i)},
// end: fake events
// fake DOM attribute methods
attributes:{},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}},
// Handles calls from Flash/Silverlight and reports them as native <video/audio> events and properties
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,i){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=i},
// when Flash/Silverlight is ready, it calls out to this method
initPlugin:function(e){var t=this.pluginMediaElements[e],i=this.htmlMediaElements[e];if(t){
// find the javascript bridge
switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,i)}},
// receives events from Flash/Silverlight and sends them out as HTML5 media events
// http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html
fireEvent:function(e,t,i){var n,s,a,o=this.pluginMediaElements[e];o.ended=!1,o.paused=!0,
// fake event object to mimic real HTML media event.
n={type:t,target:o};
// attach all values to element and event object
for(s in i)o[s]=i[s],n[s]=i[s];
// fake the newer W3C buffered TimeRange (loaded and total have been removed)
a=i.bufferedTime||0,n.target.buffered=n.buffered={start:function(e){return 0},end:function(e){return a},length:1},o.dispatchEvent(n.type,n)}},/*
Default options
*/
// var modes;
// if ($.browser.msie){//} && jQuery.browser.version == '9.0'){
// modes = 'shim';
// }  
// else
// {
// modes = 'auto';
// }
mejs.MediaElementDefaults={
// allows testing on HTML5, flash, silverlight
// auto: attempts to detect what the browser can do
// native: forces HTML5 playback
// shim: disallows HTML5, will attempt either Flash or Silverlight
// none: forces fallback view
mode:"auto",
// remove or reorder to change plugin priority and availability
plugins:["flash","silverlight","youtube","vimeo"],
// shows debug errors on screen
enablePluginDebug:!1,
// overrides the type specified, useful for dynamic instantiation
type:"",
// path to Flash and Silverlight plugins
//pluginPath: mejs.Utility.getScriptPath(['mediaelement.js','mediaelement.min.js','mediaelement-and-player.js','mediaelement-and-player.min.js']),
pluginPath:"/runtimejs/mediaelement-2.9.1/",
// name of flash file
flashName:"flashmediaelement.swf",
// turns on the smoothing filter in Flash
enablePluginSmoothing:!1,
// name of silverlight file
silverlightName:"silverlightmediaelement.xap",
// default if the <video width> is not specified
defaultVideoWidth:480,
// default if the <video height> is not specified
defaultVideoHeight:270,
// Hide controls when playing and mouse is not over the video
alwaysShowControls:!0,
// overrides <video width>
pluginWidth:-1,
// overrides <video height>
pluginHeight:-1,
// additional plugin variables in 'key=value' form
pluginVars:[],
// rate in milliseconds for Flash and Silverlight to fire the timeupdate event
// larger number is less accurate, but less strain on plugin->JavaScript bridge
timerRate:250,
// initial volume for player
startVolume:.8,success:function(){},error:function(){}},/*
Determines if a browser supports the <video> or <audio> element
and returns either the native element or a Flash/Silverlight version that
mimics HTML5 MediaElement
*/
mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var i,n,s=mejs.MediaElementDefaults,a="string"==typeof e?document.getElementById(e):e,o=a.tagName.toLowerCase(),r="audio"===o||"video"===o,l=r?a.getAttribute("src"):a.getAttribute("href"),u=a.getAttribute("poster"),d=a.getAttribute("autoplay"),c=a.getAttribute("preload"),m=a.getAttribute("controls");
// extend options
for(n in t)s[n]=t[n];
// clean up attributes
// test for HTML5 and plugin capabilities
// second fix for android
// boo, no HTML5, no Flash, no Silverlight.
return l="undefined"==typeof l||null===l||""==l?null:l,u="undefined"==typeof u||null===u?"":u,c="undefined"==typeof c||null===c||"false"===c?"none":c,d=!("undefined"==typeof d||null===d||"false"===d),m=!("undefined"==typeof m||null===m||"false"===m),i=this.determinePlayback(a,s,mejs.MediaFeatures.supportsMediaTag,r,l),i.url=null!==i.url?mejs.Utility.absolutizeUrl(i.url):"","native"==i.method?(mejs.MediaFeatures.isBustedAndroid&&(a.src=i.url,a.addEventListener("click",function(){a.play()},!1)),this.updateNative(i,s,d,c)):""!==i.method?this.createPlugin(i,s,u,d,c,m):(this.createErrorMessage(i,s,u),this)},determinePlayback:function(e,t,i,n,s){var a,o,r,l,u,d,c,m,p,h,f=[],v={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()};
// STEP 1: Get URL and type from <video src> or <source src>
// supplied type overrides <video type> and <source type>
if("undefined"!=typeof t.type&&""!==t.type)
// accept either string or array of types
if("string"==typeof t.type)f.push({type:t.type,url:s});else for(a=0;a<t.type.length;a++)f.push({type:t.type[a],url:s});else if(null!==s)d=this.formatType(s,e.getAttribute("type")),f.push({type:d,url:s});else
// test <source> types to see if they are usable
for(a=0;a<e.childNodes.length;a++)u=e.childNodes[a],1==u.nodeType&&"source"==u.tagName.toLowerCase()&&(s=u.getAttribute("src"),d=this.formatType(s,u.getAttribute("type")),f.push({type:d,url:s}));
// test for native playback first
if(
// in the case of dynamicly created players
// check for audio types
!n&&f.length>0&&null!==f[0].url&&this.getTypeFromFile(f[0].url).indexOf("audio")>-1&&(v.isVideo=!1),
// STEP 2: Test for playback method
// special case for Android which sadly doesn't implement the canPlayType function (always returns '')
mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),i&&("auto"===t.mode||"native"===t.mode)){for(n||(
// create a real HTML5 Media Element 
h=document.createElement(v.isVideo?"video":"audio"),e.parentNode.insertBefore(h,e),e.style.display="none",
// use this one from now on
v.htmlMediaElement=e=h),a=0;a<f.length;a++)
// normal check
if(""!==e.canPlayType(f[a].type).replace(/no/,"")||""!==e.canPlayType(f[a].type.replace(/mp3/,"mpeg")).replace(/no/,"")){v.method="native",v.url=f[a].url;break}if("native"===v.method)return null!==v.url&&(e.src=v.url),v}
// if native playback didn't work, then test plugins
if("auto"===t.mode||"shim"===t.mode)for(a=0;a<f.length;a++)
// test all plugins in order of preference [silverlight, flash]
for(d=f[a].type,o=0;o<t.plugins.length;o++)for(c=t.plugins[o],
// test version of plugin (for future features)
m=mejs.plugins[c],r=0;r<m.length;r++)
// test if user has the correct plugin version
// for youtube/vimeo
if(p=m[r],null==p.version||mejs.PluginDetector.hasPluginVersion(c,p.version))
// test for plugin playback types
for(l=0;l<p.types.length;l++)
// find plugin that can play the type
if(d==p.types[l])return v.method=c,v.url=f[a].url,v;
// what if there's nothing to play? just grab the first available
return""===v.method&&f.length>0&&(v.url=f[0].url),v},formatType:function(e,t){
// if no type is supplied, fake it with the extension
// if no type is supplied, fake it with the extension
// only return the mime part of the type in case the attribute contains the codec
// see http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#the-source-element
// `video/mp4; codecs="avc1.42E01E, mp4a.40.2"` becomes `video/mp4`
return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){var t=e.substring(e.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+t},createErrorMessage:function(e,t,i){var n=e.htmlMediaElement,s=document.createElement("div");s.className="me-cannotplay";try{s.style.width=n.width+"px",s.style.height=n.height+"px"}catch(a){}s.innerHTML=""!==i?'<a href="'+e.url+'"><img src="'+i+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>Download File</span></a>',n.parentNode.insertBefore(s,n),n.style.display="none",t.error(n)},createPlugin:function(e,t,i,n,s,a){var o,r,l,u=e.htmlMediaElement,d=1,c=1,m="me_"+e.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(m,e.method,e.url),h=document.createElement("div");
// copy tagName from html media element
p.tagName=u.tagName;
// copy attributes from html media element to plugin media element
for(var f=0;f<u.attributes.length;f++){var v=u.attributes[f];1==v.specified&&p.setAttribute(v.name,v.value)}for(
// check for placement inside a <p> tag (sometimes WYSIWYG editors do this)
r=u.parentNode;null!==r&&"body"!=r.tagName.toLowerCase();){if("p"==r.parentNode.tagName.toLowerCase()){r.parentNode.parentNode.insertBefore(r,r.parentNode);break}r=r.parentNode}switch(e.isVideo?(d=t.videoWidth>0?t.videoWidth:null!==u.getAttribute("width")?u.getAttribute("width"):t.defaultVideoWidth,c=t.videoHeight>0?t.videoHeight:null!==u.getAttribute("height")?u.getAttribute("height"):t.defaultVideoHeight,
// in case of '%' make sure it's encoded
d=mejs.Utility.encodeUrl(d),c=mejs.Utility.encodeUrl(c)):t.enablePluginDebug&&(d=320,c=240),
// register plugin
p.success=t.success,mejs.MediaPluginBridge.registerPluginElement(m,p,u),
// add container (must be added to DOM before inserting HTML for IE)
h.className="me-plugin",h.id=m+"_container",e.isVideo?u.parentNode.insertBefore(h,u):document.body.insertBefore(h,document.body.childNodes[0]),
// flash/silverlight vars
l=["id="+m,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+s,"width="+d,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"height="+c],null!==e.url&&("flash"==e.method?l.push("file="+mejs.Utility.encodeUrl(e.url)):l.push("file="+e.url)),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),a&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),e.method){case"silverlight":h.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+m+'" name="'+m+'" width="'+d+'" height="'+c+'"><param name="initParams" value="'+l.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(o=document.createElement("div"),h.appendChild(o),o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+m+'" width="'+d+'" height="'+c+'"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+l.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):h.innerHTML='<embed id="'+m+'" name="'+m+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+l.join("&")+'" width="'+d+'" height="'+c+'"></embed>';break;case"youtube":var g=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:h,containerId:h.id,pluginMediaElement:p,pluginId:m,videoId:g,height:c,width:d},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;
// DEMO Code. Does NOT work.
case"vimeo":console.log("vimeoid"),p.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),h.innerHTML='<object width="'+d+'" height="'+c+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+p.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+p.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+d+'" height="'+c+'"></embed></object>'}
// FYI: options.success will be fired by the MediaPluginBridge
// hide original element
return u.style.display="none",p},updateNative:function(e,t,i,n){var s,a=e.htmlMediaElement;
// add methods to video object to bring it into parity with Flash Object
for(s in mejs.HtmlMediaElement)a[s]=mejs.HtmlMediaElement[s];/*
		Chrome now supports preload="none"
		if (mejs.MediaFeatures.isChrome) {
		
			// special case to enforce preload attribute (Chrome doesn't respect this)
			if (preload === 'none' && !autoplay) {
			
				// forces the browser to stop loading (note: fails in IE9)
				htmlMediaElement.src = '';
				htmlMediaElement.load();
				htmlMediaElement.canceledPreload = true;

				htmlMediaElement.addEventListener('play',function() {
					if (htmlMediaElement.canceledPreload) {
						htmlMediaElement.src = playback.url;
						htmlMediaElement.load();
						htmlMediaElement.play();
						htmlMediaElement.canceledPreload = false;
					}
				}, false);
			// for some reason Chrome forgets how to autoplay sometimes.
			} else if (autoplay) {
				htmlMediaElement.load();
				htmlMediaElement.play();
			}
		}
		*/
// fire success code
return t.success(a,a),a}},/*
 - test on IE (object vs. embed)
 - determine when to use iframe (Firefox, Safari, Mobile) vs. Flash (Chrome, IE)
 - fullscreen?
*/
// YouTube Flash and Iframe API
mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,i=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){
// hook up iframe object to MEjs
e.pluginMediaElement.pluginApi=i,
// init mejs
mejs.MediaPluginBridge.initPlugin(e.pluginId),
// create timer
setInterval(function(){mejs.YouTubeApi.createEvent(i,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,i,t)}}})},createEvent:function(e,t,i){var n={type:i,target:t};if(e&&e.getDuration){
// time 
t.currentTime=n.currentTime=e.getCurrentTime(),t.duration=n.duration=e.getDuration(),
// state
n.paused=t.paused,n.ended=t.ended,
// sound
n.muted=e.isMuted(),n.volume=e.getVolume()/100,
// progress
n.bytesTotal=e.getVideoBytesTotal(),n.bufferedBytes=e.getVideoBytesLoaded();
// fake the W3C buffered TimeRange
var s=n.bufferedBytes/n.bytesTotal*n.duration;n.target.buffered=n.buffered={start:function(e){return 0},end:function(e){return s},length:1}}
// send event up the chain
t.dispatchEvent(n.type,n)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},
// FLASH!
flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;/*
		settings.container.innerHTML =
			'<object type="application/x-shockwave-flash" id="' + settings.pluginId + '" data="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid=' + settings.pluginId  + '&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0" ' +
				'width="' + settings.width + '" height="' + settings.height + '" style="visibility: visible; ">' +
				'<param name="allowScriptAccess" value="always">' +
				'<param name="wmode" value="transparent">' +
			'</object>';
		*/
var t,i="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+i+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+i+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],i=document.getElementById(e),n=t.pluginMediaElement;
// hook up and return to MediaELementPlayer.success	
n.pluginApi=n.pluginElement=i,mejs.MediaPluginBridge.initPlugin(e),
// load the youtube video
i.cueVideoById(t.videoId);var s=t.containerId+"_callback";window[s]=function(e){mejs.YouTubeApi.handleStateChange(e,i,n)},i.addEventListener("onStateChange",s),setInterval(function(){mejs.YouTubeApi.createEvent(i,n,"timeupdate")},250)},handleStateChange:function(e,t,i){switch(e){case-1:// not started
i.paused=!0,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"loadedmetadata");
//createYouTubeEvent(player, pluginMediaElement, 'loadeddata');
break;case 0:i.paused=!1,i.ended=!0,mejs.YouTubeApi.createEvent(t,i,"ended");break;case 1:i.paused=!1,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"play"),mejs.YouTubeApi.createEvent(t,i,"playing");break;case 2:i.paused=!0,i.ended=!1,mejs.YouTubeApi.createEvent(t,i,"pause");break;case 3:// buffering
mejs.YouTubeApi.createEvent(t,i,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2012, John Dyer (http://j.hn/)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(e){
// default player values
mejs.MepDefaults={
// url to poster (to fix iOS 3.x)
poster:"",
// default if the <video width> is not specified
defaultVideoWidth:480,
// default if the <video height> is not specified
defaultVideoHeight:270,
// if set, overrides <video width>
videoWidth:-1,
// if set, overrides <video height>
videoHeight:-1,
// default if the user doesn't specify
defaultAudioWidth:400,
// default if the user doesn't specify
defaultAudioHeight:30,
// width of audio player
audioWidth:-1,
// height of audio player
audioHeight:-1,
// initial volume when the player starts (overrided by user cookie)
startVolume:.8,
// useful for <audio> player loops
loop:!1,
// resize to media dimensions
enableAutosize:!0,
// forces the hour marker (##:00:00)
alwaysShowHours:!1,
// show framecount in timecode (##:00:00:00)
showTimecodeFrameCount:!1,
// used when showTimecodeFrameCount is set to true
framesPerSecond:25,
// automatically calculate the width of the progress bar based on the sizes of other elements
autosizeProgress:!0,
// Hide controls when playing and mouse is not over the video
alwaysShowControls:!1,
// force iPad's native controls
iPadUseNativeControls:!1,
// force iPhone's native controls
iPhoneUseNativeControls:!1,
// force Android's native controls
AndroidUseNativeControls:!1,
// features to show
features:["playpause","current","progress","duration","tracks","volume","fullscreen"],
// only for dynamic
isVideo:!0,
// turns keyboard support on and off for this instance
//enableKeyboard: true,
// whenthis player starts, it will pause other players
pauseOtherPlayers:!0},mejs.mepIndex=0,mejs.players=[],
// wraps a MediaElement object in player controls
mejs.MediaElementPlayer=function(t,i){
// enforce object, even without "new" (via John Resig)
if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,i);var n=this;
// check for existing player
// these will be reset after the MediaElement.success fires
// check for existing player
// attach player to DOM node for reference
// try to get options from data-mejsoptions
// extend default options
// add to player array (for focus events)
// start up
return n.$media=n.$node=e(t),n.node=n.media=n.$media[0],"undefined"!=typeof n.node.player?n.node.player:(n.node.player=n,"undefined"==typeof i&&(i=n.$node.data("mejsoptions")),n.options=e.extend({},mejs.MepDefaults,i),mejs.players.push(n),n.init(),n)},
// actual player
mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,i=mejs.MediaFeatures,
// options for MediaElement (shim)
n=e.extend(!0,{},t.options,{success:function(e,i){t.meReady(e,i)},error:function(e){t.handleError(e)}}),s=t.media.tagName.toLowerCase();
// use native controls in iPad, iPhone, and Android	
if(t.isDynamic="audio"!==s&&"video"!==s,t.isDynamic?
// get video from src or href?				
t.isVideo=t.options.isVideo:t.isVideo="audio"!==s&&t.options.isVideo,i.isiPhone&&null!==t.media.getAttribute("autoplay")&&(t.media.load(),t.media.play()),i.isAndroid&&null!==t.media.getAttribute("autoplay")&&(t.media.load(),t.media.play()),i.isiPad&&t.options.iPadUseNativeControls||i.isiPhone&&t.options.iPhoneUseNativeControls)
// add controls and stop
t.$media.attr("controls","controls"),
// attempt to fix iOS 3 bug
//t.$media.removeAttr('poster');
// no Issue found on iOS3 -ttroxell
// override Apple's autoplay override for iPads
i.isiPad&&null!==t.media.getAttribute("autoplay")&&(t.media.load(),t.media.play());else if(i.isAndroid&&t.AndroidUseNativeControls);else{
// move the <video/video> tag into the right spot
if(
// DESKTOP: use MediaElementPlayer controls
// remove native controls 			
t.$media.removeAttr("controls"),
// unique ID
t.id="mep_"+mejs.mepIndex++,
// build container
t.container=e('<div id="'+t.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(t.$media[0].className).insertBefore(t.$media),
// add classes for user and content
t.container.addClass((i.isAndroid?"mejs-android ":"")+(i.isiOS?"mejs-ios ":"")+(i.isiPad?"mejs-ipad ":"")+(i.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),i.isiOS){
// sadly, you can't move nodes in iOS, so we have to destroy and recreate it!
var a=t.$media.clone();t.container.find(".mejs-mediaelement").append(a),t.$media.remove(),t.$node=t.$media=a,t.node=t.media=a[0]}else
// normal way of moving it into place (doesn't work on iOS)
t.container.find(".mejs-mediaelement").append(t.$media);
// find parts
t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");
// determine the size
/* size priority:
					(1) videoWidth (forced), 
					(2) style="width;height;"
					(3) width attribute,
					(4) defaultVideoWidth (for unspecified cases)
				*/
var o=s.substring(0,1).toUpperCase()+s.substring(1);t.options[s+"Width"]>0||t.options[s+"Width"].toString().indexOf("%")>-1?t.width=t.options[s+"Width"]:""!==t.media.style.width&&null!==t.media.style.width?t.width=t.media.style.width:null!==t.media.getAttribute("width")?t.width=t.$media.attr("width"):t.width=t.options["default"+o+"Width"],t.options[s+"Height"]>0||t.options[s+"Height"].toString().indexOf("%")>-1?t.height=t.options[s+"Height"]:""!==t.media.style.height&&null!==t.media.style.height?t.height=t.media.style.height:null!==t.$media[0].getAttribute("height")?t.height=t.$media.attr("height"):t.height=t.options["default"+o+"Height"],
// set the size, while we wait for the plugins to load below
t.setPlayerSize(t.width,t.height),
// create MediaElementShim
n.pluginWidth=t.height,n.pluginHeight=t.width}
// create MediaElement shim
mejs.MediaElement(t.$media[0],n)},showControls:function(e){var t=this;e="undefined"==typeof e||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0}),
// any additional controls people might add and want to hide
t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),
// any additional controls people might add and want to hide
t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0),t.setControlsSize())},hideControls:function(t){var i=this;t="undefined"==typeof t||t,i.controlsAreVisible&&(t?(
// fade out main controls
i.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),i.controlsAreVisible=!1}),
// any additional controls people might add and want to hide
i.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(
// hide main controls
i.controls.css("visibility","hidden").css("display","block"),
// hide others
i.container.find(".mejs-control").css("visibility","hidden").css("display","block"),i.controlsAreVisible=!1))},controlsTimer:null,startControlsTimer:function(e){var t=this;e="undefined"!=typeof e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){
//console.log('timer fired');
t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(e){var t=this;null!==t.controlsTimer&&(clearTimeout(t.controlsTimer),delete t.controlsTimer,t.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0},
// Sets up all controls and events
meReady:function(t,i){var n,s,a=this,o=mejs.MediaFeatures,r=i.getAttribute("autoplay"),l=!("undefined"==typeof r||null===r||"false"===r);
// make sure it can't create itself again if a plugin reloads
if(!a.created){if(a.created=!0,a.media=t,a.domNode=i,!(o.isAndroid&&a.options.AndroidUseNativeControls||o.isiPad&&a.options.iPadUseNativeControls||o.isiPhone&&a.options.iPhoneUseNativeControls)){
// two built in features
a.buildposter(a,a.controls,a.layers,a.media),a.buildkeyboard(a,a.controls,a.layers,a.media),a.buildoverlays(a,a.controls,a.layers,a.media),
// grab for use by features
a.findTracks();
// add user-defined features/controls
for(n in a.options.features)if(s=a.options.features[n],a["build"+s])try{a["build"+s](a,a.controls,a.layers,a.media)}catch(u){}
// controls fade
if(a.container.trigger("controlsready"),
// reset all layers and controls
a.setPlayerSize(a.width,a.height),a.setControlsSize(),a.isVideo){if(mejs.MediaFeatures.hasTouch)
// for touch devices (iOS, Android)
// show/hide without animation on touch
a.$media.bind("touchstart",function(){
// toggle controls
a.controlsAreVisible?a.hideControls(!1):a.controlsEnabled&&a.showControls(!1)});else{
// click controls
var d="native"==a.media.pluginType?a.$media:e(a.media.pluginElement);
// click to play/pause
d.click(function(){t.paused?t.play():t.pause()}),
// show/hide controls
a.container.bind("mouseenter mouseover",function(){a.controlsEnabled&&(a.options.alwaysShowControls||(a.killControlsTimer("enter"),a.showControls(),a.startControlsTimer(2500)))}).bind("mousemove",function(){a.controlsEnabled&&(a.controlsAreVisible||a.showControls(),
//t.killControlsTimer('move');
a.options.alwaysShowControls||a.startControlsTimer(2500))}).bind("mouseleave",function(){a.controlsEnabled&&(a.media.paused||a.options.alwaysShowControls||a.startControlsTimer(1e3))})}
// check for autoplay
l&&!a.options.alwaysShowControls&&a.hideControls(),
// resizer
a.options.enableAutosize&&a.media.addEventListener("loadedmetadata",function(e){
// if the <video height> was not set and the options.videoHeight was not set
// then resize to the real dimensions
a.options.videoHeight<=0&&null===a.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(a.setPlayerSize(e.target.videoWidth,e.target.videoHeight),a.setControlsSize(),a.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)}
// EVENTS
// FOCUS: when a video starts playing, it takes focus from other players (possibily pausing them)
t.addEventListener("play",function(){
// go through all other players
for(var e=0,t=mejs.players.length;t>e;e++){var i=mejs.players[e];i.id==a.id||!a.options.pauseOtherPlayers||i.paused||i.ended||i.pause(),i.hasFocus=!1}a.hasFocus=!0},!1),
// ended for all
a.media.addEventListener("ended",function(e){try{a.media.setCurrentTime(0)}catch(t){}a.media.pause(),a.setProgressRail&&a.setProgressRail(),a.setCurrentRail&&a.setCurrentRail(),a.options.loop?a.media.play():!a.options.alwaysShowControls&&a.controlsEnabled&&a.showControls()},!1),
// resize on the first play
a.media.addEventListener("loadedmetadata",function(e){a.updateDuration&&a.updateDuration(),a.updateCurrent&&a.updateCurrent(),a.isFullScreen||(a.setPlayerSize(a.width,a.height),a.setControlsSize())},!1),
// webkit has trouble doing this without a delay
setTimeout(function(){a.setPlayerSize(a.width,a.height),a.setControlsSize()},50),
// adjust controls whenever window sizes (used to be in fullscreen only)
e(window).resize(function(){
// don't resize for fullscreen mode				
a.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||a.setPlayerSize(a.width,a.height),
// always adjust controls
a.setControlsSize()}),
// TEMP: needs to be moved somewhere else
"youtube"==a.media.pluginType&&a.container.find(".mejs-overlay-play").hide()}
// force autoplay for HTML5
l&&"native"==t.pluginType&&(t.load(),t.play()),a.options.success&&("string"==typeof a.options.success?window[a.options.success](a.media,a.domNode,a):a.options.success(a.media,a.domNode,a))}},handleError:function(e){var t=this;t.controls.hide(),
// Tell user that the file cannot be played
t.options.error&&t.options.error(e)},setPlayerSize:function(t,i){var n=this;
// detect 100% mode
if("undefined"!=typeof t&&(n.width=t),"undefined"!=typeof i&&(n.height=i),n.height.toString().indexOf("%")>0){
// do we have the native dimensions yet?
var s=n.media.videoWidth&&n.media.videoWidth>0?n.media.videoWidth:n.options.defaultVideoWidth,a=n.media.videoHeight&&n.media.videoHeight>0?n.media.videoHeight:n.options.defaultVideoHeight,o=n.container.parent().width(),r=parseInt(o*a/s,10);"body"===n.container.parent()[0].tagName.toLowerCase()&&(// && t.container.siblings().count == 0) {
o=e(window).width(),r=e(window).height()),
// set outer container size
n.container.width(o).height(r),
// set native <video>
n.$media.width("100%").height("100%"),
// set shims
n.container.find("object, embed, iframe").width("100%").height("100%"),
// if shim is ready, send the size to the embeded plugin	
n.media.setVideoSize&&n.media.setVideoSize(o,r),
// set the layers
n.layers.children(".mejs-layer").width("100%").height("100%")}else n.container.width(n.width).height(n.height),n.layers.children(".mejs-layer").width(n.width).height(n.height)},setControlsSize:function(){var t=this,i=0,n=0,s=t.controls.find(".mejs-time-rail"),a=t.controls.find(".mejs-time-total"),o=(t.controls.find(".mejs-time-current"),t.controls.find(".mejs-time-loaded"),s.siblings());
// allow the size to come from custom CSS
t.options&&!t.options.autosizeProgress&&(
// Also, frontends devs can be more flexible 
// due the opportunity of absolute positioning.
n=parseInt(s.css("width"))),
// attempt to autosize
0!==n&&n||(
// find the size of all the other controls besides the rail
o.each(function(){"absolute"!=e(this).css("position")&&(i+=e(this).outerWidth(!0))}),
// fit the rail into the remaining space
n=t.controls.width()-i-(s.outerWidth(!0)-s.width())-1),
// outer area
s.width(n),
// dark space
a.width(n-(a.outerWidth(!0)-a.width())),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()},buildposter:function(t,i,n,s){var a=this,o=e('<div class="mejs-poster mejs-layer"></div>').appendTo(n),r=t.$media.attr("poster");
// prioriy goes to option (this is useful if you need to support iOS 3.x (iOS completely fails with poster)
""!==t.options.poster&&(r=t.options.poster),
// second, try the real poster
""!==r&&null!=r?a.setPoster(r):o.hide(),s.addEventListener("play",function(){o.hide()},!1)},setPoster:function(t){var i=this,n=i.container.find(".mejs-poster"),s=n.find("img");0==s.length&&(s=e('<img width="100%" height="100%" />').appendTo(n)),s.attr("src",t)},buildoverlays:function(t,i,n,s){if(t.isVideo){var a=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(n),o=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(n),
// this needs to come last so it's on top
r=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(n).click(function(){s.paused?s.play():s.pause()});/*
			if (mejs.MediaFeatures.isiOS || mejs.MediaFeatures.isAndroid) {
				bigPlay.remove();
				loading.remove();
			}
			*/
// show/hide big play button
s.addEventListener("play",function(){r.hide(),a.hide(),i.find(".mejs-time-buffering").hide(),o.hide()},!1),s.addEventListener("playing",function(){r.hide(),a.hide(),i.find(".mejs-time-buffering").hide(),o.hide()},!1),s.addEventListener("seeking",function(){a.show(),i.find(".mejs-time-buffering").show()},!1),s.addEventListener("seeked",function(){a.hide(),i.find(".mejs-time-buffering").hide()},!1),s.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||r.show()},!1),s.addEventListener("waiting",function(){a.show(),i.find(".mejs-time-buffering").show()},!1),
// show/hide loading			
s.addEventListener("loadeddata",function(){
// for some reason Chrome is firing this event
//if (mejs.MediaFeatures.isChrome && media.getAttribute && media.getAttribute('preload') === 'none')
//	return;
a.show(),i.find(".mejs-time-buffering").show()},!1),s.addEventListener("canplay",function(){a.hide(),i.find(".mejs-time-buffering").hide()},!1),
// error handling
s.addEventListener("error",function(){a.hide(),i.find(".mejs-time-buffering").hide(),o.show(),o.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(t,i,n,s){
// listen for key presses
e(document).keydown(function(e){if(t.hasFocus&&t.options.enableKeyboard)
// find a matching key
for(var i=0,n=t.options.keyActions.length;n>i;i++)for(var a=t.options.keyActions[i],o=0,r=a.keys.length;r>o;o++)if(e.keyCode==a.keys[o])return e.preventDefault(),a.action(t,s),!1;return!0}),
// check if someone clicked outside a player region, then kill its focus
e(document).click(function(i){0==e(i.target).closest(".mejs-container").length&&(t.hasFocus=!1)})},findTracks:function(){var t=this,i=t.$media.find("track");
// store for use by plugins
t.tracks=[],i.each(function(i,n){n=e(n),t.tracks.push({srclang:n.attr("srclang").toLowerCase(),src:n.attr("src"),kind:n.attr("kind"),label:n.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e=this;"flash"==e.media.pluginType?e.media.remove():"native"==e.media.pluginType&&e.media.prop("controls",!0),
// grab video and put it back in place
e.isDynamic||e.$node.insertBefore(e.container),e.container.remove()}},
// turn into jQuery plugin
"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(e){return this.each(function(){new mejs.MediaElementPlayer(this,e)})}),e(document).ready(function(){
// auto enable using JSON attribute
e(".mejs-player").mediaelementplayer()}),
// push out to window
window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"}),
// PLAY/pause BUTTON
e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,i,n,s){var a=this,o=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+a.id+'" title="'+a.options.playpauseText+'"></button></div>').appendTo(i).click(function(e){return e.preventDefault(),s.paused?s.play():s.pause(),!1});s.addEventListener("play",function(){o.removeClass("mejs-play").addClass("mejs-pause")},!1),s.addEventListener("playing",function(){o.removeClass("mejs-play").addClass("mejs-pause")},!1),s.addEventListener("pause",function(){o.removeClass("mejs-pause").addClass("mejs-play")},!1),s.addEventListener("paused",function(){o.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),
// STOP BUTTON
e.extend(MediaElementPlayer.prototype,{buildstop:function(t,i,n,s){var a=this;e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+a.id+'" title="'+a.options.stopText+'"></button></div>').appendTo(i).click(function(){s.paused||s.pause(),s.currentTime>0&&(s.setCurrentTime(0),i.find(".mejs-time-current").width("0px"),i.find(".mejs-time-handle").css("left","0px"),i.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),i.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-poster").show())})}})}(mejs.$),function(e){
// progress/loaded bar
e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,i,n,s){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(i),i.find(".mejs-time-buffering").hide();var a=this,o=i.find(".mejs-time-total"),r=i.find(".mejs-time-loaded"),l=i.find(".mejs-time-current"),u=i.find(".mejs-time-handle"),d=i.find(".mejs-time-float"),c=i.find(".mejs-time-float-current"),m=function(e){
// mouse position relative to the object
var t=e.pageX,i=o.offset(),n=o.outerWidth(),a=0,r=0,l=t-i.left;t>i.left&&t<=n+i.left&&s.duration&&(a=(t-i.left)/n,r=.02>=a?0:a*s.duration,
// seek to where the mouse is
p&&s.setCurrentTime(r),
// position floating time box
mejs.MediaFeatures.hasTouch||(d.css("left",l),c.html(mejs.Utility.secondsToTimeCode(r)),d.show()))},p=!1,h=!1;
// handle clicks
//controls.find('.mejs-time-rail').delegate('span', 'click', handleMouseMove);
o.bind("mousedown",function(t){
// only handle left clicks
// only handle left clicks
return 1===t.which?(p=!0,m(t),e(document).bind("mousemove.dur",function(e){m(e)}).bind("mouseup.dur",function(t){p=!1,d.hide(),e(document).unbind(".dur")}),!1):void 0}).bind("mouseenter",function(t){h=!0,e(document).bind("mousemove.dur",function(e){m(e)}),mejs.MediaFeatures.hasTouch||d.show()}).bind("mouseleave",function(t){h=!1,p||(e(document).unbind(".dur"),d.hide())}),
// loading
s.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),
// current time
s.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),
// store for later use
a.loaded=r,a.total=o,a.current=l,a.handle=u},setProgressRail:function(e){var t=this,i=void 0!=e?e.target:t.media,n=null;
// newest HTML5 spec has buffered array (FF4, Webkit)
i&&i.buffered&&i.buffered.length>0&&i.buffered.end&&i.duration?
// TODO: account for a real array with multiple values (only Firefox 4 has this so far) 
n=i.buffered.end(0)/i.duration:i&&void 0!=i.bytesTotal&&i.bytesTotal>0&&void 0!=i.bufferedBytes?n=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(n=e.loaded/e.total),
// finally update the progress bar
null!==n&&(n=Math.min(1,Math.max(0,n)),
// update loaded bar
t.loaded&&t.total&&t.loaded.width(t.total.width()*n))},setCurrentRail:function(){var e=this;if(void 0!=e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=e.total.width()*e.media.currentTime/e.media.duration,i=t-e.handle.outerWidth(!0)/2;e.current.width(t),e.handle.css("left",i)}}})}(mejs.$),function(e){
// options
e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "}),
// current and duration 00:00 / 00:00
e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,i,n,s){var a=this;e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(i),a.currenttime=a.controls.find(".mejs-currenttime"),s.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,i,n,s){var a=this;i.children().last().find(".mejs-currenttime").length>0?e(a.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(i.find(".mejs-time")):(
// add class to current time
i.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(a.options.duration>0?mejs.Utility.secondsToTimeCode(a.options.duration,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(i)),a.durationD=a.controls.find(".mejs-duration"),s.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){var e=this;e.currenttime&&e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))},updateDuration:function(){var e=this;e.media.duration&&e.durationD&&e.durationD.html(mejs.Utility.secondsToTimeCode(e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,i,n,s){
// Android and iOS don't support volume controls
if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var a=this,o=a.isVideo?a.options.videoVolume:a.options.audioVolume,r="horizontal"==o?
// horizontal version
e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(i):
// vertical version
e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+a.id+'" title="'+a.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(i),l=a.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),u=a.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),d=a.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),c=a.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),m=function(e,t){if(!l.is(":visible")&&"undefined"!=typeof t)return l.show(),m(e,!0),void l.hide();
// position slider 
if(
// correct to 0-1
e=Math.max(0,e),e=Math.min(e,1),
// ajust mute button style
0==e?r.removeClass("mejs-mute").addClass("mejs-unmute"):r.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==o){var
// height of the full size volume slider background
i=u.height(),
// top/left of full size volume slider background
n=u.position(),
// the new top position based on the current volume
// 70% volume on 100px height == top:30px
s=i-i*e;
// handle
c.css("top",n.top+s-c.height()/2),
// show the current visibility
d.height(i-s),d.css("top",n.top+s)}else{var
// height of the full size volume slider background
a=u.width(),
// top/left of full size volume slider background
n=u.position(),
// the new left position based on the current volume
p=a*e;
// handle
c.css("left",n.left+p-c.width()/2),
// rezize the current part of the volume bar
d.width(p)}},p=function(e){var t=null,i=u.offset();
// calculate the new volume based on the moust position
if("vertical"==o){var n=u.height(),a=(parseInt(u.css("top").replace(/px/,""),10),e.pageY-i.top);
// the controls just hide themselves (usually when mouse moves too far up)
if(t=(n-a)/n,0==i.top||0==i.left)return}else{var r=u.width(),l=e.pageX-i.left;t=l/r}
// ensure the volume isn't outside 0-1
t=Math.max(0,t),t=Math.min(t,1),
// position the slider and handle			
m(t),
// set the media object (this will trigger the volumechanged event)
0==t?s.setMuted(!0):s.setMuted(!1),s.setVolume(t)},h=!1,f=!1;
// SLIDER
r.hover(function(){l.show(),f=!0},function(){f=!1,h||"vertical"!=o||l.hide()}),l.bind("mouseover",function(){f=!0}).bind("mousedown",function(t){return p(t),e(document).bind("mousemove.vol",function(e){p(e)}).bind("mouseup.vol",function(){h=!1,e(document).unbind(".vol"),f||"vertical"!=o||l.hide()}),h=!0,!1}),
// MUTE button
r.find("button").click(function(){s.setMuted(!s.muted)}),
// listen for volume change events from other sources
s.addEventListener("volumechange",function(e){h||(s.muted?(m(0),r.removeClass("mejs-mute").addClass("mejs-unmute")):(m(s.volume),r.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),a.container.is(":visible")&&(
// set initial volume
m(t.options.startVolume),
// shim gets the startvolume as a parameter, but we have to set it on the native <video> and <audio> elements
"native"===s.pluginType&&s.setVolume(t.options.startVolume))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,docStyleOverflow:null,isInIframe:!1,buildfullscreen:function(t,i,n,s){if(t.isVideo){
// native events
if(t.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){
// chrome doesn't alays fire this in an iframe
var a=null;a=mejs.MediaFeatures.hasMozNativeFullScreen?e(document):t.container,a.bind(mejs.MediaFeatures.fullScreenEventName,function(e){
//player.container.bind('webkitfullscreenchange', function(e) {
mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,
// reset the controls once we are fully in full screen
t.setControlsSize()):(t.isNativeFullScreen=!1,
// when a user presses ESC
// make sure to put the player back into place								
t.exitFullScreen())})}var o=this,r=(t.container,e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.fullscreenText+'"></button></div>').appendTo(i));if("native"===o.media.pluginType||!o.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)r.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;e?t.exitFullScreen():t.enterFullScreen()});else{var l=null,u=function(){
// TAKEN FROM MODERNIZR
var e,t=document.createElement("x"),i=document.documentElement,n=window.getComputedStyle;return"pointerEvents"in t.style?(t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t),e=n&&"auto"===n(t,"").pointerEvents,i.removeChild(t),!!e):!1}();
// console.log('supportsPointerEvents', supportsPointerEvents);
if(u&&!mejs.MediaFeatures.isOpera){// opera doesn't allow this :(
// allows clicking through the fullscreen button and controls down directly to Flash
/*
						 When a user puts his mouse over the fullscreen button, the controls are disabled
						 So we put a div over the video and another one on iether side of the fullscreen button
						 that caputre mouse movement
						 and restore the controls once the mouse moves outside of the fullscreen button
						*/
var d=!1,c=function(){d&&(
// hide the hovers
m.hide(),p.hide(),h.hide(),
// restore the control bar
r.css("pointer-events",""),o.controls.css("pointer-events",""),
// store for later
d=!1)},m=e('<div class="mejs-fullscreen-hover" />').appendTo(o.container).mouseover(c),p=e('<div class="mejs-fullscreen-hover"  />').appendTo(o.container).mouseover(c),h=e('<div class="mejs-fullscreen-hover"  />').appendTo(o.container).mouseover(c),f=function(){var e={position:"absolute",top:0,left:0};//, backgroundColor: '#f00'};
m.css(e),p.css(e),h.css(e),
// over video, but not controls
m.width(o.container.width()).height(o.container.height()-o.controls.height());
// over controls, but not the fullscreen button
var t=r.offset().left-o.container.offset().left;fullScreenBtnWidth=r.outerWidth(!0),p.width(t).height(o.controls.height()).css({top:o.container.height()-o.controls.height()}),
// after the fullscreen button
h.width(o.container.width()-t-fullScreenBtnWidth).height(o.controls.height()).css({top:o.container.height()-o.controls.height(),left:t+fullScreenBtnWidth})};e(document).resize(function(){f()}),
// on hover, kill the fullscreen button's HTML handling, allowing clicks down to Flash
r.mouseover(function(){if(!o.isFullScreen){var e=r.offset(),i=t.container.offset();
// move the button in Flash into place
s.positionFullscreenButton(e.left-i.left,e.top-i.top,!1),
// allows click through
r.css("pointer-events","none"),o.controls.css("pointer-events","none"),
// show the divs that will restore things
m.show(),h.show(),p.show(),f(),d=!0}}),
// restore controls anytime the user enters or leaves fullscreen	
s.addEventListener("fullscreenchange",function(e){c()})}else
// the hover state will show the fullscreen button in Flash to hover up and click
r.mouseover(function(){null!==l&&(clearTimeout(l),delete l);var e=r.offset(),i=t.container.offset();s.positionFullscreenButton(e.left-i.left,e.top-i.top,!0)}).mouseout(function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){s.hideFullscreenButton()},1500)})}t.fullscreenBtn=r,e(document).bind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||o.isFullScreen)&&27==e.keyCode&&t.exitFullScreen()})}},enterFullScreen:function(){var t=this;
// firefox+flash can't adjust plugin sizes without resetting :(
if("native"===t.media.pluginType||!mejs.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){
// attempt to do true fullscreen (Safari 5.1 and Firefox Nightly only for now)
if(
// store overflow 
docStyleOverflow=document.documentElement.style.overflow,
// set it to not show scroll bars so 100% will work
document.documentElement.style.overflow="hidden",
// store sizing
normalHeight=t.container.height(),normalWidth=t.container.width(),"native"===t.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),
//return;
t.isInIframe&&
// sometimes exiting from fullscreen doesn't work
// notably in Chrome <iframe>. Fixed in version 17
setTimeout(function n(){t.isNativeFullScreen&&(
// check if the video is suddenly not really fullscreen
e(window).width()!==screen.width?
// manually exit
t.exitFullScreen():
// test again
setTimeout(n,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void t.media.webkitEnterFullscreen();
// check for iframe launch
if(t.isInIframe){var i=t.options.newWindowCallback(this);if(""!==i){
// launch immediately
if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),void window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}
// full window code
// make full size
t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),
//.css({position: 'fixed', left: 0, top: 0, right: 0, bottom: 0, overflow: 'hidden', width: '100%', height: '100%', 'z-index': 1000});				
// Only needed for safari 5.1 native full screen, can cause display issues elsewhere
// Actually, it seems to be needed for IE8, too
//if (mejs.MediaFeatures.hasTrueNativeFullScreen) {
setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),
//}
"native"===t.pluginType?t.$media.width("100%").height("100%"):(t.container.find("object, embed, iframe").width("100%").height("100%"),
//if (!mejs.MediaFeatures.hasTrueNativeFullScreen) {
t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0}},exitFullScreen:function(){var e=this;
// firefox can't adjust plugins
// firefox can't adjust plugins
// come outo of native fullscreen
// restore scroll bars to document
//.css({position: '', left: '', top: '', right: '', bottom: '', overflow: 'inherit', width: normalWidth + 'px', height: normalHeight + 'px', 'z-index': 1});
return"native"!==e.media.pluginType&&mejs.MediaFeatures.isFirefox?void e.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||e.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),document.documentElement.style.overflow=docStyleOverflow,e.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===e.pluginType?e.$media.width(normalWidth).height(normalHeight):(e.container.find("object embed").width(normalWidth).height(normalHeight),e.media.setVideoSize(normalWidth,normalHeight)),e.layers.children("div").width(normalWidth).height(normalHeight),e.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),e.setControlsSize(),void(e.isFullScreen=!1))}})}(mejs.$),function(e){
// add extra default options 
e.extend(mejs.MepDefaults,{
// this will automatically turn on a <track>
startLanguage:"",tracksText:"Captions/Subtitles"}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,i,n,s){if(t.isVideo&&0!=t.tracks.length){var a,o=this;
// add to list
for(t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(n).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(n).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">None</label></li></ul></div></div>').appendTo(i).hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){if(lang=this.value,"none"==lang)t.selectedTrack=null;else for(a=0;a<t.tracks.length;a++)if(t.tracks[a].srclang==lang){t.selectedTrack=t.tracks[a],t.captions.attr("lang",t.selectedTrack.srclang),t.displayCaptions();break}}),
//.bind('mouseenter', function() {
//	player.captionsButton.find('.mejs-captions-selector').css('visibility','visible')
//});
t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):
// move with controls
t.container.bind("mouseenter",function(){
// push captions above controls
t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){s.paused||
// move back to normal place
t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,a=0;a<t.tracks.length;a++)"subtitles"==t.tracks[a].kind&&t.addTrackButton(t.tracks[a].srclang,t.tracks[a].label);t.loadNextTrack(),s.addEventListener("timeupdate",function(e){t.displayCaptions()},!1),s.addEventListener("loadedmetadata",function(e){t.displayChapters()},!1),t.container.hover(function(){
// chapters
t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!s.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),
// check for autoplay
null!==t.node.getAttribute("autoplay")&&t.chapters.css("visibility","hidden")}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):
// add done?
e.isLoadingTrack=!1},loadTrack:function(t){var i=this,n=i.tracks[t],s=function(){n.isLoaded=!0,
// create button
//t.addTrackButton(track.srclang);
i.enableTrackButton(n.srclang,n.label),i.loadNextTrack()};n.isTranslation?
// translate the first track
mejs.TrackFormatParser.translateTrackText(i.tracks[0].entries,i.tracks[0].srclang,n.srclang,i.options.googleApiKey,function(e){
// store the new translation
n.entries=e,s()}):e.ajax({url:n.src,success:function(e){
// parse the loaded file
n.entries=mejs.TrackFormatParser.parse(e),s(),"chapters"==n.kind&&i.media.duration>0&&i.drawChapters(n)},error:function(){i.loadNextTrack()}})},enableTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(i),
// auto select
n.options.startLanguage==t&&e("#"+n.id+"_captions_"+t).click(),n.adjustLanguageBox()},addTrackButton:function(t,i){var n=this;""===i&&(i=mejs.language.codes[t]||t),n.captionsButton.find("ul").append(e('<li><input type="radio" name="'+n.id+'_captions" id="'+n.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+n.id+"_captions_"+t+'">'+i+" (loading)</label></li>")),n.adjustLanguageBox(),
// remove this from the dropdownlist (if it exists)
n.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;
// adjust the size of the outer box
e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},displayCaptions:function(){if("undefined"!=typeof this.tracks){var e,t=this,i=t.selectedTrack;if(null!=i&&i.isLoaded){for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return t.captionsText.html(i.entries.text[e]),void t.captions.show().height(0);t.captions.hide()}else t.captions.hide()}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(t){var i,n,s=this,
//width,
//left,
a=0,o=0;for(s.chapters.empty(),i=0;i<t.entries.times.length;i++)n=t.entries.times[i].stop-t.entries.times[i].start,a=Math.floor(n/s.media.duration*100),(a+o>100||// too large
i==t.entries.times.length-1&&100>a+o)&&(a=100-o),
//width = Math.floor(t.width * dur / t.media.duration);
//left = Math.floor(t.width * chapters.entries.times[i].start / t.media.duration);
//if (left + width > t.width) {
//	width = t.width - left;
//}
s.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[i].start+'" style="left: '+o.toString()+"%;width: "+a.toString()+'%;"><div class="mejs-chapter-block'+(i==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[i]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[i].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[i].stop)+"</span></div></div>")),o+=a;s.chapters.find("div.mejs-chapter").click(function(){s.media.setCurrentTime(parseFloat(e(this).attr("rel"))),s.media.paused&&s.media.play()}),s.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",
//'pt-pt':'Portuguese (Portugal)',
ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},/*
	Parses WebVVT format which should be formatted as
	================================
	WEBVTT
	
	1
	00:00:01,1 --> 00:00:05,000
	A line of text

	2
	00:01:15,1 --> 00:02:05,000
	A second line of text
	
	===============================

	Adapted from: http://www.delphiki.com/html5/playr
	*/
mejs.TrackFormatParser={
// match start "chapter-" (or anythingelse)
pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(e,t){
// normal version for compliant browsers
// see below for IE fix
return e.split(t)},parse:function(e){for(var t,i,n=0,s=this.split2(e,/\r?\n/),a={text:[],times:[]};n<s.length;n++)
// check for the line number
if(this.pattern_identifier.exec(s[n])&&(
// skip to the next line where the start --> end time code should be
n++,t=this.pattern_timecode.exec(s[n]),t&&n<s.length)){for(n++,
// grab all the (possibly multi-line) text that follows
i=s[n],n++;""!==s[n]&&n<s.length;)i=i+"\n"+s[n],n++;
// Text is in a different array so I can use .join
a.text.push(i),a.times.push({start:mejs.Utility.timeCodeToSeconds(t[1]),stop:mejs.Utility.timeCodeToSeconds(t[3]),settings:t[5]})}return a}},
// test for browsers with bad String.split method.
3!="x\n\ny".split(/\n/gi).length&&(
// add super slow IE8 and below version
mejs.TrackFormatParser.split2=function(e,t){var i,n=[],s="";for(i=0;i<e.length;i++)s+=e.substring(i,i+1),t.test(s)&&(n.push(s.replace(t,"")),s="");return n.push(s),n})}(mejs.$),/*
* ContextMenu Plugin
* 
*
*/
function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[
// demo of a fullscreen option
{render:function(e){
// check for fullscreen plugin
// check for fullscreen plugin
return"undefined"==typeof e.enterFullScreen?null:e.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},
// demo of a mute/unmute button
{render:function(e){return e.media.muted?"Unmute":"Mute"},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},
// separator
{isSeparator:!0},
// demo of simple download video
{render:function(e){return"Download Video"},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t,i,n,s){
// create context menu
t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),
// create events for showing context menu
t.container.bind("contextmenu",function(e){return t.isContextMenuEnabled?(e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){
//console.log('context hover out');
t.startContextMenuTimer()})},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){
//console.log('startContextMenuTimer');
var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;
//console.log('killContextMenuTimer', timer);
null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,i){for(var n=this,s="",a=n.options.contextMenuItems,o=0,r=a.length;r>o;o++)if(a[o].isSeparator)s+='<div class="mejs-contextmenu-separator"></div>';else{var l=a[o].render(n);
// render can return null if the item doesn't need to be used at the moment
null!=l&&(s+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}
// position and show the context menu
n.contextMenu.empty().append(e(s)).css({top:i,left:t}).show(),
// bind events
n.contextMenu.find(".mejs-contextmenu-item").each(function(){
// which one is this?
var t=e(this),i=parseInt(t.data("itemindex"),10),s=n.options.contextMenuItems[i];
// bind extra functionality?
"undefined"!=typeof s.show&&s.show(t,n),
// bind click action
t.click(function(){
// perform click action
"undefined"!=typeof s.click&&s.click(n),
// close
n.contextMenu.hide()})}),
// stop the controls from hiding
setTimeout(function(){n.killControlsTimer("rev3")},100)}})}(mejs.$);
/*
 * jQuery File Upload Plugin 5.32.6
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
/*jslint nomen: true, unparam: true, regexp: true */
/*global define, window, document, location, File, Blob, FormData */
!function(e){"use strict";"function"==typeof define&&define.amd?
// Register as an anonymous AMD module:
define(["jquery","jquery.ui.widget"],e):
// Browser globals:
e(window.jQuery)}(function(e){"use strict";
// Detect file input support, based on
// http://viljamis.com/blog/2012/file-upload-support-on-mobile/
e.support.fileInput=!(new RegExp(
// Handle devices which give false positives for the feature detection:
"(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||
// Feature detection for all other devices:
e('<input type="file">').prop("disabled")),
// The FileReader API is not actually used, but works as feature detection,
// as e.g. Safari supports XHR file uploads via the FormData API,
// but not non-multipart XHR file uploads:
e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,
// Detect support for Blob slicing (required for chunked uploads):
e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),
// The fileupload widget listens for change events on file input fields defined
// via fileInput setting and paste or drop events of the given dropZone.
// In addition to the default jQuery Widget methods, the fileupload widget
// exposes the "add" and "send" methods, to add or directly send files using
// the fileupload API.
// By default, files added via file input selection, paste, drag & drop or
// "add" method are uploaded immediately, but it is possible to override
// the "add" callback option to queue file uploads.
e.widget("blueimp.fileupload",{options:{
// The drop target element(s), by the default the complete document.
// Set to null to disable drag & drop support:
dropZone:e(document),
// The paste target element(s), by the default the complete document.
// Set to null to disable paste support:
pasteZone:e(document),
// The file input field(s), that are listened to for change events.
// If undefined, it is set to the file input fields inside
// of the widget element on plugin initialization.
// Set to null to disable the change listener.
fileInput:void 0,
// By default, the file input field is replaced with a clone after
// each input field change event. This is required for iframe transport
// queues and allows change events to be fired for the same file
// selection, but can be disabled by setting the following option to false:
replaceFileInput:!0,
// The parameter name for the file form data (the request argument name).
// If undefined or empty, the name property of the file input field is
// used, or "files[]" if the file input name property is also empty,
// can be a string or an array of strings:
paramName:void 0,
// By default, each file of a selection is uploaded using an individual
// request for XHR type uploads. Set to false to upload file
// selections in one request each:
singleFileUploads:!0,
// To limit the number of files uploaded with one XHR request,
// set the following option to an integer greater than 0:
limitMultiFileUploads:void 0,
// Set the following option to true to issue all file upload requests
// in a sequential order:
sequentialUploads:!1,
// To limit the number of concurrent uploads,
// set the following option to an integer greater than 0:
limitConcurrentUploads:void 0,
// Set the following option to true to force iframe transport uploads:
forceIframeTransport:!1,
// Set the following option to the location of a redirect url on the
// origin server, for cross-domain iframe transport uploads:
redirect:void 0,
// The parameter name for the redirect url, sent as part of the form
// data and set to 'redirect' if this option is empty:
redirectParamName:void 0,
// Set the following option to the location of a postMessage window,
// to enable postMessage transport uploads:
postMessage:void 0,
// By default, XHR file uploads are sent as multipart/form-data.
// The iframe transport is always using multipart/form-data.
// Set to false to enable non-multipart XHR uploads:
multipart:!0,
// To upload large files in smaller chunks, set the following option
// to a preferred maximum chunk size. If set to 0, null or undefined,
// or the browser does not support the required Blob API, files will
// be uploaded as a whole.
maxChunkSize:void 0,
// When a non-multipart upload or a chunked multipart upload has been
// aborted, this option can be used to resume the upload by setting
// it to the size of the already uploaded bytes. This option is most
// useful when modifying the options object inside of the "add" or
// "send" callbacks, as the options are cloned for each file upload.
uploadedBytes:void 0,
// By default, failed (abort or error) file uploads are removed from the
// global progress calculation. Set the following option to false to
// prevent recalculating the global progress data:
recalculateProgress:!0,
// Interval in milliseconds to calculate and trigger progress events:
progressInterval:100,
// Interval in milliseconds to calculate progress bitrate:
bitrateInterval:500,
// By default, uploads are started automatically when adding files:
autoUpload:!0,
// Error and info messages:
messages:{uploadedBytes:"Uploaded bytes exceed file size"},
// Translation function, gets the message key to be translated
// and an object with context specific data as arguments:
i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},
// Additional form data to be sent along with the file uploads can be set
// using this option, which accepts an array of objects with name and
// value properties, a function returning such an array, a FormData
// object (for XHR file uploads), or a simple object.
// The form of the first fileInput is given as parameter to the function:
formData:function(e){return e.serializeArray()},
// The add callback is invoked as soon as files are added to the fileupload
// widget (via file input selection, drag & drop, paste or add API call).
// If the singleFileUploads option is enabled, this callback will be
// called once for each file in the selection for XHR file uploads, else
// once for each file selection.
//
// The upload starts when the submit method is invoked on the data parameter.
// The data object contains a files property holding the added files
// and allows you to override plugin options as well as define ajax settings.
//
// Listeners for this callback can also be bound the following way:
// .bind('fileuploadadd', func);
//
// data.submit() returns a Promise object and allows to attach additional
// handlers using jQuery's Deferred callbacks:
// data.submit().done(func).fail(func).always(func);
add:function(t,i){(i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},
// Other callbacks:
// Callback for the submit event of each file upload:
// submit: function (e, data) {}, // .bind('fileuploadsubmit', func);
// Callback for the start of each file upload request:
// send: function (e, data) {}, // .bind('fileuploadsend', func);
// Callback for successful uploads:
// done: function (e, data) {}, // .bind('fileuploaddone', func);
// Callback for failed (abort or error) uploads:
// fail: function (e, data) {}, // .bind('fileuploadfail', func);
// Callback for completed (success, abort or error) requests:
// always: function (e, data) {}, // .bind('fileuploadalways', func);
// Callback for upload progress events:
// progress: function (e, data) {}, // .bind('fileuploadprogress', func);
// Callback for global upload progress events:
// progressall: function (e, data) {}, // .bind('fileuploadprogressall', func);
// Callback for uploads start, equivalent to the global ajaxStart event:
// start: function (e) {}, // .bind('fileuploadstart', func);
// Callback for uploads stop, equivalent to the global ajaxStop event:
// stop: function (e) {}, // .bind('fileuploadstop', func);
// Callback for change events of the fileInput(s):
// change: function (e, data) {}, // .bind('fileuploadchange', func);
// Callback for paste events to the pasteZone(s):
// paste: function (e, data) {}, // .bind('fileuploadpaste', func);
// Callback for drop events of the dropZone(s):
// drop: function (e, data) {}, // .bind('fileuploaddrop', func);
// Callback for dragover events of the dropZone(s):
// dragover: function (e) {}, // .bind('fileuploaddragover', func);
// Callback for the start of each chunk upload request:
// chunksend: function (e, data) {}, // .bind('fileuploadchunksend', func);
// Callback for successful chunk uploads:
// chunkdone: function (e, data) {}, // .bind('fileuploadchunkdone', func);
// Callback for failed (abort or error) chunk uploads:
// chunkfail: function (e, data) {}, // .bind('fileuploadchunkfail', func);
// Callback for completed (success, abort or error) chunk upload requests:
// chunkalways: function (e, data) {}, // .bind('fileuploadchunkalways', func);
// The plugin options are used as settings object for the ajax calls.
// The following are jQuery ajax settings required for the file uploads:
processData:!1,contentType:!1,cache:!1},
// A list of options that require reinitializing event listeners and/or
// special initialization code:
_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var i,n=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=n,i=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),
// Add the difference from the previously loaded state
// to the global loaded counter:
this._progress.loaded+=i-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=i,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(n,i,t.bitrateInterval),
// Trigger a custom progress event with a total data property set
// to the file size(s) of the current upload and a loaded data
// property calculated accordingly:
this._trigger("progress",e,t),
// Trigger a global progress event for all current file uploads,
// including ajax calls queued for sequential file uploads:
this._trigger("progressall",e,this._progress)}},_initProgressListener:function(t){var i=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();
// Accesss to the native XHR object is required to add event listeners
// for the upload progress event:
n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;
// Make sure the progress event properties get copied over:
e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,i._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(e,t){
// Cross-frame instanceof check
return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,n=this,r=t.files[0],
// Ignore non-multipart setting if not supported:
o=t.multipart||!e.support.xhrFileUpload,s=t.paramName[0];t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(
// window.postMessage does not allow sending FormData
// objects, so we just add the File/Blob objects to
// the formData array and let the postMessage window
// create the FormData object out of this array:
i=this._getFormData(t),t.blob?i.push({name:s,value:t.blob}):e.each(t.files,function(e,n){i.push({name:t.paramName[e]||s,value:n})})):(n._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(s,t.blob,r.name):e.each(t.files,function(e,r){
// This check allows the tests to run with
// dummy objects:
(n._isInstanceOf("File",r)||n._isInstanceOf("Blob",r))&&i.append(t.paramName[e]||s,r,r.name)})),t.data=i):(t.contentType=r.type,t.data=t.blob||r),
// Blob reference is not needed anymore, free memory:
t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");
// Setting the dataType to iframe enables the iframe transport:
t.dataType="iframe "+(t.dataType||""),
// The iframe transport accepts a serialized array as form data:
t.formData=this._getFormData(t),
// Add redirect url to form data on cross-domain uploads:
t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(
// Setting the dataType to postmessage enables the
// postMessage transport:
e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)n.push(i),r-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(t){
// Retrieve missing options from the input field and the
// associated form, if available:
t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),
// If the given file input doesn't have an associated form,
// use the default widget file input's form:
t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),
// The HTTP request method must be "POST" or "PUT":
t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},
// jQuery 1.6 doesn't provide .state(),
// while jQuery 1.8+ removed .isRejected() and .isResolved():
_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},
// Maps jqXHR callbacks to the equivalent
// methods of the given Promise object:
_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},
// Creates and returns a Promise object enhanced with
// the jqXHR methods abort, success, error and complete:
_getXHRPromise:function(t,i,n){var r=e.Deferred(),o=r.promise();return i=i||this.options.context||o,t===!0?r.resolveWith(i,n):t===!1&&r.rejectWith(i,n),o.abort=r.promise,this._enhancePromise(o)},
// Adds convenience methods to the data callback argument:
_addConvenienceMethods:function(t,i){var n=this,r=function(t){return e.Deferred().resolveWith(n,[t]).promise()};i.process=function(e,t){return(e||t)&&(i._processQueue=this._processQueue=(this._processQueue||r(this)).pipe(e,t)),this._processQueue||r(this)},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",t,this)!==!1&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():n._getXHRPromise()},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.progress=function(){return this._progress},i.response=function(){return this._response}},
// Parses the Range header from the server response
// and returns the uploaded bytes:
_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},
// Uploads a file in multiple, sequential requests
// by splitting the file up in multiple blob chunks.
// If the second parameter is true, only tests if the file
// should be uploaded in chunks, but does not invoke any
// upload requests:
_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var n,r,o=this,s=t.files[0],a=s.size,l=t.uploadedBytes,p=t.maxChunkSize||a,d=this._blobSlice,u=e.Deferred(),f=u.promise();
// The chunk upload method:
return this._isXHRUpload(t)&&d&&(l||a>p)&&!t.data?i?!0:l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(r=function(){
// Clone the options object for each chunk upload:
var i=e.extend({},t),f=i._progress.loaded;i.blob=d.call(s,l,l+p,s.type),
// Store the current chunk size, as the blob itself
// will be dereferenced after data processing:
i.chunkSize=i.blob.size,
// Expose the chunk bytes position range:
i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,
// Process the upload data (the blob and potential form data):
o._initXHRData(i),
// Add progress listeners for this chunk upload:
o._initProgressListener(i),n=(o._trigger("chunksend",null,i)!==!1&&e.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(n,s,p){l=o._getUploadedBytes(p)||l+i.chunkSize,
// Create a progress event if no final progress event
// with loaded equaling total has been triggered
// for this chunk:
f+i.chunkSize-i._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=s,i.jqXHR=p,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),a>l?
// File upload not yet complete,
// continue with the next chunk:
r():u.resolveWith(i.context,[n,s,p])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),u.rejectWith(i.context,[e,t,n])})},this._enhancePromise(f),f.abort=function(){return n.abort()},r(),f):!1},_beforeSend:function(e,t){0===this._active&&(
// the start callback is triggered when an upload starts
// and no other uploads are currently running,
// equivalent to the global ajaxStart event:
this._trigger("start"),
// Set timer for global bitrate progress calculation:
this._bitrateTimer=new this._BitrateTimer,
// Reset the global progress values:
this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),
// Make sure the container objects for the .response() and
// .progress() methods on the data object are available
// and reset to their initial state:
this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,
// Initialize the global progress values:
this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,n,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&
// Create a progress event if no final progress event
// with loaded equaling total has been triggered:
this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=t,s.textStatus=r.textStatus=i,s.jqXHR=r.jqXHR=n,this._trigger("done",null,r)},_onFail:function(e,t,i,n){var r=n._response;n.recalculateProgress&&(
// Remove the failed (error or abort) file upload from
// the global progress calculation:
this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),r.jqXHR=n.jqXHR=e,r.textStatus=n.textStatus=t,r.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){
// jqXHRorResult, textStatus and jqXHRorError are added to the
// options object via done and fail callbacks
this._trigger("always",null,n)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var n,r,o,s,a=this,l=a._getAJAXSettings(i),p=function(){
// Set timer for bitrate progress calculation:
return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,n=n||((r||a._trigger("send",t,l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){a._onDone(e,t,i,l)}).fail(function(e,t,i){a._onFail(e,t,i,l)}).always(function(e,t,i){if(a._onAlways(e,t,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(
// Start the next queued upload,
// that has not been aborted:
var n=a._slots.shift();n;){if("pending"===a._getDeferredState(n)){n.resolve();break}n=a._slots.shift()}0===a._active&&
// The stop callback is triggered when all uploads have
// been completed, equivalent to the global ajaxStop event:
a._trigger("stop")})};
// Return the piped Promise object, enhanced with an abort method,
// which is delegated to the jqXHR object of the current upload,
// and jqXHR callbacks mapped to the equivalent Promise methods:
return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),s=o.pipe(p)):(this._sequence=this._sequence.pipe(p,p),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],n?n.abort():(o&&o.rejectWith(l.context,r),p())},this._enhancePromise(s)):p()},_onAdd:function(t,i){var n,r,o,s,a=this,l=!0,p=e.extend({},this.options,i),d=p.limitMultiFileUploads,u=this._getParamName(p);if((p.singleFileUploads||d)&&this._isXHRUpload(p))if(!p.singleFileUploads&&d)for(o=[],n=[],s=0;s<i.files.length;s+=d)o.push(i.files.slice(s,s+d)),r=u.slice(s,s+d),r.length||(r=u),n.push(r);else n=u;else o=[i.files],n=[u];return i.originalFiles=i.files,e.each(o||i.files,function(r,s){var p=e.extend({},i);return p.files=o?s:[s],p.paramName=n[r],a._initResponseObject(p),a._initProgressObject(p),a._addConvenienceMethods(t,p),l=a._trigger("add",t,p)}),l},_replaceFileInput:function(t){var i=t.clone(!0);e("<form></form>").append(i)[0].reset(),
// Detaching allows to insert the fileInput on another form
// without loosing the file input value:
t.after(i).detach(),
// Avoid memory leaks with the detached file input:
e.cleanData(t.unbind("remove")),
// Replace the original file input element in the fileInput
// elements set with the clone, which has been copied including
// event handlers:
this.options.fileInput=this.options.fileInput.map(function(e,n){return n===t[0]?i[0]:n}),
// If the widget has been initialized on the file input itself,
// override this.element with the file input clone:
t[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,i){var n,r=this,o=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),
// Since $.when returns immediately if one
// Deferred is rejected, we use resolve instead.
// This allows valid files and invalid items
// to be returned together in one set:
o.resolve([e])};
// Workaround for Chrome bug #149735
// Return an empy list for file system items
// other than files or directories:
return i=i||"",t.isFile?t._file?(t._file.relativePath=i,o.resolve(t._file)):t.file(function(e){e.relativePath=i,o.resolve(e)},s):t.isDirectory?(n=t.createReader(),n.readEntries(function(e){r._handleFileTreeEntries(e,i+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},s)):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;
// Workaround for Chrome bug #149735:
return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,n,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&
// File normalization for Safari 4 and Firefox 3:
e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(n=t.prop("value"),!n)return e.Deferred().resolve([]).promise();
// If the files property is not available, the browser does not
// support the File API and we add a pseudo File object with
// the input value as name with path information removed:
i=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(e){n.files=e,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),i._trigger("change",t,n)!==!1&&i._onAdd(t,n)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),this._trigger("paste",t,n)!==!1&&this._onAdd(t,n))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,i=e.dataTransfer,n={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always(function(i){n.files=i,t._trigger("drop",e,n)!==!1&&t._onAdd(e,n)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=t.dataTransfer,n={dropEffect:"copy",preventDefault:!0};i&&-1!==e.inArray("Files",i.types)&&this._trigger("dragover",t,n)!==!1&&(i.dropEffect=n.dropEffect,n.preventDefault&&t.preventDefault())},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options;
// Initialize options set via HTML5 data-attributes:
e.each(e(this.element[0].cloneNode(!1)).data(),function(e,n){t._isRegExpOption(e,n)&&(n=t._getRegExp(n)),i[e]=n})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},
// This method is exposed to the widget API and allows to query
// the number of active uploads:
active:function(){return this._active},
// This method is exposed to the widget API and allows to query
// the widget upload progress.
// It returns an object with loaded, total and bitrate properties
// for the running uploads:
progress:function(){return this._progress},
// This method is exposed to the widget API and allows adding files
// using the fileupload API. The data parameter accepts an object which
// must have a files property and can contain additional options:
// .fileupload('add', {files: filesList});
add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},
// This method is exposed to the widget API and allows sending files
// using the fileupload API. The data parameter accepts an object which
// must have a files or fileInput property and can contain additional options:
// .fileupload('send', {files: filesList});
// The method returns a Promise object for the file upload call.
send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,r=this,o=e.Deferred(),s=o.promise();return s.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!n){if(!e.length)return void o.reject();t.files=e,i=r._onSend(null,t).then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),/*
 * jQuery File Upload Processing Plugin 1.2.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2012, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
/*jslint nomen: true, unparam: true */
/*global define, window */
function(e){"use strict";"function"==typeof define&&define.amd?
// Register as an anonymous AMD module:
define(["jquery","./jquery.fileupload"],e):
// Browser globals:
e(window.jQuery)}(function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;
// The File Upload Processing plugin extends the fileupload widget
// with file processing functionality:
e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{
// The list of processing actions:
processQueue:[],add:function(i,n){var r=e(this);n.process(function(){return r.fileupload("process",n)}),t.call(this,i,n)}},processActions:{},_processFile:function(t){var i=this,n=e.Deferred().resolveWith(i,[t]),r=n.promise();return this._trigger("process",null,t),e.each(t.processQueue,function(e,t){var n=function(e){return i.processActions[t.action].call(i,e,t)};r=r.pipe(n,t.always&&n)}),r.done(function(){i._trigger("processdone",null,t),i._trigger("processalways",null,t)}).fail(function(){i._trigger("processfail",null,t),i._trigger("processalways",null,t)}),r},
// Replaces the settings of each processQueue item that
// are strings starting with an "@", using the remaining
// substring as key for the option map,
// e.g. "@autoUpload" is replaced with options.autoUpload:
_transformProcessQueue:function(t){var i=[];e.each(t.processQueue,function(){var n={},r=this.action,o=this.prefix===!0?r:this.prefix;e.each(this,function(i,r){"string"===e.type(r)&&"@"===r.charAt(0)?n[i]=t[r.slice(1)||(o?o+i.charAt(0).toUpperCase()+i.slice(1):i)]:n[i]=r}),i.push(n)}),t.processQueue=i},
// Returns the number of files currently in the processsing queue:
processing:function(){return this._processing},
// Processes the files given as files property of the data parameter,
// returns a Promise object that allows to bind callbacks:
process:function(t){var i=this,n=e.extend({},this.options,t);return n.processQueue&&n.processQueue.length&&(this._transformProcessQueue(n),0===this._processing&&this._trigger("processstart"),e.each(t.files,function(t){var r=t?e.extend({},n):n,o=function(){return i._processFile(r)};r.index=t,i._processing+=1,i._processingQueue=i._processingQueue.pipe(o,o).always(function(){i._processing-=1,0===i._processing&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})}),/*
 * jQuery File Upload User Interface Plugin 8.8.5
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
/*jslint nomen: true, unparam: true, regexp: true */
/*global define, window, URL, webkitURL, FileReader */
function(e){"use strict";"function"==typeof define&&define.amd?
// Register as an anonymous AMD module:
define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],e):
// Browser globals:
e(window.jQuery,window.tmpl)}(function(e,t,i){"use strict";e.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId"),
// The UI version extends the file upload widget
// and adds complete user interface interaction:
e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{
// By default, files added to the widget are uploaded as soon
// as the user clicks on the start buttons. To enable automatic
// uploads, set the following option to true:
autoUpload:!1,
// The ID of the upload template:
uploadTemplateId:"template-upload",
// The ID of the download template:
downloadTemplateId:"template-download",
// The container for the list of files. If undefined, it is set to
// an element with class "files" inside of the widget element:
filesContainer:void 0,
// By default, files are appended to the files container.
// Set the following option to true, to prepend files instead:
prependFiles:!1,
// The expected data type of the upload response, sets the dataType
// option of the $.ajax upload requests:
dataType:"json",
// Function returning the current number of files,
// used by the maxNumberOfFiles validation:
getNumberOfFiles:function(){return this.filesContainer.children().length},
// Callback to retrieve the list of files from the server response:
getFilesFromResponse:function(t){return t.result&&e.isArray(t.result.files)?t.result.files:[]},
// The add callback is invoked as soon as files are added to the fileupload
// widget (via file input selection, drag & drop or add API call).
// See the basic file upload widget for more information:
add:function(t,i){var n=e(this),r=n.data("blueimp-fileupload")||n.data("fileupload"),o=r.options,s=i.files;i.process(function(){return n.fileupload("process",i)}).always(function(){i.context=r._renderUpload(s).data("data",i),r._renderPreviews(i),o.filesContainer[o.prependFiles?"prepend":"append"](i.context),r._forceReflow(i.context),r._transition(i.context).done(function(){r._trigger("added",t,i)===!1||!o.autoUpload&&!i.autoUpload||i.autoUpload===!1||i.files.error||i.submit()})})},
// Callback for the start of each file upload request:
send:function(t,i){var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload");
// Iframe Transport does not support progress events.
// In lack of an indeterminate progress bar, we set
// the progress to 100%, showing the full animated bar:
return i.context&&i.dataType&&"iframe"===i.dataType.substr(0,6)&&i.context.find(".progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),n._trigger("sent",t,i)},
// Callback for successful uploads:
done:function(t,i){var n,r,o=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),s=i.getFilesFromResponse||o.options.getFilesFromResponse,a=s(i);i.context?i.context.each(function(s){var l=a[s]||{error:"Empty file upload result"};r=o._addFinishedDeferreds(),o._transition(e(this)).done(function(){var s=e(this);n=o._renderDownload([l]).replaceAll(s),o._forceReflow(n),o._transition(n).done(function(){i.context=e(this),o._trigger("completed",t,i),o._trigger("finished",t,i),r.resolve()})})}):(n=o._renderDownload(a)[o.options.prependFiles?"prependTo":"appendTo"](o.options.filesContainer),o._forceReflow(n),r=o._addFinishedDeferreds(),o._transition(n).done(function(){i.context=e(this),o._trigger("completed",t,i),o._trigger("finished",t,i),r.resolve()}))},
// Callback for failed (abort or error) uploads:
fail:function(t,i){var n,r,o=e(this).data("blueimp-fileupload")||e(this).data("fileupload");i.context?i.context.each(function(s){if("abort"!==i.errorThrown){var a=i.files[s];a.error=a.error||i.errorThrown||!0,r=o._addFinishedDeferreds(),o._transition(e(this)).done(function(){var s=e(this);n=o._renderDownload([a]).replaceAll(s),o._forceReflow(n),o._transition(n).done(function(){i.context=e(this),o._trigger("failed",t,i),o._trigger("finished",t,i),r.resolve()})})}else r=o._addFinishedDeferreds(),o._transition(e(this)).done(function(){e(this).remove(),o._trigger("failed",t,i),o._trigger("finished",t,i),r.resolve()})}):"abort"!==i.errorThrown?(i.context=o._renderUpload(i.files)[o.options.prependFiles?"prependTo":"appendTo"](o.options.filesContainer).data("data",i),o._forceReflow(i.context),r=o._addFinishedDeferreds(),o._transition(i.context).done(function(){i.context=e(this),o._trigger("failed",t,i),o._trigger("finished",t,i),r.resolve()})):(o._trigger("failed",t,i),o._trigger("finished",t,i),o._addFinishedDeferreds().resolve())},
// Callback for upload progress events:
progress:function(t,i){var n=Math.floor(i.loaded/i.total*100);i.context&&i.context.each(function(){e(this).find(".progress").attr("aria-valuenow",n).children().first().css("width",n+"%")})},
// Callback for global upload progress events:
progressall:function(t,i){var n=e(this),r=Math.floor(i.loaded/i.total*100),o=n.find(".fileupload-progress"),s=o.find(".progress-extended");s.length&&s.html((n.data("blueimp-fileupload")||n.data("fileupload"))._renderExtendedProgress(i)),o.find(".progress").attr("aria-valuenow",r).children().first().css("width",r+"%")},
// Callback for uploads start, equivalent to the global ajaxStart event:
start:function(t){var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload");i._resetFinishedDeferreds(),i._transition(e(this).find(".fileupload-progress")).done(function(){i._trigger("started",t)})},
// Callback for uploads stop, equivalent to the global ajaxStop event:
stop:function(t){var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),n=i._addFinishedDeferreds();e.when.apply(e,i._getFinishedDeferreds()).done(function(){i._trigger("stopped",t)}),i._transition(e(this).find(".fileupload-progress")).done(function(){e(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%"),e(this).find(".progress-extended").html("&nbsp;"),n.resolve()})},processstart:function(){e(this).addClass("fileupload-processing")},processstop:function(){e(this).removeClass("fileupload-processing")},
// Callback for file deletion:
destroy:function(t,i){var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),r=function(){n._transition(i.context).done(function(){e(this).remove(),n._trigger("destroyed",t,i)})};i.url?e.ajax(i).done(r):r()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=e.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},
// Link handler, that allows to download files
// by drag & drop of the links to the desktop:
_enableDragToDesktop:function(){var t=e(this),i=t.prop("href"),n=t.prop("download"),r="application/octet-stream";t.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[r,n,i].join(":"))}catch(t){}})},_formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),i=Math.floor(e/86400);return i=i?i+"d ":"",i+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(t,i){if(!t)return e();var n=t({files:i,formatFileSize:this._formatFileSize,options:this.options});return n instanceof e?n:e(this.options.templatesContainer).html(n).children()},_renderPreviews:function(t){t.context.find(".preview").each(function(i,n){e(n).append(t.files[i].preview)})},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var i=e(t.currentTarget),n=i.closest(".template-upload"),r=n.data("data");r&&r.submit&&!r.jqXHR&&r.submit()&&i.prop("disabled",!0)},_cancelHandler:function(t){t.preventDefault();var i=e(t.currentTarget).closest(".template-upload,.template-download"),n=i.data("data")||{};n.jqXHR?n.jqXHR.abort():(n.context=n.context||i,n.errorThrown="abort",this._trigger("fail",t,n))},_deleteHandler:function(t){t.preventDefault();var i=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:i.closest(".template-download"),type:"DELETE"},i.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var i=e.Deferred();return e.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(e.support.transition.end,function(n){
// Make sure we don't respond to other transitions events
// in the container element, e.g. from button elements:
n.target===t[0]&&(t.unbind(e.support.transition.end),i.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),i.resolveWith(t)),i},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),i=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),i.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),i.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),i.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){i.find(".toggle").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),e.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})});
/*
 * jQuery Iframe Transport Plugin 1.8.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
/* global define, window, document */
!function(e){"use strict";"function"==typeof define&&define.amd?
// Register as an anonymous AMD module:
define(["jquery"],e):
// Browser globals:
e(window.jQuery)}(function(e){"use strict";
// Helper variable to create unique names for the transport iframes:
var t=0;
// The iframe transport accepts four additional options:
// options.fileInput: a jQuery collection of file input fields
// options.paramName: the parameter name for the file form data,
//  overrides the name property of the file input field(s),
//  can be a string or an array of strings.
// options.formData: an array of objects with name and value properties,
//  equivalent to the return data of .serializeArray(), e.g.:
//  [{name: 'a', value: 1}, {name: 'b', value: 2}]
// options.initialIframeSrc: the URL of the initial iframe src,
//  by default set to "javascript:false;"
e.ajaxTransport("iframe",function(r){if(r.async){
// javascript:false as initial iframe src
// prevents warning popups on HTTPS in IE6:
/*jshint scripturl: true */
var/*jshint scripturl: false */
n,a,o,i=r.initialIframeSrc||"javascript:false;";return{send:function(p,m){n=e('<form style="display:none;"></form>'),n.attr("accept-charset",r.formAcceptCharset),o=/\?/.test(r.url)?"&":"?",
// XDomainRequest only supports GET and POST:
"DELETE"===r.type?(r.url=r.url+o+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+o+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+o+"_method=PATCH",r.type="POST"),
// IE versions below IE8 cannot set the name property of
// elements that have already been added to the DOM,
// so we set the name along with the iframe HTML markup:
t+=1,a=e('<iframe src="'+i+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind("load").bind("load",function(){var t;
// Wrap in a try/catch block to catch exceptions thrown
// when trying to access cross-domain iframe contents:
try{
// Google Chrome and Firefox do not throw an
// exception when calling iframe.contents() on
// cross-domain requests, so we unify the response:
if(t=a.contents(),!t.length||!t[0].firstChild)throw new Error}catch(r){t=void 0}
// The complete callback returns the
// iframe content document as response object:
m(200,"success",{iframe:t}),
// Fix for IE endless progress bar activity bug
// (happens on form submits to iframe targets):
e('<iframe src="'+i+'"></iframe>').appendTo(n),window.setTimeout(function(){
// Removing the form in a setTimeout call
// allows Chrome's developer tools to display
// the response result
n.remove()},0)}),n.prop("target",a.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&e.each(r.formData,function(t,r){e('<input type="hidden"/>').prop("name",r.name).val(r.value).appendTo(n)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(t=r.fileInput.clone(),
// Insert a clone for each file input field:
r.fileInput.after(function(e){return t[e]}),r.paramName&&r.fileInput.each(function(t){e(this).prop("name",o[t]||r.paramName)}),
// Appending the file input fields to the hidden form
// removes them from their original location:
n.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),
// Remove the HTML5 form attribute from the input(s):
r.fileInput.removeAttr("form")),n.submit(),
// Insert the file input fields at their original location
// by replacing the clones with the originals:
t&&t.length&&r.fileInput.each(function(r,n){var a=e(t[r]);
// Restore the original name and form properties:
e(n).prop("name",a.prop("name")).attr("form",a.attr("form")),a.replaceWith(n)})}),n.append(a).appendTo(document.body)},abort:function(){a&&
// javascript:false as iframe src aborts the request
// and prevents warning popups on HTTPS in IE6.
// concat is used to avoid the "Script URL" JSLint error:
a.unbind("load").prop("src",i),n&&n.remove()}}}}),
// The iframe transport returns the iframe content document as response.
// The following adds converters from iframe to text, json, html, xml
// and script.
// Please note that the Content-Type for JSON responses has to be text/plain
// or text/html, if the browser doesn't include application/json in the
// Accept header, else IE will show a download dialog.
// The Content-Type for XML responses on the other hand has to be always
// application/xml or text/xml, so IE properly parses the XML response.
// See also
// https://github.com/blueimp/jQuery-File-Upload/wiki/Setup#content-type-negotiation
e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var r=t&&t[0];return r&&e.isXMLDoc(r)?r:e.parseXML(r.XMLDocument&&r.XMLDocument.xml||e(r.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})});
/*
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(o){function t(o,t){if(!(o.originalEvent.touches.length>1)){o.preventDefault();var e=o.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(n)}}if(o.support.touch="ontouchend"in document,o.support.touch){var e,n=o.ui.mouse.prototype,u=n._mouseInit;n._touchStart=function(o){var n=this;!e&&n._mouseCapture(o.originalEvent.changedTouches[0])&&(e=!0,n._touchMoved=!1,t(o,"mouseover"),t(o,"mousemove"),t(o,"mousedown"))},n._touchMove=function(o){e&&(this._touchMoved=!0,t(o,"mousemove"))},n._touchEnd=function(o){e&&(t(o,"mouseup"),t(o,"mouseout"),this._touchMoved||t(o,"click"),e=!1)},n._mouseInit=function(){var t=this;t.element.bind("touchstart",o.proxy(t,"_touchStart")).bind("touchmove",o.proxy(t,"_touchMove")).bind("touchend",o.proxy(t,"_touchEnd")),u.call(t)}}}(jQuery);
// Chosen, a Select Box Enhancer for jQuery and Protoype
// by Patrick Filler for Harvest, http://getharvest.com
// 
// Version 0.9.8
// Full source at https://github.com/harvesthq/chosen
// Copyright (c) 2011 Harvest http://getharvest.com
// MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
// This file is generated by `cake build`, do not edit it by hand.
(function(){var t;t=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,r,h,l;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),h=t.childNodes,l=[],i=0,r=h.length;r>i;i++)s=h[i],l.push(this.add_option(s,e,t.disabled));return l},t.prototype.add_option=function(t,e,s){return"OPTION"===t.nodeName?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:s===!0?s:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),t.select_to_array=function(e){var s,i,r,h,l;for(i=new t,l=e.childNodes,r=0,h=l.length;h>r;r++)s=l[r],i.add_node(s);return i.parsed},this.SelectParser=t}).call(this),function(){var t,e;e=this,t=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.default_text_default=this.is_multiple?"Select Some Options":"Select an Option",this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.max_selected_options=this.options.max_selected_options||1/0,this.results_none_found=this.options.no_results_text||"No results match"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;return this.active_field?void 0:setTimeout(function(){return e.container_mousedown()},50)},t.prototype.input_blur=function(t){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},t.prototype.result_add_option=function(t){var e,s;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+s+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,s;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",s=Math.floor(Math.random()*t.length),e=t.substring(s,s+1)},t}(),e.AbstractChosen=t}.call(this),function(){var t,e,s,i,r=Object.prototype.hasOwnProperty,h=function(t,e){function s(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(s){return!t.browser.msie||"6.0"!==t.browser.version&&"7.0"!==t.browser.version?this.each(function(i){var r;return r=t(this),r.hasClass("chzn-done")?void 0:r.data("chosen",new e(this,s))}):this}}),e=function(e){function r(){r.__super__.constructor.apply(this,arguments)}return h(r,e),r.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},r.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},r.prototype.set_up_html=function(){var e,i,r,h;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(!0),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,e=t("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?e.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):e.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(e),this.container=t("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),i=this.container.height(),r=this.f_width-s(this.dropdown),this.dropdown.css({width:r+"px",top:i+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),h=r-s(this.search_container)-s(this.search_field),this.search_field.css({width:h+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},r.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){return t.container_mousedown(e)}),this.container.mouseup(function(e){return t.container_mouseup(e)}),this.container.mouseenter(function(e){return t.mouse_enter(e)}),this.container.mouseleave(function(e){return t.mouse_leave(e)}),this.search_results.mouseup(function(e){return t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return t.search_results_mouseout(e)}),this.form_field_jq.bind("liszt:updated",function(e){return t.results_update_field(e)}),this.search_field.blur(function(e){return t.input_blur(e)}),this.search_field.keyup(function(e){return t.keyup_checker(e)}),this.search_field.keydown(function(e){return t.keydown_checker(e)}),this.is_multiple?(this.search_choices.click(function(e){return t.choices_click(e)}),this.search_field.focus(function(e){return t.input_focus(e)})):this.container.click(function(t){return t.preventDefault()})},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},r.prototype.container_mousedown=function(e){var s;return this.is_disabled?void 0:(s=null!=e?t(e.target).hasClass("search-choice-close"):!1,e&&"mousedown"===e.type&&!this.results_showing&&e.stopPropagation(),this.pending_destroy_click||s?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&e&&(t(e.target)[0]===this.selected_item[0]||t(e.target).parents("a.chzn-single").length)&&(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).click(this.click_test_action),this.results_show()),this.activate_field()))},r.prototype.container_mouseup=function(t){return"ABBR"===t.target.nodeName?this.results_reset(t):void 0},r.prototype.blur_test=function(t){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},r.prototype.close_field=function(){return t(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(e){return t(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){var t,e,s,r,h;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",h=this.results_data,s=0,r=h.length;r>s;s++)e=h[s],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},r.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},r.prototype.result_do_highlight=function(t){var e,s,i,r,h;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),h=this.search_results.scrollTop(),r=i+h,s=this.result_highlight.position().top+this.search_results.scrollTop(),e=s+this.result_highlight.outerHeight(!0),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(h>s)return this.search_results.scrollTop(s)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){var t;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return t=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:t+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},r.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},r.prototype.set_tab_index=function(t){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",e):(this.selected_item.attr("tabindex",e),this.search_field.attr("tabindex",-1))):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(e){var s;return s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s.length?(this.result_highlight=s,this.result_select(e)):void 0},r.prototype.search_results_mouseover=function(e){var s;return s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s?this.result_do_highlight(s):void 0},r.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},r.prototype.choices_click=function(e){return e.preventDefault(),!this.active_field||t(e.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},r.prototype.choice_build=function(e){var s,i,r=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(s=this.container_id+"_c_"+e.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+s+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>'),i=t("#"+s).find("a").first(),i.click(function(t){return r.choice_destroy_link_click(t)}))},r.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(t(e.target)))},r.prototype.choice_destroy=function(t){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(t.attr("rel")),t.parents("li").first().remove()},r.prototype.results_reset=function(e){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),t(e.target).remove(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},r.prototype.result_select=function(t){var e,s,i,r;return this.result_highlight?(e=this.result_highlight,s=e.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),r=s.substr(s.lastIndexOf("_")+1),i=this.results_data[r],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.is_multiple?this.choice_build(i):(this.selected_item.find("span").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!t.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()):void 0},r.prototype.result_activate=function(t){return t.addClass("active-result")},r.prototype.result_deactivate=function(t){return t.removeClass("active-result")},r.prototype.result_deselect=function(e){var s,i;return i=this.results_data[e],i.selected=!1,this.form_field.options[i.options_index].selected=!1,s=t("#"+this.container_id+"_o_"+e),s.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change"),this.search_field_scale()},r.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},r.prototype.winnow_results=function(){var e,s,i,r,h,l,n,o,a,c,_,u,d,f,p,g,m,v;for(this.no_results_clear(),a=0,c=this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html(),l=this.search_contains?"":"^",h=new RegExp(l+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),d=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),v=this.results_data,f=0,g=v.length;g>f;f++)if(s=v[f],!s.disabled&&!s.empty)if(s.group)t("#"+s.dom_id).css("display","none");else if(!this.is_multiple||!s.selected){if(e=!1,o=s.dom_id,n=t("#"+o),h.test(s.html))e=!0,a+=1;else if((s.html.indexOf(" ")>=0||0===s.html.indexOf("["))&&(r=s.html.replace(/\[|\]/g,"").split(" "),r.length))for(p=0,m=r.length;m>p;p++)i=r[p],h.test(i)&&(e=!0,a+=1);e?(c.length?(_=s.html.search(d),u=s.html.substr(0,_+c.length)+"</em>"+s.html.substr(_+c.length),u=u.substr(0,_)+"<em>"+u.substr(_)):u=s.html,n.html(u),this.result_activate(n),null!=s.group_array_index&&t("#"+this.results_data[s.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&o===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(n))}return 1>a&&c.length?this.no_results(c):this.winnow_results_set_highlight()},r.prototype.winnow_results_clear=function(){var e,s,i,r,h;for(this.search_field.val(""),s=this.search_results.find("li"),h=[],i=0,r=s.length;r>i;i++)e=s[i],e=t(e),e.hasClass("group-result")?h.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?h.push(void 0):h.push(this.result_activate(e));return h},r.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null==t)?void 0:this.result_do_highlight(t)},r.prototype.no_results=function(e){var s;return s=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),s.find("span").first().html(e),this.search_results.append(s)},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var e,s;return this.result_highlight?this.results_showing&&(s=this.result_highlight.nextAll("li.active-result").first(),s&&this.result_do_highlight(s)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},r.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.pending_backstroke.addClass("search-choice-focus"))},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},r.prototype.search_field_scale=function(){var e,s,i,r,h,l,n,o,a;if(this.is_multiple){for(i=0,n=0,h="position:absolute; left: -1000px; top: -1000px; display:none;",l=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],o=0,a=l.length;a>o;o++)r=l[o],h+=r+":"+this.search_field.css(r)+";";return s=t("<div />",{style:h}),s.text(this.search_field.val()),t("body").append(s),n=s.width()+25,s.remove(),n>this.f_width-10&&(n=this.f_width-10),this.search_field.css({width:n+"px"}),e=this.container.height(),this.dropdown.css({top:e+"px"})}},r.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t("#"+e).length>0;)e+=this.generate_random_char();return e},r}(AbstractChosen),s=function(t){var e;return e=t.outerWidth(!0)-t.width()},i.get_side_border_padding=s}.call(this);
/*
 * jQuery Autocomplete plugin 1.1
 *
 * Copyright (c) 2009 J�rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Revision: $Id: jquery.autocomplete.js 15 2009-08-22 10:30:27Z joern.zaefferer $
 */
!function(e){e.fn.extend({autocomplete:function(t,n){var a="string"==typeof t;return n=e.extend({},e.Autocompleter.defaults,{url:a?t:null,data:a?null:t,delay:a?e.Autocompleter.defaults.delay:10,max:n&&!n.scroll?10:150},n),n.highlight=n.highlight||function(e){return e},n.formatMatch=n.formatMatch||n.formatItem,this.each(function(){new e.Autocompleter(this,n)})},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}}),e.Autocompleter=function(t,n){function a(){var a=x.selected();if(!a)return!1;var r=a.result;if(b=r,n.multiple){var o=i(C.val());if(o.length>1){var l,s=n.multipleSeparator.length,c=e(t).selection().start,f=0;e.each(o,function(e,t){return f+=t.length,f>=c?(l=e,!1):void(f+=s)}),o[l]=r,r=o.join(n.multipleSeparator)}r+=n.multipleSeparator}return C.val(r),u(),C.trigger("result",[a.data,a.value]),!0}function r(e,t){if(p==v.DEL)return void x.hide();var a=C.val();(t||a!=b)&&(b=a,a=o(a),a.length>=n.minChars?(C.addClass(n.loadingClass),n.matchCase||(a=a.toLowerCase()),f(a,c,u)):(d(),x.hide()))}function i(t){return t?n.multiple?e.map(t.split(n.multipleSeparator),function(n){return e.trim(t).length?e.trim(n):null}):[e.trim(t)]:[""]}function o(a){if(!n.multiple)return a;var r=i(a);if(1==r.length)return r[0];var o=e(t).selection().start;return r=i(o==a.length?a:a.replace(a.substring(o),"")),r[r.length-1]}function l(a,r){n.autoFill&&o(C.val()).toLowerCase()==a.toLowerCase()&&p!=v.BACKSPACE&&(C.val(C.val()+r.substring(o(b).length)),e(t).selection(b.length,b.length+r.length))}function s(){clearTimeout(m),m=setTimeout(u,200)}function u(){x.visible();x.hide(),clearTimeout(m),d(),n.mustMatch&&C.search(function(e){if(!e)if(n.multiple){var t=i(C.val()).slice(0,-1);C.val(t.join(n.multipleSeparator)+(t.length?n.multipleSeparator:""))}else C.val(""),C.trigger("result",null)})}function c(e,t){t&&t.length&&T?(d(),x.display(t,e),l(e,t[0].value),x.show()):u()}function f(a,r,i){n.matchCase||(a=a.toLowerCase());var l=w.load(a);if(l&&l.length)r(a,l);else if("string"==typeof n.url&&n.url.length>0){var s={timestamp:+new Date};e.each(n.extraParams,function(e,t){s[e]="function"==typeof t?t():t}),e.ajax({mode:"abort",port:"autocomplete"+t.name,dataType:n.dataType,url:n.url,data:e.extend({q:o(a),limit:n.max},s),success:function(e){var t=n.parse&&n.parse(e)||h(e);w.add(a,t),r(a,t)}})}else x.emptyList(),i(a)}function h(t){for(var a=[],r=t.split("\n"),i=0;i<r.length;i++){var o=e.trim(r[i]);o&&(o=o.split("|"),a[a.length]={data:o,value:o[0],result:n.formatResult&&n.formatResult(o,o[0])||o[0]})}return a}function d(){C.removeClass(n.loadingClass)}var m,p,g,v={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},C=e(t).attr("autocomplete","off").addClass(n.inputClass),b="",w=e.Autocompleter.Cache(n),T=0,A={mouseDownOnSelect:!1},x=e.Autocompleter.Select(n,t,a,A);e.browser.opera&&e(t.form).bind("submit.autocomplete",function(){return g?(g=!1,!1):void 0}),C.bind((e.browser.opera?"keypress":"keydown")+".autocomplete",function(t){switch(T=1,p=t.keyCode,t.keyCode){case v.UP:t.preventDefault(),x.visible()?x.prev():r(0,!0);break;case v.DOWN:t.preventDefault(),x.visible()?x.next():r(0,!0);break;case v.PAGEUP:t.preventDefault(),x.visible()?x.pageUp():r(0,!0);break;case v.PAGEDOWN:t.preventDefault(),x.visible()?x.pageDown():r(0,!0);break;case n.multiple&&","==e.trim(n.multipleSeparator)&&v.COMMA:case v.TAB:case v.RETURN:if(a())return t.preventDefault(),g=!0,!1;break;case v.ESC:x.hide();break;default:clearTimeout(m),m=setTimeout(r,n.delay)}}).focus(function(){T++}).blur(function(){T=0,A.mouseDownOnSelect||s()}).click(function(){T++>1&&!x.visible()&&r(0,!0)}).bind("search",function(){function t(e,t){var a;if(t&&t.length)for(var r=0;r<t.length;r++)if(t[r].result.toLowerCase()==e.toLowerCase()){a=t[r];break}"function"==typeof n?n(a):C.trigger("result",a&&[a.data,a.value])}var n=arguments.length>1?arguments[1]:null;e.each(i(C.val()),function(e,n){f(n,t,t)})}).bind("flushCache",function(){w.flush()}).bind("setOptions",function(){e.extend(n,arguments[1]),"data"in arguments[1]&&w.populate()}).bind("unautocomplete",function(){x.unbind(),C.unbind(),e(t.form).unbind(".autocomplete")})},e.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(e){return e[0]},formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180},e.Autocompleter.Cache=function(t){function n(e,n){t.matchCase||(e=e.toLowerCase());var a=e.indexOf(n);return"word"==t.matchContains&&(a=e.toLowerCase().search("\\b"+n.toLowerCase())),-1==a?!1:0==a||t.matchContains}function a(e,n){l>t.cacheLength&&i(),o[e]||l++,o[e]=n}function r(){if(!t.data)return!1;var n={},r=0;t.url||(t.cacheLength=1),n[""]=[];for(var i=0,o=t.data.length;o>i;i++){var l=t.data[i];l="string"==typeof l?[l]:l;var s=t.formatMatch(l,i+1,t.data.length);if(s!==!1){var u=s.charAt(0).toLowerCase();n[u]||(n[u]=[]);var c={value:s,data:l,result:t.formatResult&&t.formatResult(l)||s};n[u].push(c),r++<t.max&&n[""].push(c)}}e.each(n,function(e,n){t.cacheLength++,a(e,n)})}function i(){o={},l=0}var o={},l=0;return setTimeout(r,25),{flush:i,add:a,populate:r,load:function(a){if(!t.cacheLength||!l)return null;if(!t.url&&t.matchContains){var r=[];for(var i in o)if(i.length>0){var s=o[i];e.each(s,function(e,t){n(t.value,a)&&r.push(t)})}return r}if(o[a])return o[a];if(t.matchSubset)for(var u=a.length-1;u>=t.minChars;u--){var s=o[a.substr(0,u)];if(s){var r=[];return e.each(s,function(e,t){n(t.value,a)&&(r[r.length]=t)}),r}}return null}}},e.Autocompleter.Select=function(t,n,a,r){function i(){C&&(d=e("<div/>").hide().addClass(t.resultsClass).css("position","absolute").appendTo(document.body),m=e("<ul/>").appendTo(d).mouseover(function(t){o(t).nodeName&&"LI"==o(t).nodeName.toUpperCase()&&(g=e("li",m).removeClass(p.ACTIVE).index(o(t)),e(o(t)).addClass(p.ACTIVE))}).click(function(t){return e(o(t)).addClass(p.ACTIVE),a(),n.focus(),!1}).mousedown(function(){r.mouseDownOnSelect=!0}).mouseup(function(){r.mouseDownOnSelect=!1}),t.width>0&&d.css("width",t.width),C=!1)}function o(e){for(var t=e.target;t&&"LI"!=t.tagName;)t=t.parentNode;return t?t:[]}function l(e){f.slice(g,g+1).removeClass(p.ACTIVE),s(e);var n=f.slice(g,g+1).addClass(p.ACTIVE);if(t.scroll){var a=0;f.slice(0,g).each(function(){a+=this.offsetHeight}),a+n[0].offsetHeight-m.scrollTop()>m[0].clientHeight?m.scrollTop(a+n[0].offsetHeight-m.innerHeight()):a<m.scrollTop()&&m.scrollTop(a)}}function s(e){g+=e,0>g?g=f.size()-1:g>=f.size()&&(g=0)}function u(e){return t.max&&t.max<e?t.max:e}function c(){m.empty();for(var n=u(h.length),a=0;n>a;a++)if(h[a]){var r=t.formatItem(h[a].data,a+1,n,h[a].value,v);if(r!==!1){r=r.replace("<","&lt;").replace(">","&gt;");var i=e("<li/>").html(t.highlight(r,v)).addClass(a%2==0?"ac_even":"ac_odd").appendTo(m)[0];e.data(i,"ac_data",h[a])}}f=m.find("li"),t.selectFirst&&(f.slice(0,1).addClass(p.ACTIVE),g=0),e.fn.bgiframe&&m.bgiframe()}var f,h,d,m,p={ACTIVE:"ac_over"},g=-1,v="",C=!0;return{display:function(e,t){i(),h=e,v=t,c()},next:function(){l(1)},prev:function(){l(-1)},pageUp:function(){l(0!=g&&0>g-8?-g:-8)},pageDown:function(){l(g!=f.size()-1&&g+8>f.size()?f.size()-1-g:8)},hide:function(){d&&d.hide(),f&&f.removeClass(p.ACTIVE),g=-1},visible:function(){return d&&d.is(":visible")},current:function(){return this.visible()&&(f.filter("."+p.ACTIVE)[0]||t.selectFirst&&f[0])},show:function(){var a=e(n).offset();if(d.css({width:"string"==typeof t.width||t.width>0?t.width:e(n).width(),top:a.top+n.offsetHeight,left:a.left}).show(),t.scroll&&(m.scrollTop(0),m.css({maxHeight:t.scrollHeight,overflow:"auto"}),e.browser.msie&&"undefined"==typeof document.body.style.maxHeight)){var r=0;f.each(function(){r+=this.offsetHeight});var i=r>t.scrollHeight;m.css("height",i?t.scrollHeight:r),i||f.width(m.width()-parseInt(f.css("padding-left"))-parseInt(f.css("padding-right")))}},selected:function(){var t=f&&f.filter("."+p.ACTIVE).removeClass(p.ACTIVE);return t&&t.length&&e.data(t[0],"ac_data")},emptyList:function(){m&&m.empty()},unbind:function(){d&&d.remove()}}},e.fn.selection=function(e,t){if(void 0!==e)return this.each(function(){if(this.createTextRange){var n=this.createTextRange();void 0===t||e==t?(n.move("character",e),n.select()):(n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select())}else this.setSelectionRange?this.setSelectionRange(e,t):this.selectionStart&&(this.selectionStart=e,this.selectionEnd=t)});var n=this[0];if(n.createTextRange){var a=document.selection.createRange(),r=n.value,i="<->",o=a.text.length;a.text=i;var l=n.value.indexOf(i);return n.value=r,this.selection(l,l+o),{start:l,end:l+o}}return void 0!==n.selectionStart?{start:n.selectionStart,end:n.selectionEnd}:void 0}}(jQuery);
/*
 Highcharts JS v4.2.3 (2016-02-08)

 (c) 2009-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
!function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){function e(e,i){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(i)throw Error(n);t.console&&console.log(n)}function i(t,e,i){this.options=e,this.elem=t,this.prop=i}function n(){var t,e,i=arguments,n={},s=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?s(t[n]||{},i):e[n]);return t};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;e>t;t++)n=s(n,i[t]);return n}function s(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function r(t){return t&&"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t){return"number"==typeof t}function l(t){return ht.log(t)/ht.LN10}function c(t){return ht.pow(10,t)}function d(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function p(t){return t!==E&&null!==t}function u(t,e,i){var n,s;if(o(e))p(i)?t.setAttribute(e,i):t&&t.getAttribute&&(s=t.getAttribute(e));else if(p(e)&&r(e))for(n in e)t.setAttribute(n,e[n]);return s}function f(t){return a(t)?t:[t]}function g(t,e,i){return e?setTimeout(t,e,i):void t.call(0,i)}function m(t,e){kt&&!Pt&&e&&e.opacity!==E&&(e.filter="alpha(opacity="+100*e.opacity+")"),$t(t.style,e)}function y(t,e,i,n,s){return t=at.createElement(t),e&&$t(t,e),s&&m(t,{padding:0,border:"none",margin:0}),i&&m(t,i),n&&n.appendChild(t),t}function v(t,e){var i=function(){};return i.prototype=new t,$t(i.prototype,e),i}function x(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function b(t){return 6e4*(_&&_(t)||j||0)}function k(t,e){for(var i,n,s,o,r,a="{",h=!1,l=[];-1!==(a=t.indexOf(a));){if(i=t.slice(0,a),h){for(n=i.split(":"),s=n.shift().split("."),r=s.length,i=e,o=0;r>o;o++)i=i[s[o]];n.length&&(n=n.join(":"),s=/\.([0-9])/,o=H.lang,r=void 0,/f$/.test(n)?(r=(r=n.match(s))?r[1]:-1,null!==i&&(i=rt.numberFormat(i,r,o.decimalPoint,n.indexOf(",")>-1?o.thousandsSep:""))):i=F(n,i))}l.push(i),t=t.slice(a+1),a=(h=!h)?"}":"{"}return l.push(t),l.join("")}function w(t){return ht.pow(10,ct(ht.log(t)/ht.LN10))}function S(t,e,i,n,s){var o,r=t,i=Jt(i,1);for(o=t/i,e||(e=[1,2,2.5,5,10],n===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),n=0;n<e.length&&(r=e[n],!(s&&r*i>=t||!s&&o<=(e[n]+(e[n+1]||e[n]))/2));n++);return r*=i}function T(t,e){var i,n,s=t.length;for(n=0;s>n;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;s>n;n++)delete t[n].safeI}function A(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function C(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function P(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function L(t){G||(G=y(Bt)),t&&G.appendChild(t),G.innerHTML=""}function M(t,e){return parseFloat(t.toPrecision(e||14))}function I(t,e){e.renderer.globalAnimation=Jt(t,e.animation)}function O(){var e=H.global,i=e.useUTC,n=i?"getUTC":"get",s=i?"setUTC":"set";N=e.Date||t.Date,j=i&&e.timezoneOffset,_=i&&e.getTimezoneOffset,V=function(t,e,n,s,o,r){var a;return i?(a=N.UTC.apply(0,arguments),a+=b(a)):a=new N(t,e,Jt(n,1),Jt(s,0),Jt(o,0),Jt(r,0)).getTime(),a},U=n+"Minutes",K=n+"Hours",Z=n+"Day",q=n+"Date",$=n+"Month",J=n+"FullYear",Q=s+"Milliseconds",tt=s+"Seconds",et=s+"Minutes",it=s+"Hours",nt=s+"Date",st=s+"Month",ot=s+"FullYear"}function D(t){return this instanceof D?void this.init(t):new D(t)}function z(){}function R(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function B(t,e,i,n,s){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=s,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:Jt(e.y,o?4:i?14:-6),x:Jt(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}var E,X,W,G,H,F,Y,N,V,j,_,U,K,Z,q,$,J,Q,tt,et,it,nt,st,ot,rt,at=t.document,ht=Math,lt=ht.round,ct=ht.floor,dt=ht.ceil,pt=ht.max,ut=ht.min,ft=ht.abs,gt=ht.cos,mt=ht.sin,yt=ht.PI,vt=2*yt/360,xt=t.navigator&&t.navigator.userAgent||"",bt=t.opera,kt=/(msie|trident|edge)/i.test(xt)&&!bt,wt=at&&8===at.documentMode,St=!kt&&/AppleWebKit/.test(xt),Tt=/Firefox/.test(xt),At=/(Mobile|Android|Windows Phone)/.test(xt),Ct="http://www.w3.org/2000/svg",Pt=at&&at.createElementNS&&!!at.createElementNS(Ct,"svg").createSVGRect,Lt=Tt&&parseInt(xt.split("Firefox/")[1],10)<4,Mt=at&&!Pt&&!kt&&!!at.createElement("canvas").getContext,It={},Ot=0,Dt=function(){},zt=[],Rt=0,Bt="div",Et=/^[0-9]+$/,Xt=["plotTop","marginRight","marginBottom","plotLeft"],Wt={};rt=t.Highcharts?e(16,!0):{win:t},rt.seriesTypes=Wt;var Gt,Ht,Ft,Yt,Nt,Vt,jt,_t,Ut,Kt,Zt,qt=[];i.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],s=this.now,o=e.length;if(1===s)n=this.toD;else if(o===i.length&&1>s)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?e[o]:s*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,e,i){var n,s=this,o=function(t){return o.stopped?!1:s.step(t)};this.startTime=+new N,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===qt.push(o)&&(o.timerId=setInterval(function(){for(n=0;n<qt.length;n++)qt[n]()||qt.splice(n--,1);qt.length||clearInterval(o.timerId)},13))},step:function(t){var e,i=+new N,n=this.options;e=this.elem;var s,o=n.complete,r=n.duration,a=n.curAnim;if(e.attr&&!e.element)e=!1;else if(t||i>=r+this.startTime){this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0;for(s in a)a[s]!==!0&&(t=!1);t&&o&&o.call(e),e=!1}else this.pos=n.easing((i-this.startTime)/r),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,i){var n,e=e||"",s=t.shift,o=e.indexOf("C")>-1,r=o?7:3,e=e.split(" "),i=[].concat(i),a=t.isArea,h=a?2:1,l=function(t){for(n=t.length;n--;)("M"===t[n]||"L"===t[n])&&t.splice(n+1,0,t[n+1],t[n+2],t[n+1],t[n+2])};if(o&&(l(e),l(i)),s<=i.length/r&&e.length===i.length)for(;s--;)i=i.slice(0,r).concat(i),a&&(i=i.concat(i.slice(i.length-r)));if(t.shift=0,e.length)for(t=i.length;e.length<t;)s=e.slice().splice(e.length/h-r,r*h),o&&(s[r-6]=s[r-2],s[r-5]=s[r-1]),[].splice.apply(e,[e.length/h,0].concat(s));return[e,i]}};var $t=rt.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},Jt=rt.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],e!==E&&null!==e)return e},Qt=rt.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}};F=function(t,e,i){if(!p(e)||isNaN(e))return H.lang.invalidDate||"";var n,t=Jt(t,"%Y-%m-%d %H:%M:%S"),s=new N(e-b(e)),o=s[K](),r=s[Z](),a=s[q](),h=s[$](),l=s[J](),c=H.lang,d=c.weekdays,s=$t({a:d[r].substr(0,3),A:d[r],d:x(a),e:a,w:r,b:c.shortMonths[h],B:c.months[h],m:x(h+1),y:l.toString().substr(2,2),Y:l,H:x(o),k:o,I:x(o%12||12),l:o%12||12,M:x(s[U]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:x(s.getSeconds()),L:x(lt(e%1e3),3)},rt.dateFormats);for(n in s)for(;-1!==t.indexOf("%"+n);)t=t.replace("%"+n,"function"==typeof s[n]?s[n](e):s[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},Y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},rt.numberFormat=function(t,e,i,n){var o,r,t=+t||0,a=H.lang,h=(t.toString().split(".")[1]||"").length,l=Math.abs(t);return-1===e?e=Math.min(h,20):isNaN(e)&&(e=2),o=String(s(l.toFixed(e))),r=o.length>3?o.length%3:0,i=Jt(i,a.decimalPoint),n=Jt(n,a.thousandsSep),t=0>t?"-":"",t+=r?o.substr(0,r)+n:"",t+=o.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n),+e&&(n=Math.abs(l-o+Math.pow(10,-Math.max(e,h)-1)),t+=i+n.toFixed(e).slice(2)),t},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},Gt=function(e,i){var n;return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-Gt(e,"padding-left")-Gt(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-Gt(e,"padding-top")-Gt(e,"padding-bottom"):(n=t.getComputedStyle(e,void 0))&&s(n.getPropertyValue(i))},Ht=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},Yt=function(t,e){return[].filter.call(t,e)},Vt=function(t,e){for(var i=[],n=0,s=t.length;s>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},Nt=function(e){var i=at.documentElement,e=e.getBoundingClientRect();return{top:e.top+(t.pageYOffset||i.scrollTop)-(i.clientTop||0),left:e.left+(t.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},Zt=function(t){for(var e=qt.length;e--;)qt[e].elem===t&&(qt[e].stopped=!0)},Ft=function(t,e){return Array.prototype.forEach.call(t,e)},jt=function(e,i,n){function s(i){i.target=i.srcElement||t,n.call(e,i)}var o=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=s,e.attachEvent("on"+i,s)),o[i]||(o[i]=[]),o[i].push(n)},_t=function(t,e,i){function n(e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.attachEvent&&(i=t.hcEventsIE[i.toString()],t.detachEvent("on"+e,i))}function s(){var i,s,o;if(t.nodeName)for(o in e?(i={},i[e]=!0):i=a,i)if(a[o])for(s=a[o].length;s--;)n(o,a[o][s])}var o,r,a=t.hcEvents;a&&(e?(o=a[e]||[],i?(r=Ht(i,o),r>-1&&(o.splice(r,1),a[e]=o),n(e,i)):(s(),a[e]=[])):(s(),t.hcEvents={}))},Ut=function(t,e,i,n){var s;s=t.hcEvents;var o,r,a,h,i=i||{};if(at.createEvent&&(t.dispatchEvent||t.fireEvent))s=at.createEvent("Events"),s.initEvent(e,!0,!0),s.target=t,$t(s,i),t.dispatchEvent?t.dispatchEvent(s):t.fireEvent(e,s);else if(s)for(s=s[e]||[],o=s.length,a=function(){i.defaultPrevented=!0},r=0;o>r;r++){if(h=s[r],i.stopped)return;i.preventDefault=a,i.target=t,i.type||(i.type=e),h.call(t,i)===!1&&i.preventDefault()}n&&!i.defaultPrevented&&n(i)},Kt=function(t,e,s){var o,a,l,c,d="";r(s)||(o=arguments,s={duration:o[2],easing:o[3],complete:o[4]}),h(s.duration)||(s.duration=400),s.easing=Math[s.easing]||Math.easeInOutSine,s.curAnim=n(e);for(c in e)l=new i(t,s,c),a=null,"d"===c?(l.paths=l.initPath(t,t.d,e.d),l.toD=e.d,o=0,a=1):t.attr?o=t.attr(c):(o=parseFloat(Gt(t,c))||0,"opacity"!==c&&(d="px")),a||(a=e[c]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),l.run(o,a,d)},t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);return this[0]?t[0]?(new(rt[o(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):zt[u(this[0],"data-highcharts-chart")]:void 0}),at&&!at.defaultView&&(Gt=function(t,e){var i;return i={width:"clientWidth",height:"clientHeight"}[e],t.style[e]?s(t.style[e]):("opacity"===e&&(e="filter"),i?(t.style.zoom=1,t[i]-2*Gt(t,"padding")):(i=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===i?1:s(i)))}),Array.prototype.forEach||(Ft=function(t,e){for(var i=0,n=t.length;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i}),Array.prototype.indexOf||(Ht=function(t,e){var i,n=0;if(e)for(i=e.length;i>n;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(Yt=function(t,e){for(var i=[],n=0,s=t.length;s>n;n++)e(t[n],n)&&i.push(t[n]);return i}),rt.Fx=i,rt.inArray=Ht,rt.each=Ft,rt.grep=Yt,rt.offset=Nt,rt.map=Vt,rt.addEvent=jt,rt.removeEvent=_t,rt.fireEvent=Ut,rt.animate=Kt,rt.stop=Zt,H={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":rt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Pt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:At?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var te=H.plotOptions,ee=te.line;O(),D.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[s(t[1]),s(t[2]),s(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[s(t[1],16),s(t[2],16),s(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[s(t[1]),s(t[2]),s(t[3]),1]}}],init:function(t){var e,i,n,s;if((this.input=t)&&t.stops)this.stops=Vt(t.stops,function(t){return new D(t[1])});else for(n=this.parsers.length;n--&&!i;)s=this.parsers[n],(e=s.regex.exec(t))&&(i=s.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,s=this.rgba;return this.stops?(e=n(i),e.stops=[].concat(e.stops),Ft(this.stops,function(i,n){e.stops[n]=[e.stops[n][0],i.get(t)]})):e=s&&!isNaN(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)Ft(this.stops,function(e){e.brighten(t)});else if(h(t)&&0!==t)for(e=0;3>e;e++)i[e]+=s(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},z.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(t,e){this.element="span"===e?y(e):at.createElementNS(Ct,e),this.renderer=t},animate:function(t,e,i){return e=Jt(e,this.renderer.globalAnimation,!0),Zt(this),e?(e=n(e,{}),i&&(e.complete=i),Kt(this,t,e)):this.attr(t,null,i),this},colorGradient:function(t,e,i){var s,o,r,h,l,c,d,u,f,g,m,y,v=this.renderer,x=[];if(t.linearGradient?o="linearGradient":t.radialGradient&&(o="radialGradient"),o){r=t[o],l=v.gradients,d=t.stops,g=i.radialReference,a(r)&&(t[o]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!p(r.gradientUnits)&&(h=r,r=n(r,v.getRadialAttr(g,h),{gradientUnits:"userSpaceOnUse"}));for(m in r)"id"!==m&&x.push(m,r[m]);for(m in d)x.push(d[m]);x=x.join(","),l[x]?g=l[x].attr("id"):(r.id=g="highcharts-"+Ot++,l[x]=c=v.createElement(o).attr(r).add(v.defs),c.radAttr=h,c.stops=[],Ft(d,function(t){0===t[1].indexOf("rgba")?(s=D(t[1]),u=s.get("rgb"),f=s.get("a")):(u=t[1],f=1),t=v.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":f}).add(c),c.stops.push(t)})),y="url("+v.url+"#"+g+")",i.setAttribute(e,y),i.gradient=x,t.toString=function(){return y}}},applyTextShadow:function(t){var e,i=this.element,n=-1!==t.indexOf("contrast"),o={},r=this.renderer.forExport,a=r||i.style.textShadow!==E&&!kt;n&&(o.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(St||r)&&(o.textRendering="geometricPrecision"),a?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(i.getElementsByTagName("tspan")),Ft(t.split(/\s?,\s?/g),function(t){var n,o,r=i.firstChild,t=t.split(" ");n=t[t.length-1],(o=t[t.length-2])&&Ft(e,function(t,e){var a;0===e&&(t.setAttribute("x",i.getAttribute("x")),e=i.getAttribute("y"),t.setAttribute("y",e||0),null===e&&i.setAttribute("y",0)),a=t.cloneNode(1),u(a,{"class":"highcharts-text-shadow",fill:n,stroke:n,"stroke-opacity":1/pt(s(o),3),"stroke-width":o,"stroke-linejoin":"round"}),i.insertBefore(a,r)})}))},attr:function(t,e,i){var n,s,o,r=this.element,a=this;if("string"==typeof t&&e!==E&&(n=t,t={},t[n]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,r);else{for(n in t)e=t[n],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(s||(this.symbolAttr(t),s=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(o=this[n+"Setter"]||this._defaultSetter,o.call(this,e,n,r),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,o));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),a},updateShadows:function(t,e,i){for(var n=this.shadows,s=n.length;s--;)i.call(null,"height"===t?Math.max(e-(n[s].cutHeight||0),0):"d"===t?this.d:e,t,n[s])},addClass:function(t){var e=this.element,i=u(e,"class")||"";return-1===i.indexOf(t)&&u(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Ft("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=Jt(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t){var e,i,n={},s=this.strokeWidth||0;i=lt(s)%2/2,t.x=ct(t.x||this.x||0)+i,t.y=ct(t.y||this.y||0)+i,t.width=ct((t.width||this.width||0)-2*i),t.height=ct((t.height||this.height||0)-2*i),t.strokeWidth=s;for(e in t)this[e]!==t[e]&&(this[e]=n[e]=t[e]);return n},css:function(t){var e,i,n=this.styles,o={},r=this.element,a="";if(e=!n,t&&t.color&&(t.fill=t.color),n)for(i in t)t[i]!==n[i]&&(o[i]=t[i],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===r.nodeName.toLowerCase()&&s(t.width)||this.textWidth,n&&(t=$t(n,o)),this.styles=t,e&&(Mt||!Pt&&this.renderer.forExport)&&delete t.width,kt&&!Pt)m(this.element,t);else{n=function(t,e){return"-"+e.toLowerCase()};for(i in t)a+=i.replace(/([A-Z])/g,n)+":"+t[i]+";";u(r,"style",a)}e&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,n=i.element;return W&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=N.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===xt.indexOf("Android")||N.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,s=this.inverted,o=this.rotation,r=this.element;s&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],s?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(r.getAttribute("x")||0)+" "+(r.getAttribute("y")||0)+")"),(p(i)||p(n))&&t.push("scale("+Jt(i,1)+" "+Jt(n,1)+")"),t.length&&r.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,s,r,a,h={};return s=this.renderer,r=s.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||o(i))&&(this.alignTo=n=i||"renderer",d(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=Jt(i,s[n],s),n=t.align,s=t.verticalAlign,r=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),("right"===n||"center"===n)&&(r+=(i.width-(t.width||0))/{right:1,center:2}[n]),h[e?"translateX":"x"]=lt(r),("bottom"===s||"middle"===s)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[s]||1)),h[e?"translateY":"y"]=lt(a),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(t,e){var i,n,s,o,r=this.renderer,a=this.element,h=this.styles;n=this.textStr;var l,c,d,p=a.style,u=r.cache,f=r.cacheKeys;if(s=Jt(e,this.rotation),o=s*vt,n!==E&&(d=["",s||0,h&&h.fontSize,a.style.width].join(","),d=""===n||Et.test(n)?"num:"+n.toString().length+d:n+d),d&&!t&&(i=u[d]),!i){if(a.namespaceURI===Ct||r.forExport){try{c=this.fakeTS&&function(t){Ft(a.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},Tt&&p.textShadow?(l=p.textShadow,p.textShadow=""):c&&c("none"),i=a.getBBox?$t({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},l?p.textShadow=l:c&&c("")}catch(g){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(r.isSVG&&(r=i.width,n=i.height,kt&&h&&"11px"===h.fontSize&&"16.9"===n.toPrecision(3)&&(i.height=n=14),s&&(i.width=ft(n*mt(o))+ft(r*gt(o)),i.height=ft(n*gt(o))+ft(r*mt(o)))),d){for(;f.length>250;)delete u[f.shift()];u[d]||f.push(d),u[d]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},s=i.shadows,o=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,Zt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(n),s&&Ft(s,function(t){i.safeRemoveChild(t)});o&&o.div&&0===o.div.childNodes.length;)n=o.parentGroup,i.safeRemoveChild(o.div),delete o.div,o=n;i.alignTo&&d(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,s,o,r,a,h,l=[],c=this.element;if(t){for(r=Jt(t.width,3),a=(t.opacity||.15)/r,h=this.parentInverted?"(-1,-1)":"("+Jt(t.offsetX,1)+", "+Jt(t.offsetY,1)+")",n=1;r>=n;n++)s=c.cloneNode(0),o=2*r+1-2*n,u(s,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+h,fill:"none"}),i&&(u(s,"height",pt(u(s,"height")-o,0)),s.cutHeight=o),e?e.element.appendChild(s):c.parentNode.insertBefore(s,c),l.push(s);this.shadows=l}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Jt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e;if(t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=s(t[e])*this["stroke-width"];t=t.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=at.createElementNS(Ct,"title"),this.element.appendChild(e)),e.appendChild(at.createTextNode(String(Jt(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,o,r=this.renderer,a=this.parentGroup,r=(a||r).element||r.box,h=this.element;i=this.added;var l;if(p(t)&&(h.setAttribute(e,t),t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&a&&(a.handleZ=!0),a=r.childNodes,l=0;l<a.length&&!o;l++)i=a[l],n=u(i,"zIndex"),i!==h&&(s(n)>t||!p(t)&&p(n))&&(r.insertBefore(h,i),o=!0);o||r.appendChild(h)}return o},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},z.prototype.yGetter=z.prototype.xGetter,z.prototype.translateXSetter=z.prototype.translateYSetter=z.prototype.rotationSetter=z.prototype.verticalAlignSetter=z.prototype.scaleXSetter=z.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},z.prototype["stroke-widthSetter"]=z.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],z.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var ie=function(){this.init.apply(this,arguments)};ie.prototype={Element:z,init:function(e,i,n,s,o,r){var a,s=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(s));a=s.element,e.appendChild(a),-1===e.innerHTML.indexOf("xmlns")&&u(a,"xmlns",Ct),this.isSVG=!0,this.box=a,this.boxWrapper=s,this.alignedObjects=[],this.url=(Tt||St)&&at.getElementsByTagName("base").length?t.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highcharts 4.2.3")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(i,n,!1);var h;Tt&&e.getBoundingClientRect&&(this.subPixelFix=i=function(){m(e,{left:0,top:0}),h=e.getBoundingClientRect(),m(e,{left:dt(h.left)-h.left+"px",top:dt(h.top)-h.top+"px"})},i(),jt(t,"resize",i))},getStyle:function(t){return this.style=$t({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),P(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&_t(t,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,n=t.element,o=this,r=o.forExport,a=Jt(t.textStr,"").toString(),h=-1!==a.indexOf("<"),l=n.childNodes,c=u(n,"x"),d=t.styles,p=t.textWidth,f=d&&d.lineHeight,g=d&&d.textShadow,y=d&&"ellipsis"===d.textOverflow,v=l.length,x=p&&!t.added&&this.box,b=function(t){return f?s(f):o.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:d&&d.fontSize||o.style.fontSize||12,t).h},k=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};v--;)n.removeChild(l[v]);h||g||y||-1!==a.indexOf(" ")?(e=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,x&&x.appendChild(n),a=h?a.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[a],""===a[a.length-1]&&a.pop(),Ft(a,function(s,a){var h,l=0,s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");h=s.split("|||"),Ft(h,function(s){if(""!==s||1===h.length){var f,g={},v=at.createElementNS(Ct,"tspan");if(e.test(s)&&(f=s.match(e)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(v,"style",f)),i.test(s)&&!r&&(u(v,"onclick",'location.href="'+s.match(i)[1]+'"'),m(v,{cursor:"pointer"})),s=k(s.replace(/<(.|\n)*?>/g,"")||" ")," "!==s){if(v.appendChild(at.createTextNode(s)),l?g.dx=0:a&&null!==c&&(g.x=c),u(v,g),n.appendChild(v),!l&&a&&(!Pt&&r&&m(v,{display:"block"}),u(v,"dy",b(v))),p){for(var x,w,S,g=s.replace(/([^\^])-/g,"$1- ").split(" "),T=h.length>1||a||g.length>1&&"nowrap"!==d.whiteSpace,A=[],C=b(v),P=1,L=t.rotation,M=s,I=M.length;(T||y)&&(g.length||A.length);)t.rotation=0,x=t.getBBox(!0),S=x.width,!Pt&&o.forExport&&(S=o.measureSpanWidth(v.firstChild.data,t.styles)),x=S>p,void 0===w&&(w=x),y&&w?(I/=2,""===M||!x&&.5>I?g=[]:(x&&(w=!0),M=s.substring(0,M.length+(x?-1:1)*dt(I)),g=[M+(p>3?"…":"")],v.removeChild(v.firstChild))):x&&1!==g.length?(v.removeChild(v.firstChild),A.unshift(g.pop())):(g=A,A=[],g.length&&(P++,v=at.createElementNS(Ct,"tspan"),u(v,{dy:C,x:c}),f&&u(v,"style",f),n.appendChild(v)),S>p&&(p=S)),g.length&&v.appendChild(at.createTextNode(g.join(" ").replace(/- /g,"-")));w&&t.attr("title",t.textStr),t.rotation=L}l++}}})}),x&&x.removeChild(n),g&&t.applyTextShadow&&t.applyTextShadow(g)):n.appendChild(at.createTextNode(k(a)))},getContrast:function(t){return t=D(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(t,e,i,s,o,r,a,h,l){var c,d,p,u,f,g,m=this.label(t,e,i,l,null,null,null,null,"button"),y=0,t={x1:0,y1:0,x2:0,y2:1},o=n({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return p=o.style,delete o.style,r=n(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),u=r.style,delete r.style,a=n(o,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,h=n(o,{style:{color:"#CCC"}},h),g=h.style,delete h.style,jt(m.element,kt?"mouseover":"mouseenter",function(){3!==y&&m.attr(r).css(u)}),jt(m.element,kt?"mouseout":"mouseleave",function(){3!==y&&(c=[o,r,a][y],d=[p,u,f][y],m.attr(c).css(d))}),m.setState=function(t){(m.state=y=t)?2===t?m.attr(a).css(f):3===t&&m.attr(h).css(g):m.attr(o).css(p);
},m.on("click",function(t){3!==y&&s.call(m,t)}).attr(o).css($t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=lt(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=lt(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return a(t)?e.d=t:r(t)&&$t(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=r(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,s,o){return r(t)&&(e=t.y,i=t.r,n=t.innerR,s=t.start,o=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:s||0,end:o||0}),t.r=i,t},rect:function(t,e,i,n,s,o){var s=r(t)?t.r:s,a=this.createElement("rect"),t=r(t)?t:t===E?{}:{x:t,y:e,width:pt(i,0),height:pt(n,0)};return o!==E&&(a.strokeWidth=o,t=a.crisp(t)),s&&(t.r=s),a.rSetter=function(t,e,i){u(i,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,s=n.length;for(this.width=t,this.height=e,this.boxWrapper[Jt(i,!0)?"animate":"attr"]({width:t,height:e});s--;)n[s].align()},g:function(t){var e=this.createElement("g");return p(t)?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,n,s){var o={preserveAspectRatio:"none"};return arguments.length>1&&$t(o,{x:e,y:i,width:n,height:s}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,s,o){var r,a,h,l=this,c=this.symbols[t],c=c&&c(lt(e),lt(i),n,s,o),d=/^url\((.*?)\)$/;return c?(r=this.path(c),$t(r,{symbolName:t,x:e,y:i,width:n,height:s}),o&&$t(r,o)):d.test(t)&&(h=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(lt((n-e[0])/2),lt((s-e[1])/2)))},a=t.match(d)[1],t=It[a]||o&&o.width&&o.height&&[o.width,o.height],r=this.image(a).attr({x:e,y:i}),r.isImg=!0,t?h(r,t):(r.attr({width:0,height:0}),y("img",{onload:function(){0===this.width&&(m(this,{position:"absolute",top:"-999em"}),at.body.appendChild(this)),h(r,It[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),l.imgCount--,l.imgCount||zt[l.chartIndex].onload()},src:a})),this.imgCount++),r},symbols:{circle:function(t,e,i,n){var s=.166*i;return["M",t+i/2,e,"C",t+i+s,e,t+i+s,e+n,t+i/2,e+n,"C",t-s,e+n,t-s,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,s){var o=s.start,i=s.r||i||n,r=s.end-.001,n=s.innerR,a=s.open,h=gt(o),l=mt(o),c=gt(r),r=mt(r),s=s.end-o<yt?0:1;return["M",t+i*h,e+i*l,"A",i,i,0,s,1,t+i*c,e+i*r,a?"M":"L",t+n*c,e+n*r,"A",n,n,0,s,0,t+n*h,e+n*l,a?"":"Z"]},callout:function(t,e,i,n,s){var o,r=ut(s&&s.r||0,i,n),a=r+6,h=s&&s.anchorX,s=s&&s.anchorY;return o=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+n-r,"C",t+i,e+n,t+i,e+n,t+i-r,e+n,"L",t+r,e+n,"C",t,e+n,t,e+n,t,e+n-r,"L",t,e+r,"C",t,e,t,e,t+r,e],h&&h>i&&s>e+a&&e+n-a>s?o.splice(13,3,"L",t+i,s-6,t+i+6,s,t+i,s+6,t+i,e+n-r):h&&0>h&&s>e+a&&e+n-a>s?o.splice(33,3,"L",t,s+6,t-6,s,t,s-6,t,e+r):s&&s>n&&h>t+a&&t+i-a>h?o.splice(23,3,"L",h+6,e+n,h,e+n+6,h-6,e+n,t+r,e+n):s&&0>s&&h>t+a&&t+i-a>h&&o.splice(3,3,"L",h-6,e,h,e-6,h+6,e,i-r,e),o}},clipRect:function(t,e,i,n){var s="highcharts-"+Ot++,o=this.createElement("clipPath").attr({id:s}).add(this.defs),t=this.rect(t,e,i,n,0).add(o);return t.id=s,t.clipPath=o,t.count=0,t},text:function(t,e,i,n){var s=Mt||!Pt&&this.forExport,o={};return!n||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),i&&(o.y=Math.round(i)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),s&&t.css({position:"absolute"}),n||(t.xSetter=function(t,e,i){var n,s,o=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(s=0;s<o.length;s++)n=o[s],n.getAttribute(e)===r&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(e,i){var n,o,e=e||this.style.fontSize;return!e&&i&&t.getComputedStyle&&(i=i.element||i,e=(n=t.getComputedStyle(i,""))&&n.fontSize),e=/px/.test(e)?s(e):/em/.test(e)?12*parseFloat(e):12,n=24>e?e+3:lt(1.2*e),o=lt(.8*n),{h:n,b:o,f:e}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=pt(n*gt(e*vt),4)),{x:-t/3*mt(e*vt),y:n}},label:function(t,e,i,s,o,r,a,h,l){var c,d,u,f,g,m,y,v,x,b,k,w=this,S=w.g(l),T=w.text("",0,0,a).attr({zIndex:1}),A=0,C=3,P=0,L=0,M={};x=function(){var t,e;t=T.element.style,d=(void 0===u||void 0===f||S.styles.textAlign)&&p(T.textStr)&&T.getBBox(),S.width=(u||d.width||0)+2*C+P,S.height=(f||d.height||0)+2*C,y=C+w.fontMetrics(t&&t.fontSize,T).b,v&&(c||(t=L,e=(h?-y:0)+L,S.box=c=s?w.symbol(s,t,e,S.width,S.height,M):w.rect(t,e,S.width,S.height,0,M["stroke-width"]),c.isImg||c.attr("fill","none"),c.add(S)),c.isImg||c.attr($t({width:lt(S.width),height:lt(S.height)},M)),M=null)},b=function(){var t,e=S.styles,e=e&&e.textAlign,i=P+C;t=h?0:y,p(u)&&d&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(u-d.width)),(i!==T.x||t!==T.y)&&(T.attr("x",i),t!==E&&T.attr("y",t)),T.x=i,T.y=t},k=function(t,e){c?c.attr(t,e):M[t]=e},S.onAdd=function(){T.add(S),S.attr({text:t||0===t?t:"",x:e,y:i}),c&&p(o)&&S.attr({anchorX:o,anchorY:r})},S.widthSetter=function(t){u=t},S.heightSetter=function(t){f=t},S.paddingSetter=function(t){p(t)&&t!==C&&(C=S.padding=t,b())},S.paddingLeftSetter=function(t){p(t)&&t!==P&&(P=t,b())},S.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==A&&(A=t,d&&S.attr({x:e}))},S.textSetter=function(t){t!==E&&T.textSetter(t),x(),b()},S["stroke-widthSetter"]=function(t,e){t&&(v=!0),L=t%2/2,k(e,t)},S.strokeSetter=S.fillSetter=S.rSetter=function(t,e){"fill"===e&&t&&(v=!0),k(e,t)},S.anchorXSetter=function(t,e){o=t,k(e,lt(t)-L-g)},S.anchorYSetter=function(t,e){r=t,k(e,t-m)},S.xSetter=function(t){S.x=t,A&&(t-=A*((u||d.width)+2*C)),g=lt(t),S.attr("translateX",g)},S.ySetter=function(t){m=S.y=lt(t),S.attr("translateY",m)};var I=S.css;return $t(S,{css:function(t){if(t){var e={},t=n(t);Ft(S.textProps,function(i){t[i]!==E&&(e[i]=t[i],delete t[i])}),T.css(e)}return I.call(S,t)},getBBox:function(){return{width:d.width+2*C,height:d.height+2*C,x:d.x-C,y:d.y-C}},shadow:function(t){return c&&c.shadow(t),S},destroy:function(){_t(S.element,"mouseenter"),_t(S.element,"mouseleave"),T&&(T=T.destroy()),c&&(c=c.destroy()),z.prototype.destroy.call(S),S=w=x=b=k=null}})}},X=ie,$t(z.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=$t(this.styles,t),m(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,n=this.translateY||0,o=this.x||0,r=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],l=this.shadows,c=this.styles;if(m(e,{marginLeft:i,marginTop:n}),l&&Ft(l,function(t){m(t,{marginLeft:i+1,marginTop:n+1})}),this.inverted&&Ft(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var l=this.rotation,d=s(this.textWidth),u=c&&c.whiteSpace,f=[l,a,e.innerHTML,this.textWidth,this.textAlign].join(",");f!==this.cTT&&(c=t.fontMetrics(e.style.fontSize).b,p(l)&&this.setSpanRotation(l,h,c),e.offsetWidth>d&&/[ \-]/.test(e.textContent||e.innerText)?(m(e,{width:d+"px",display:"block",whiteSpace:u||"normal"}),this.hasTextWidth=!0):this.hasTextWidth&&(m(e,{width:"",display:"",whiteSpace:u||"nowrap"}),this.hasTextWidth=!1),this.getSpanCorrection(this.hasTextWidth?d:e.offsetWidth,c,h,l,a)),m(e,{left:o+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"}),St&&(c=e.offsetHeight),this.cTT=f}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},s=kt?"-ms-transform":St?"-webkit-transform":Tt?"MozTransform":bt?"-o-transform":"";n[s]=n.transform="rotate("+t+"deg)",n[s+(Tt?"Origin":"-origin")]=n.transformOrigin=100*e+"% "+i+"px",m(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),$t(ie.prototype,{html:function(t,e,i){var n=this.createElement("span"),s=n.element,o=n.renderer,r=function(t,e){Ft(["opacity","visibility"],function(i){Qt(t,i+"Setter",function(t,i,n,s){t.call(this,i,n,s),e[n]=i})})};return n.textSetter=function(t){t!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=t,n.htmlUpdateTransform()},r(n,n.element.style),n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),n[e]=t,n.htmlUpdateTransform()},n.attr({text:t,x:lt(e),y:lt(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",n.css=n.htmlCss,o.isSVG&&(n.add=function(t){var e,i=o.box.parentNode,a=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)a.push(t),t=t.parentGroup;Ft(a.reverse(),function(t){var n,s=u(t.element,"class");s&&(s={className:s}),e=t.div=t.div||y(Bt,s,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},e||i),n=e.style,$t(t,{translateXSetter:function(e,i){n.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+"px",t[i]=e,t.doTransform=!0}}),r(t,n)})}}else e=i;return e.appendChild(s),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var ne;if(!Pt&&!Mt){ne={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],n=["position: ","absolute",";"],s=e===Bt;("shape"===e||s)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",s?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),e&&(i=s||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=y(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,n=e.box,s=t&&t.inverted,n=t?t.element||t:n;return t&&(this.parentGroup=t),s&&e.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:z.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=gt(t*vt),i=mt(t*vt);m(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,s){var o,r=n?gt(n*vt):1,a=n?mt(n*vt):0,h=Jt(this.elemHeight,this.element.offsetHeight);this.xCorr=0>r&&-t,this.yCorr=0>a&&-h,o=0>r*a,this.xCorr+=a*e*(o?1-i:i),this.yCorr-=r*e*(n?o?i:1-i:1),s&&"left"!==s&&(this.xCorr-=t*i*(0>r?-1:1),n&&(this.yCorr-=h*i*(0>a?-1:1)),m(this.element,{textAlign:s}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)h(t[e])?i[e]=lt(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,d(e,i),e.push(i),i.destroyClip=function(){d(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:wt?"inherit":"rect(auto)"}),i.css(t)},css:z.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&L(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),z.prototype.destroy.apply(this)},on:function(e,i){return this.element["on"+e]=function(){var e=t.event;e.target=e.srcElement,i(e)},this},cutOffPath:function(t,e){var i,t=t.split(/[ ,]/);return i=t.length,(9===i||11===i)&&(t[i-4]=t[i-2]=s(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var n,o,r,a,h,l,c,d=[],p=this.element,u=this.renderer,f=p.style,g=p.path;if(g&&"string"!=typeof g.value&&(g="x"),h=g,t){for(l=Jt(t.width,3),c=(t.opacity||.15)/l,n=1;3>=n;n++)a=2*l+1-2*n,i&&(h=this.cutOffPath(g.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',h,'" coordsize="10 10" style="',p.style.cssText,'" />'],o=y(u.prepVML(r),null,{left:s(f.left)+Jt(t.offsetX,1),top:s(f.top)+Jt(t.offsetY,1)}),i&&(o.cutOff=a+1),r=['<stroke color="',t.color||"black",'" opacity="',c*n,'"/>'],y(u.prepVML(r),null,null,o),e?e.element.appendChild(o):p.parentNode.insertBefore(o,p),d.push(o);this.shadows=d}return this},updateShadows:Dt,setAttr:function(t,e){wt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||y(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(t,n[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){y(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:Dt,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-lt(mt(t*vt)+1)+"px",i.top=lt(gt(t*vt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,h(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Ft(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,wt||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},ne["stroke-opacitySetter"]=ne["fill-opacitySetter"],rt.VMLElement=ne=v(z,ne),ne.prototype.ySetter=ne.prototype.widthSetter=ne.prototype.heightSetter=ne.prototype.xSetter;var se={Element:ne,isIE8:xt.indexOf("MSIE 8.0")>-1,init:function(t,e,i,n){var s;if(this.alignedObjects=[],n=this.createElement(Bt).css($t(this.getStyle(n),{position:"relative"})),s=n.element,t.appendChild(n.element),this.isVML=!0,this.box=s,this.boxWrapper=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var s=this.createElement(),o=r(t);return $t(s,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,t=t.inverted,n=this.top-("shape"===i?e.offsetTop:0),s=this.left,e=s+this.width,o=n+this.height,n={clip:"rect("+lt(t?s:n)+"px,"+lt(t?o:e)+"px,"+lt(t?e:o)+"px,"+lt(t?n:s)+"px)"};return!t&&wt&&"DIV"===i&&$t(n,{width:e+"px",height:o+"px"}),n},updateClipping:function(){Ft(s.members,function(t){t.element&&t.css(s.getCSS(t))})}})},color:function(t,e,i,n){var s,o,r,a=this,h=/^rgba/,l="none";if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var c,d,p,u,f,g,m,v,x=t.linearGradient||t.radialGradient,b="",t=t.stops,k=[],w=function(){o=['<fill colors="'+k.join(",")+'" opacity="',f,'" o:opacity2="',u,'" type="',r,'" ',b,'focus="100%" method="any" />'],y(a.prepVML(o),null,null,e)};if(p=t[0],v=t[t.length-1],p[0]>0&&t.unshift([0,p[1]]),v[0]<1&&t.push([1,v[1]]),Ft(t,function(t,e){h.test(t[1])?(s=D(t[1]),c=s.get("rgb"),d=s.get("a")):(c=t[1],d=1),k.push(100*t[0]+"% "+c),e?(f=d,g=c):(u=d,m=c)}),"fill"===i)if("gradient"===r)i=x.x1||x[0]||0,t=x.y1||x[1]||0,p=x.x2||x[2]||0,x=x.y2||x[3]||0,b='angle="'+(90-180*ht.atan((x-t)/(p-i))/yt)+'"',w();else{var S,l=x.r,T=2*l,A=2*l,C=x.cx,P=x.cy,L=e.radialReference,l=function(){L&&(S=n.getBBox(),C+=(L[0]-S.x)/S.width-.5,P+=(L[1]-S.y)/S.height-.5,T*=L[2]/S.width,A*=L[2]/S.height),b='src="'+H.global.VMLRadialGradientURL+'" size="'+T+","+A+'" origin="0.5,0.5" position="'+C+","+P+'" color2="'+m+'" ',w()};n.added?l():n.onAdd=l,l=g}else l=c}else h.test(t)&&"IMG"!==e.tagName?(s=D(t),n[i+"-opacitySetter"](s.get("a"),i,e),l=s.get("rgb")):(l=e.getElementsByTagName(i),l.length&&(l[0].opacity=1,l[0].type="solid"),l=t);return l},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:ie.prototype.html,path:function(t){var e={coordsize:"10 10"};return a(t)?e.d=t:r(t)&&$t(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return r(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Bt).attr(e)},image:function(t,e,i,n,s){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:s}),o},createElement:function(t){return"rect"===t?this.symbol(t):ie.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this,n=e.style,o="IMG"===t.tagName&&t.style;m(t,{flip:"x",left:s(n.width)-(o?s(o.top):1),top:s(n.height)-(o?s(o.left):1),rotation:-90}),Ft(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,s){var o=s.start,r=s.end,a=s.r||i||n,i=s.innerR,n=gt(o),h=mt(o),l=gt(r),c=mt(r);return r-o===0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*n,e+a*h,t+a*l,e+a*c],s.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*l,e+i*c,t+i*n,e+i*h,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,s){return s&&(i=n=2*s.r),s&&s.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,s){return ie.prototype.symbols[p(s)&&s.r?"callout":"square"].call(0,t,e,i,n,s)}}};rt.VMLRenderer=ne=function(){this.init.apply(this,arguments)},ne.prototype=n(ie.prototype,se),X=ne}ie.prototype.measureSpanWidth=function(t,e){var i,n=at.createElement("span");return i=at.createTextNode(t),n.appendChild(i),m(n,e),this.box.appendChild(n),i=n.offsetWidth,L(n),i};var oe;Mt&&(rt.CanVGRenderer=ne=function(){Ct="http://www.w3.org/1999/xhtml"},ne.prototype.symbols={},oe=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){if(0===e.length){var s=at.getElementsByTagName("head")[0],o=at.createElement("script");o.type="text/javascript",o.src=n,o.onload=t,s.appendChild(o)}e.push(i)}}}(),X=ne),R.prototype={addLabel:function(){var t,e=this.axis,i=e.options,s=e.chart,o=e.categories,r=e.names,a=this.pos,h=i.labels,l=e.tickPositions,d=a===l[0],u=a===l[l.length-1],r=o?Jt(o[a],r[a],a):a,o=this.label,l=l.info;e.isDatetimeAxis&&l&&(t=i.dateTimeLabelFormats[l.higherRanks[a]||l.unitName]),this.isFirst=d,this.isLast=u,i=e.labelFormatter.call({axis:e,chart:s,isFirst:d,isLast:u,dateTimeLabelFormat:t,value:e.isLog?M(c(r)):r}),p(o)?o&&o.attr({text:i}):(this.labelLength=(this.label=o=p(i)&&h.enabled?s.renderer.text(i,0,0,h.useHTML).css(n(h.style)).add(e.labelGroup):null)&&o.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=t.x,s=i.chart.chartWidth,o=i.chart.spacing,r=Jt(i.labelLeft,ut(i.pos,o[3])),o=Jt(i.labelRight,pt(i.pos+i.len,s-o[1])),a=this.label,h=this.rotation,l={left:0,center:.5,right:1}[i.labelAlign],c=a.getBBox().width,d=i.slotWidth,p=1,u={};h?0>h&&r>n-l*c?e=lt(n/gt(h*vt)-r):h>0&&n+l*c>o&&(e=lt((s-n)/gt(h*vt))):(s=n+(1-l)*c,r>n-l*c?d=t.x+d*(1-l)-r:s>o&&(d=o-t.x+d*l,p=-1),d=ut(i.slotWidth,d),d<i.slotWidth&&"center"===i.labelAlign&&(t.x+=p*(i.slotWidth-d-l*(i.slotWidth-ut(c,d)))),(c>d||i.autoRotation&&a.styles.width)&&(e=d)),e&&(u.width=e,i.options.labels.style.textOverflow||(u.textOverflow="ellipsis"),a.css(u))},getPosition:function(t,e,i,n){var s=this.axis,o=s.chart,r=n&&o.oldChartHeight||o.chartHeight;return{x:t?s.translate(e+i,null,null,n)+s.transB:s.left+s.offset+(s.opposite?(n&&o.oldChartWidth||o.chartWidth)-s.right-s.left:0),y:t?r-s.bottom+s.offset-(s.opposite?s.height:0):r-s.translate(e+i,null,null,n)-s.transB}},getLabelPosition:function(t,e,i,n,s,o,r,a){var h=this.axis,l=h.transA,c=h.reversed,d=h.staggerLines,u=h.tickRotCorr||{x:0,y:0},f=s.y;return p(f)||(f=2===h.side?u.y+8:f=gt(i.rotation*vt)*(u.y-i.getBBox(!1,0).height/2)),t=t+s.x+u.x-(o&&n?o*l*(c?-1:1):0),e=e+f-(o&&!n?o*l*(c?1:-1):0),d&&(i=r/(a||1)%d,h.opposite&&(i=d-i-1),e+=i*(h.labelOffset/d)),{x:t,y:lt(e)}},getMarkPath:function(t,e,i,n,s,o){return o.crispLine(["M",t,e,"L",t+(s?0:-i),e+(s?i:0)],n)},render:function(t,e,i){var n=this.axis,s=n.options,o=n.chart.renderer,r=n.horiz,a=this.type,h=this.label,l=this.pos,c=s.labels,d=this.gridLine,p=a?a+"Grid":"grid",u=a?a+"Tick":"tick",f=s[p+"LineWidth"],g=s[p+"LineColor"],m=s[p+"LineDashStyle"],y=s[u+"Length"],p=Jt(s[u+"Width"],!a&&n.isXAxis?1:0),v=s[u+"Color"],x=s[u+"Position"],u=this.mark,b=c.step,k=!0,w=n.tickmarkOffset,S=this.getPosition(r,l,w,e),T=S.x,S=S.y,A=r&&T===n.pos+n.len||!r&&S===n.pos?-1:1,i=Jt(i,1);this.isActive=!0,f&&(l=n.getPlotLinePath(l+w,f*A,e,!0),d===E&&(d={stroke:g,"stroke-width":f},m&&(d.dashstyle=m),a||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=f?o.path(l).attr(d).add(n.gridGroup):null),!e&&d&&l&&d[this.isNew?"attr":"animate"]({d:l,opacity:i})),p&&y&&("inside"===x&&(y=-y),n.opposite&&(y=-y),a=this.getMarkPath(T,S,y,p*A,r,o),u?u.animate({d:a,opacity:i}):this.mark=o.path(a).attr({stroke:v,"stroke-width":p,opacity:i}).add(n.axisGroup)),h&&!isNaN(T)&&(h.xy=S=this.getLabelPosition(T,S,h,r,c,w,t,b),this.isFirst&&!this.isLast&&!Jt(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Jt(s.showLastLabel,1)?k=!1:r&&!n.isRadial&&!c.step&&!c.rotation&&!e&&0!==i&&this.handleOverflow(S),b&&t%b&&(k=!1),k&&!isNaN(S.y)?(S.opacity=i,h[this.isNew?"attr":"animate"](S),this.isNew=!1):h.attr("y",-9999))},destroy:function(){P(this,this.axis)}},rt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},rt.PlotLineOrBand.prototype={render:function(){var t,e=this,i=e.axis,s=i.horiz,o=e.options,r=o.label,a=e.label,h=o.width,c=o.to,d=o.from,u=p(d)&&p(c),f=o.value,g=o.dashStyle,m=e.svgElem,y=[],v=o.color,x=Jt(o.zIndex,0),b=o.events,k={},w=i.chart.renderer;if(i.isLog&&(d=l(d),c=l(c),f=l(f)),h)y=i.getPlotLinePath(f,h),k={stroke:v,"stroke-width":h},g&&(k.dashstyle=g);else{if(!u)return;y=i.getPlotBandPath(d,c,o),v&&(k.fill=v),o.borderWidth&&(k.stroke=o.borderColor,k["stroke-width"]=o.borderWidth)}if(k.zIndex=x,m)y?(m.show(),m.animate({d:y})):(m.hide(),a&&(e.label=a=a.destroy()));else if(y&&y.length&&(e.svgElem=m=w.path(y).attr(k).add(),b))for(t in o=function(t){m.on(t,function(i){b[t].apply(e,[i])})},b)o(t);return r&&p(r.text)&&y&&y.length&&i.width>0&&i.height>0&&!y.flat?(r=n({align:s&&u&&"center",x:s?!u&&4:10,verticalAlign:!s&&u&&"middle",y:s?u?16:10:u?6:-4,rotation:s&&!u&&90},r),this.renderLabel(r,y,u,x)):a&&a.hide(),e},renderLabel:function(t,e,i,n){var s=this.label,o=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation},s.zIndex=n,this.label=s=o.text(t.text,0,0,t.useHTML).attr(s).css(t.style).add()),n=[e[1],e[4],i?e[6]:e[1]],e=[e[2],e[5],i?e[7]:e[2]],i=A(n),o=A(e),s.align(t,!1,{x:i,y:o,width:C(n)-i,height:C(e)-o}),s.show()},destroy:function(){d(this.axis.plotLinesAndBands,this),delete this.axis,P(this)}};var re=rt.Axis=function(){this.init.apply(this,arguments)};re.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return rt.numberFormat(this.total,-1)},style:n(te.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,e){var i=e.isX;this.chart=t,this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var n=this.options,s=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=n.reversed,this.visible=n.visible!==!1,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===s,this.names=this.names||[],this.isLog="logarithmic"===s,this.isDatetimeAxis="datetime"===s,this.isLinked=p(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Jt(n.crosshair,f(t.options.tooltip.crosshairs)[i?0:1],!1);var o,n=this.options.events;-1===Ht(this,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===E&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in n)jt(this,o,n[o]);this.isLog&&(this.val2lin=l,this.lin2val=c)},setOptions:function(t){this.options=n(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],n(H[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,n=e.categories,s=this.dateTimeLabelFormat,o=H.lang.numericSymbols,r=o&&o.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=k(a,this);else if(n)t=i;else if(s)t=F(s,i);else if(r&&e>=1e3)for(;r--&&t===E;)n=Math.pow(1e3,r+1),e>=n&&10*i%n===0&&null!==o[r]&&(t=rt.numberFormat(i/n,-1)+o[r]);return t===E&&(t=ft(i)>=1e4?rt.numberFormat(i,-1):rt.numberFormat(i,-1,E,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),Ft(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,s=i.options,o=s.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=o&&(o=null),t.isXAxis?(s=i.xData,s.length&&(t.dataMin=ut(Jt(t.dataMin,s[0]),A(s)),t.dataMax=pt(Jt(t.dataMax,s[0]),C(s)))):(i.getExtremes(),n=i.dataMax,i=i.dataMin,p(i)&&p(n)&&(t.dataMin=ut(Jt(t.dataMin,i),i),t.dataMax=pt(Jt(t.dataMax,n),n)),p(o)&&(t.threshold=o),(!s.softThreshold||t.isLog)&&(t.softThreshold=!1))}})},translate:function(t,e,i,n,s,o){var r=this.linkedParent||this,a=1,l=0,c=n?r.oldTransA:r.transA,n=n?r.oldMin:r.min,d=r.minPixelPadding,s=(r.isOrdinal||r.isBroken||r.isLog&&s)&&r.lin2val;return c||(c=r.transA),i&&(a*=-1,l=r.len),r.reversed&&(a*=-1,l-=a*(r.sector||r.len)),e?(t=t*a+l,t-=d,t=t/c+n,s&&(t=r.lin2val(t))):(s&&(t=r.val2lin(t)),"between"===o&&(o=.5),t=a*(t-n)*c+l+a*d+(h(o)?c*o*r.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,s){var o,r,a,h=this.chart,l=this.left,c=this.top,d=i&&h.oldChartHeight||h.chartHeight,p=i&&h.oldChartWidth||h.chartWidth;o=this.transB;var u=function(t,e,i){return(e>t||t>i)&&(n?t=ut(pt(e,t),i):a=!0),t},s=Jt(s,this.translate(t,null,null,i)),t=i=lt(s+o);return o=r=lt(d-s-o),isNaN(s)?a=!0:this.horiz?(o=c,r=d-this.bottom,t=i=u(t,l,l+this.width)):(t=l,i=p-this.right,o=r=u(o,c,c+this.height)),a&&!n?null:h.renderer.crispLine(["M",t,o,"L",i,r],e||1)},getLinearTickPositions:function(t,e,i){var n,s=M(ct(e/t)*t),o=M(dt(i/t)*t),r=[];if(e===i&&h(e))return[e];for(e=s;o>=e&&(r.push(e),e=M(e+t),e!==n);)n=e;return r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,n=this.minorTickInterval,s=[],o=this.pointRangePadding||0;t=this.min-o;var o=this.max+o,r=o-t;if(r&&r/n<this.len/3)if(this.isLog)for(o=i.length,t=1;o>t;t++)s=s.concat(this.getLogTickPositions(n,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)s=s.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),t,o,e.startOfWeek));else for(i=t+(i[0]-t)%n;o>=i;i+=n)s.push(i);return 0!==s.length&&this.trimTicks(s,e.startOnTick,e.endOnTick),s},adjustForMinRange:function(){var t,e,i,n,s,o,r,a=this.options,h=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===E&&!this.isLog&&(p(a.min)||p(a.max)?this.minRange=null:(Ft(this.series,function(t){for(s=t.xData,i=o=t.xIncrement?1:s.length-1;i>0;i--)n=s[i]-s[i-1],(e===E||e>n)&&(e=n)}),this.minRange=ut(5*e,this.dataMax-this.dataMin))),l-h<this.minRange&&(r=this.minRange,t=(r-l+h)/2,t=[h-t,Jt(a.min,h-t)],c&&(t[2]=this.dataMin),h=C(t),l=[h+r,Jt(a.max,h+r)],c&&(l[2]=this.dataMax),l=A(l),r>l-h&&(t[0]=l-r,t[1]=Jt(a.min,l-r),h=C(t))),this.min=h,this.max=l},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,s=i.axisPointRange||0,r=0,a=0,h=i.linkedParent,l=!!i.categories,c=i.transA,d=i.isXAxis;(d||l||s)&&(h?(r=h.minPointOffset,a=h.pointRangePadding):(Ft(i.series,function(t){var i=t.closestPointRange;!t.noSharedTooltip&&p(i)&&(e=p(e)?ut(e,i):i)}),Ft(i.series,function(t){var n=l?1:d?Jt(t.options.pointRange,e,0):i.axisPointRange||0,t=t.options.pointPlacement;s=pt(s,n),i.single||(r=pt(r,o(t)?0:n/2),a=pt(a,"on"===t?0:n))})),h=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=r*=h,i.pointRangePadding=a*=h,i.pointRange=ut(s,n),d&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.len/(n+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*r},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var i,n,s,o,r=this,a=r.chart,c=r.options,d=r.isLog,u=r.isDatetimeAxis,f=r.isXAxis,g=r.isLinked,m=c.maxPadding,y=c.minPadding,v=c.tickInterval,x=c.tickPixelInterval,b=r.categories,k=r.threshold,T=r.softThreshold;!u&&!b&&!g&&this.getTickAmount(),s=Jt(r.userMin,c.min),o=Jt(r.userMax,c.max),g?(r.linkedParent=a[r.coll][c.linkedTo],a=r.linkedParent.getExtremes(),r.min=Jt(a.min,a.dataMin),r.max=Jt(a.max,a.dataMax),c.type!==r.linkedParent.options.type&&e(11,1)):(!T&&p(k)&&(r.dataMin>=k?(i=k,y=0):r.dataMax<=k&&(n=k,m=0)),r.min=Jt(s,i,r.dataMin),r.max=Jt(o,n,r.dataMax)),d&&(!t&&ut(r.min,Jt(r.dataMin,r.min))<=0&&e(10,1),r.min=M(l(r.min),15),r.max=M(l(r.max),15)),r.range&&p(r.max)&&(r.userMin=r.min=s=pt(r.min,r.minFromRange()),r.userMax=o=r.max,r.range=null),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),b||r.axisPointRange||r.usePercentage||g||!p(r.min)||!p(r.max)||!(a=r.max-r.min)||(!p(s)&&y&&(r.min-=a*y),!p(o)&&m&&(r.max+=a*m)),h(c.floor)&&(r.min=pt(r.min,c.floor)),h(c.ceiling)&&(r.max=ut(r.max,c.ceiling)),T&&p(r.dataMin)&&(k=k||0,!p(s)&&r.min<k&&r.dataMin>=k?r.min=k:!p(o)&&r.max>k&&r.dataMax<=k&&(r.max=k)),
r.tickInterval=r.min===r.max||void 0===r.min||void 0===r.max?1:g&&!v&&x===r.linkedParent.options.tickPixelInterval?v=r.linkedParent.tickInterval:Jt(v,this.tickAmount?(r.max-r.min)/pt(this.tickAmount-1,1):void 0,b?1:(r.max-r.min)*x/pt(r.len,x)),f&&!t&&Ft(r.series,function(t){t.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&!v&&(r.tickInterval=pt(r.pointRange,r.tickInterval)),t=Jt(c.minTickInterval,r.isDatetimeAxis&&r.closestPointRange),!v&&r.tickInterval<t&&(r.tickInterval=t),u||d||v||(r.tickInterval=S(r.tickInterval,null,w(r.tickInterval),Jt(c.allowDecimals,!(r.tickInterval>.5&&r.tickInterval<5&&r.max>1e3&&r.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(r.tickInterval=r.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,s=i.tickPositioner,o=i.startOnTick,r=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,s&&(s=s.apply(this,[this.min,this.max])))&&(this.tickPositions=t=s),this.isLinked||(this.trimTicks(t,o,r),this.min===this.max&&p(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!n&&!s&&this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],s=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=s;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&p(n)&&t.push((s+n)/2)},alignToOthers:function(){var t,e={},i=this.options;return this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&Ft(this.chart[this.coll],function(i){var n=i.options,n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!p(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=dt(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,s=e&&e.length;if(i>s){for(;e.length<i;)e.push(M(e[e.length-1]+t));this.transA*=(s-1)/(i-1),this.max=e[e.length-1]}else s>i&&(this.tickInterval*=2,this.setTickPositions());if(p(n)){for(t=i=e.length;t--;)(3===n&&t%2===1||2>=n&&t>0&&i-1>t)&&e.splice(t,1);this.finalTickAmt=E}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,Ft(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,n,s){var o=this,r=o.chart,i=Jt(i,!0);Ft(o.series,function(t){delete t.kdTree}),s=$t(s,{min:t,max:e}),Ut(o,"setExtremes",s,function(){o.userMin=t,o.userMax=e,o.eventArgs=s,i&&r.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,s=this.options,o=ut(i,Jt(s.min,i)),s=pt(n,Jt(s.max,n));return this.allowZoomOutside||(p(i)&&o>=t&&(t=o),p(n)&&e>=s&&(e=s)),this.displayBtn=t!==E||e!==E,this.setExtremes(t,e,!1,E,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=this.horiz,s=Jt(e.width,t.plotWidth-i+(e.offsetRight||0)),o=Jt(e.height,t.plotHeight),r=Jt(e.top,t.plotTop),e=Jt(e.left,t.plotLeft+i),i=/%$/;i.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight)),i.test(r)&&(r=Math.round(parseFloat(r)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=r,this.width=s,this.height=o,this.bottom=t.chartHeight-o-r,this.right=t.chartWidth-s-e,this.len=pt(n?s:o,0),this.pos=n?e:r},getExtremes:function(){var t=this.isLog;return{min:t?M(c(this.min)):this.min,max:t?M(c(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?c(this.min):this.min,e=e?c(this.max):this.max;return null===t?t=0>e?e:i:i>t?t=i:t>e&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(Jt(t,0)-90*this.side+720)%360,t>15&&165>t?"right":t>195&&345>t?"left":"center"},unsquish:function(){var t,e,i,n=this.ticks,s=this.options.labels,o=this.horiz,r=this.tickInterval,a=r,h=this.len/(((this.categories?1:0)+this.max-this.min)/r),l=s.rotation,c=this.chart.renderer.fontMetrics(s.style.fontSize,n[0]&&n[0].label),d=Number.MAX_VALUE,u=function(t){return t/=h||1,t=t>1?dt(t):1,t*r};return o?(i=!s.staggerLines&&!s.step&&(p(l)?[l]:h<Jt(s.autoRotationLimit,80)&&s.autoRotation))&&Ft(i,function(i){var n;(i===l||i&&i>=-90&&90>=i)&&(e=u(ft(c.h/mt(vt*i))),n=e+ft(i/360),d>n&&(d=n,t=i,a=e))}):s.step||(a=u(c.h)),this.autoRotation=i,this.labelRotation=Jt(t,l),a},renderUnsquish:function(){var t,e,i,s=this.chart,r=s.renderer,a=this.tickPositions,h=this.ticks,l=this.options.labels,c=this.horiz,d=s.margin,p=this.categories?a.length:a.length-1,d=this.slotWidth=c&&(l.step||0)<2&&!l.rotation&&(this.staggerLines||1)*s.plotWidth/p||!c&&(d[3]&&d[3]-s.spacing[3]||.33*s.chartWidth),u=pt(1,lt(d-2*(l.padding||5))),f={},p=r.fontMetrics(l.style.fontSize,h[0]&&h[0].label),g=l.style.textOverflow,m=0;if(o(l.rotation)||(f.rotation=l.rotation||0),this.autoRotation)Ft(a,function(t){(t=h[t])&&t.labelLength>m&&(m=t.labelLength)}),m>u&&m>p.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(t={width:u+"px"},!g))for(t.textOverflow="clip",e=a.length;!c&&e--;)i=a[e],(u=h[i].label)&&("ellipsis"===u.styles.textOverflow&&u.css({textOverflow:"clip"}),(u.getBBox().height>this.len/a.length-(p.h-p.f)||h[i].labelLength>d)&&(u.specCss={textOverflow:"ellipsis"}));f.rotation&&(t={width:(m>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight)+"px"},!g)&&(t.textOverflow="ellipsis"),(this.labelAlign=l.align||this.autoLabelAlign(this.labelRotation))&&(f.align=this.labelAlign),Ft(a,function(e){var i=(e=h[e])&&e.label;i&&(i.attr(f),t&&i.css(n(t,i.specCss)),delete i.specCss,e.rotation=f.rotation)}),this.tickRotCorr=r.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||p(this.min)&&p(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,n,s=this,o=s.chart,r=o.renderer,a=s.options,h=s.tickPositions,l=s.ticks,c=s.horiz,d=s.side,u=o.inverted?[1,0,3,2][d]:d,f=0,g=0,m=a.title,y=a.labels,v=0,x=s.opposite,b=o.axisOffset,o=o.clipOffset,k=[-1,1,1,-1][d],w=s.axisParent;if(t=s.hasData(),s.showAxis=e=t||Jt(a.showEmpty,!0),s.staggerLines=s.horiz&&y.staggerLines,s.axisGroup||(s.gridGroup=r.g("grid").attr({zIndex:a.gridZIndex||1}).add(w),s.axisGroup=r.g("axis").attr({zIndex:a.zIndex||2}).add(w),s.labelGroup=r.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass("highcharts-"+s.coll.toLowerCase()+"-labels").add(w)),t||s.isLinked)Ft(h,function(t){l[t]?l[t].addLabel():l[t]=new R(s,t)}),s.renderUnsquish(),y.reserveSpace!==!1&&(0===d||2===d||{1:"left",3:"right"}[d]===s.labelAlign||"center"===s.labelAlign)&&Ft(h,function(t){v=pt(l[t].getLabelSize(),v)}),s.staggerLines&&(v*=s.staggerLines,s.labelOffset=v*(s.opposite?-1:1));else for(n in l)l[n].destroy(),delete l[n];m&&m.text&&m.enabled!==!1&&(s.axisTitle||(s.axisTitle=r.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:x?"right":"left",middle:"center",high:x?"left":"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(s.axisGroup),s.axisTitle.isNew=!0),e&&(f=s.axisTitle.getBBox()[c?"height":"width"],i=m.offset,g=p(i)?0:Jt(m.margin,c?5:10)),s.axisTitle[e?"show":"hide"](!0)),s.offset=k*Jt(a.offset,b[d]),s.tickRotCorr=s.tickRotCorr||{x:0,y:0},r=2===d?s.tickRotCorr.y:0,c=Math.abs(v)+g+(v&&k*(c?Jt(y.y,s.tickRotCorr.y+8):y.x)-r),s.axisTitleMargin=Jt(i,c),b[d]=pt(b[d],s.axisTitleMargin+f+k*s.offset,c),a=a.offset?0:2*ct(a.lineWidth/2),o[u]=pt(o[u],a)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,s=this.horiz,o=this.left+(i?this.width:0)+n,n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",s?this.left:o,s?n:this.top,"L",s?e.chartWidth-this.right:o,s?n:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,o=this.options.title,r=t?e:i,a=this.opposite,h=this.offset,l=o.x||0,c=o.y||0,d=s(o.style.fontSize||12),n={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[o.align],e=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?d:0);return{x:t?n+l:e+(a?this.width:0)+h+l,y:t?e+c-(a?this.height:0)+h:n+c}},render:function(){var t,e,i,n=this,s=n.chart,o=s.renderer,r=n.options,a=n.isLog,h=n.isLinked,l=n.tickPositions,d=n.axisTitle,u=n.ticks,f=n.minorTicks,m=n.alternateBands,y=r.stackLabels,v=r.alternateGridColor,x=n.tickmarkOffset,b=r.lineWidth,k=s.hasRendered&&p(n.oldMin)&&!isNaN(n.oldMin),w=n.showAxis,S=o.globalAnimation;n.labelEdge.length=0,n.overlap=!1,Ft([u,f,m],function(t){for(var e in t)t[e].isActive=!1}),(n.hasData()||h)&&(n.minorTickInterval&&!n.categories&&Ft(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new R(n,t,"minor")),k&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),l.length&&(Ft(l,function(t,e){(!h||t>=n.min&&t<=n.max)&&(u[t]||(u[t]=new R(n,t)),k&&u[t].isNew&&u[t].render(e,!0,.1),u[t].render(e))}),x&&(0===n.min||n.single))&&(u[-1]||(u[-1]=new R(n,-1,null,!0)),u[-1].render(-1)),v&&Ft(l,function(t,o){i=l[o+1]!==E?l[o+1]+x:n.max-x,o%2===0&&t<n.max&&i<=n.max+(s.polar?-x:x)&&(m[t]||(m[t]=new rt.PlotLineOrBand(n)),e=t+x,m[t].options={from:a?c(e):e,to:a?c(i):i,color:v},m[t].render(),m[t].isActive=!0)}),n._addedPlotLB||(Ft((r.plotLines||[]).concat(r.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),Ft([u,f,m],function(t){var e,i,n=[],o=S?S.duration||500:0;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));g(function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])},t!==m&&s.hasRendered&&o?o:0)}),b&&(t=n.getLinePath(b),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=o.path(t).attr({stroke:r.lineColor,"stroke-width":b,zIndex:7}).add(n.axisGroup),n.axisLine[w?"show":"hide"](!0)),d&&w&&(d[d.isNew?"attr":"animate"](n.getTitlePosition()),d.isNew=!1),y&&y.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),Ft(this.plotLinesAndBands,function(t){t.render()})),Ft(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,n=i.stacks,s=i.plotLinesAndBands;t||_t(i);for(e in n)P(n[e]),n[e]=null;for(Ft([i.ticks,i.minorTicks,i.alternateBands],function(t){P(t)}),t=s.length;t--;)s[t].destroy();Ft("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,n,s,o=this.crosshair;this.crosshair&&(p(e)||!Jt(o.snap,!0))!==!1?(Jt(o.snap,!0)?p(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Jt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():(n=this.categories&&!this.isRadial,s=Jt(o.width,n?this.transA:1),this.cross?this.cross.attr({d:i,visibility:"visible","stroke-width":s}):(n={"stroke-width":s,stroke:o.color||(n?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:Jt(o.zIndex,2)},o.dashStyle&&(n.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(i).attr(n).add()))):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},$t(re.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i?(n.flat=n.toString()===i.toString(),n.push(i[4],i[5],i[1],i[2])):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new rt.PlotLineOrBand(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,s=e.length;s--;)e[s].id===t&&e[s].destroy();Ft([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(s=e.length;s--;)e[s].id===t&&d(e,e[s])})}}),re.prototype.getTimeTicks=function(t,e,i,n){var s,o=[],r={},a=H.global.useUTC,h=new N(e-b(e)),l=t.unitRange,c=t.count;if(p(e)){h[Q](l>=Y.second?0:c*ct(h.getMilliseconds()/c)),l>=Y.second&&h[tt](l>=Y.minute?0:c*ct(h.getSeconds()/c)),l>=Y.minute&&h[et](l>=Y.hour?0:c*ct(h[U]()/c)),l>=Y.hour&&h[it](l>=Y.day?0:c*ct(h[K]()/c)),l>=Y.day&&h[nt](l>=Y.month?1:c*ct(h[q]()/c)),l>=Y.month&&(h[st](l>=Y.year?0:c*ct(h[$]()/c)),s=h[J]()),l>=Y.year&&(s-=s%c,h[ot](s)),l===Y.week&&h[nt](h[q]()-h[Z]()+Jt(n,1)),e=1,(j||_)&&(h=h.getTime(),h=new N(h+b(h))),s=h[J]();for(var n=h.getTime(),d=h[$](),u=h[q](),f=!a||!!_,g=(Y.day+(a?b(h):6e4*h.getTimezoneOffset()))%Y.day;i>n;)o.push(n),l===Y.year?n=V(s+e*c,0):l===Y.month?n=V(s,d+e*c):!f||l!==Y.day&&l!==Y.week?n+=l*c:n=V(s,d,u+e*c*(l===Y.day?1:7)),e++;o.push(n),Ft(Yt(o,function(t){return l<=Y.hour&&t%Y.day===g}),function(t){r[t]="day"})}return o.info=$t(t,{higherRanks:r,totalRange:l*c}),o},re.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],s=n[n.length-1],o=Y[s[0]],r=s[1];for(i=0;i<n.length&&(s=n[i],o=Y[s[0]],r=s[1],!(n[i+1]&&t<=(o*r[r.length-1]+Y[n[i+1][0]])/2));i++);return o===Y.year&&5*o>t&&(r=[1,2,5]),n=S(t/o,r,"year"===s[0]?pt(w(t/o),1):1),{unitRange:o,count:n,unitName:s[0]}},re.prototype.getLogTickPositions=function(t,e,i,n){var s=this.options,o=this.len,r=[];if(n||(this._minorAutoInterval=null),t>=.5)t=lt(t),r=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var a,h,d,p,u,o=ct(e),s=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>o&&!u;o++)for(h=s.length,a=0;h>a&&!u;a++)d=l(c(o)*s[a]),d>e&&(!n||i>=p)&&p!==E&&r.push(p),p>i&&(u=!0),p=d;else e=c(e),i=c(i),t=s[n?"minorTickInterval":"tickInterval"],t=Jt("auto"===t?null:t,this._minorAutoInterval,(i-e)*(s.tickPixelInterval/(n?5:1))/((n?o/this.tickPositions.length:o)||1)),t=S(t,null,w(t)),r=Vt(this.getLinearTickPositions(t,e,i),l),n||(this._minorAutoInterval=t/5);return n||(this.tickInterval=t),r};var ae=rt.Tooltip=function(){this.init.apply(this,arguments)};ae.prototype={init:function(t,e){var i=e.borderWidth,n=e.style,o=s(n.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(n).css({padding:0}).add().attr({y:-9999}),Mt||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,n){var s=this,o=s.now,r=s.options.animation!==!1&&!s.isHidden&&(ft(t-o.x)>1||ft(e-o.y)>1),a=s.followPointer||s.len>1;$t(o,{x:r?(2*o.x+t)/3:t,y:r?(o.y+e)/2:e,anchorX:a?E:r?(2*o.anchorX+i)/3:i,anchorY:a?E:r?(o.anchorY+n)/2:n}),s.label.attr(o),r&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,e,i,n)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=Jt(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=g(function(){e.label[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,n,s,o=this.chart,r=o.inverted,a=o.plotTop,h=o.plotLeft,l=0,c=0,t=f(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===E&&(e=o.pointer.normalize(e)),i=[e.chartX-o.plotLeft,e.chartY-a]),i||(Ft(t,function(t){n=t.series.yAxis,s=t.series.xAxis,l+=t.plotX+(!r&&s?s.left-h:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&n?n.top-a:0)}),l/=t.length,c/=t.length,i=[r?o.plotWidth-c:l,this.shared&&!r&&t.length>1&&e?e.chartY-a:r?o.plotHeight-l:c]),Vt(i,lt)},getPosition:function(t,e,i){var n,s=this.chart,o=this.distance,r={},a=i.h||0,h=["y",s.chartHeight,e,i.plotY+s.plotTop,s.plotTop,s.plotTop+s.plotHeight],l=["x",s.chartWidth,t,i.plotX+s.plotLeft,s.plotLeft,s.plotLeft+s.plotWidth],c=Jt(i.ttBelow,s.inverted&&!i.negative||!s.inverted&&i.negative),d=function(t,e,i,n,s,h){var l=n-o>i,d=e>n+o+i,p=n-o-i;if(n+=o,c&&d)r[t]=n;else if(!c&&l)r[t]=p;else if(l)r[t]=ut(h-i,0>p-a?p:p-a);else{if(!d)return!1;r[t]=pt(s,n+a+i>e?n:n+a)}},p=function(t,e,i,n){var s;return o>n||n>e-o?s=!1:r[t]=i/2>n?1:n>e-i/2?e-i-2:n-i/2,s},u=function(t){var e=h;h=l,l=e,n=t},f=function(){d.apply(0,h)!==!1?p.apply(0,l)===!1&&!n&&(u(!0),f()):n?r.x=r.y=0:(u(!0),f())};return(s.inverted||this.len>1)&&u(),f(),r},defaultFormatter:function(t){var e,i=this.points||f(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,n,s,o,r=this.chart,a=this.label,h=this.options,l={},c=[];o=h.formatter||this.defaultFormatter;var d,l=r.hoverPoints,p=this.shared;clearTimeout(this.hideTimer),this.followPointer=f(t)[0].series.tooltipOptions.followPointer,s=this.getAnchor(t,e),i=s[0],n=s[1],!p||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(r.hoverPoints=t,l&&Ft(l,function(t){t.setState()}),Ft(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),l={x:t[0].category,y:t[0].y},l.points=c,this.len=c.length,t=t[0]),o=o.call(l,this),l=t.series,this.distance=Jt(l.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(Zt(a),a.attr("opacity",1).show()),a.attr({text:o}),d=h.borderColor||t.color||l.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n,negative:t.negative,ttBelow:t.ttBelow,h:s[2]||0}),this.isHidden=!1),Ut(r,"tooltipRefresh",{text:o,x:i+r.plotLeft,y:n+r.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(lt(i.x),lt(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var n,s,o,e=e.dateTimeLabelFormats,r=i&&i.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";if(r){o=F("%m-%d %H:%M:%S.%L",t.x);for(s in Y){if(r===Y.week&&+F("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===o.substr(6)){s="week";break}if(Y[s]>r){s=h;break}if(a[s]&&o.substr(a[s])!=="01-01 00:00:00.000".substr(a[s]))break;"week"!==s&&(h=s)}s&&(n=e[s])}else n=e.day;return n||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,s=n.tooltipOptions,o=s.xDateFormat,r=n.xAxis,a=r&&"datetime"===r.options.type&&h(t.key),i=s[i+"Format"];return a&&!o&&(o=this.getXDateFormat(t,s,r)),a&&o&&(i=i.replace("{point.key}","{point.key:"+o+"}")),k(i,{point:t,series:n})},bodyFormatter:function(t){return Vt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var he;W=at&&at.documentElement.ontouchstart!==E;var le=rt.Pointer=function(t,e){this.init(t,e)};if(le.prototype={init:function(t,e){var i,n=e.chart,s=n.events,o=Mt?"":n.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=i&&!n||o&&n,this.zoomVert=o&&!n||i&&n,this.hasZoom=i||o,this.runChartClick=s&&!!s.click,this.pinchDown=[],this.lastValidTouch={},rt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new ae(t,e.tooltip),this.followTouchMove=Jt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,i){var n,s,e=e||t.event;return e.target||(e.target=e.srcElement),s=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,i||(this.chartPosition=i=Nt(this.chart.container)),s.pageX===E?(n=pt(e.x,e.clientX-i.left),s=e.y):(n=s.pageX-i.left,s=s.pageY-i.top),$t(e,{chartX:lt(n),chartY:lt(s)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Ft(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,n,s=this.chart,o=s.series,r=s.tooltip,a=r?r.shared:!1,h=s.hoverPoint,l=s.hoverSeries,c=[Number.MAX_VALUE,Number.MAX_VALUE],d=[],p=[];if(!a&&!l)for(s=0;s<o.length;s++)(o[s].directTouch||!o[s].options.stickyTracking)&&(o=[]);if(l&&(a?l.noSharedTooltip:l.directTouch)&&h?p=[h]:(Ft(o,function(s){e=s.noSharedTooltip&&a,i=!a&&s.directTouch,s.visible&&!e&&!i&&Jt(s.options.enableMouseTracking,!0)&&(n=s.searchPoint(t,!e&&1===s.kdDimensions))&&d.push(n)}),Ft(d,function(t){t&&Ft(["dist","distX"],function(e,i){"number"==typeof t[e]&&t[e]<c[i]&&(c[i]=t[e],p[i]=t)})})),a)for(s=d.length;s--;)(d[s].clientX!==p[1].clientX||d[s].series.noSharedTooltip)&&d.splice(s,1);p[0]&&(p[0]!==this.prevKDPoint||r&&r.isHidden)?a&&!p[0].series.noSharedTooltip?(d.length&&r&&r.refresh(d,t),Ft(d,function(e){e.onMouseOver(t,e!==(l&&l.directTouch&&h||p[0]))}),this.prevKDPoint=p[1]):(r&&r.refresh(p[0],t),l&&l.directTouch||p[0].onMouseOver(t),this.prevKDPoint=p[0]):(o=l&&l.tooltipOptions.followPointer,r&&o&&!r.isHidden&&(o=r.getAnchor([{}],t),r.updatePosition({plotX:o[0],plotY:o[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(t){zt[he]&&zt[he].pointer.onDocumentMouseMove(t)},jt(at,"mousemove",this._onDocumentMouseMove)),Ft(a?d:[Jt(p[1],h)],function(e){var i=e&&e.series;i&&Ft(["xAxis","yAxis","colorAxis"],function(n){i[n]&&i[n].drawCrosshair(t,e)})})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,s=i.hoverPoint,o=i.hoverPoints,r=i.tooltip,a=r&&r.shared?o:s;(t=t&&r&&a)&&Ft(f(a),function(e){void 0===e.plotX&&(t=!1)}),t?(r.refresh(a),s&&(s.setState(s.state,!0),Ft(i.axes,function(t){Jt(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,s):t.hideCrosshair()}))):(s&&s.onMouseOut(),o&&Ft(o,function(t){t.setState()}),n&&n.onMouseOut(),r&&r.hide(e),this._onDocumentMouseMove&&(_t(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ft(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;Ft(n.series,function(s){i=t||s.getPlotBox(),s.xAxis&&s.xAxis.zoomEnabled&&(s.group.attr(i),s.markerGroup&&(s.markerGroup.attr(i),s.markerGroup.clip(e?n.clipRect:null)),s.dataLabelsGroup&&s.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,s=t.chartX,o=t.chartY,r=this.zoomHor,a=this.zoomVert,h=i.plotLeft,l=i.plotTop,c=i.plotWidth,d=i.plotHeight,p=this.selectionMarker,u=this.mouseDownX,f=this.mouseDownY,g=n.panKey&&t[n.panKey+"Key"];p&&p.touch||(h>s?s=h:s>h+c&&(s=h+c),l>o?o=l:o>l+d&&(o=l+d),this.hasDragged=Math.sqrt(Math.pow(u-s,2)+Math.pow(f-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(u-h,f-l),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!p&&(this.selectionMarker=p=i.renderer.rect(h,l,r?1:c,a?1:d,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),p&&r&&(s-=u,p.attr({width:ft(s),x:(s>0?0:s)+u})),p&&a&&(s=o-f,p.attr({height:ft(s),y:(s>0?0:s)+f})),e&&!p&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var s,o={originalEvent:t,xAxis:[],yAxis:[]},r=this.selectionMarker,a=r.attr?r.attr("x"):r.x,h=r.attr?r.attr("y"):r.y,l=r.attr?r.attr("width"):r.width,c=r.attr?r.attr("height"):r.height;(this.hasDragged||n)&&(Ft(i.axes,function(i){if(i.zoomEnabled&&p(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var r=i.horiz,d="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((r?a:h)+d),r=i.toValue((r?a+l:h+c)-d);o[i.coll].push({axis:i,min:ut(u,r),max:pt(u,r)}),s=!0}}),s&&Ut(i,"selection",o,function(t){i.zoom($t(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(m(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){zt[he]&&zt[he].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(t){var e=zt[he];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;p(he)&&zt[he]&&zt[he].mouseIsDown||(he=e.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=u(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,t=t.relatedTarget||t.toElement;!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,s=e.plotTop,t=this.normalize(t);e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Ut(i.series,"click",$t(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):($t(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-s)&&Ut(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},jt(e,"mouseleave",t.onContainerMouseLeave),1===Rt&&jt(at,"mouseup",t.onDocumentMouseUp),W&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Rt&&jt(at,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;_t(this.chart.container,"mouseleave",this.onContainerMouseLeave),Rt||(_t(at,"mouseup",this.onDocumentMouseUp),_t(at,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},$t(rt.Pointer.prototype,{pinchTranslate:function(t,e,i,n,s,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,n,s,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,n,s,o)},pinchTranslateDirection:function(t,e,i,n,s,o,r,a){var h,l,c,d=this.chart,p=t?"x":"y",u=t?"X":"Y",f="chart"+u,g=t?"width":"height",m=d["plot"+(t?"Left":"Top")],y=a||1,v=d.inverted,x=d.bounds[t?"h":"v"],b=1===e.length,k=e[0][f],w=i[0][f],S=!b&&e[1][f],T=!b&&i[1][f],i=function(){!b&&ft(k-S)>20&&(y=a||ft(w-T)/ft(k-S)),l=(m-w)/y+k,h=d["plot"+(t?"Width":"Height")]/y};i(),e=l,e<x.min?(e=x.min,c=!0):e+h>x.max&&(e=x.max-h,c=!0),c?(w-=.8*(w-r[p][0]),b||(T-=.8*(T-r[p][1])),i()):r[p]=[w,T],v||(o[p]=l-m,o[g]=h),o=v?1/y:y,s[g]=h,s[p]=e,n[v?t?"scaleY":"scaleX":"scale"+u]=y,n["translate"+u]=o*m+(w-o*k)},pinch:function(t){var e=this,i=e.chart,n=e.pinchDown,s=t.touches,o=s.length,r=e.lastValidTouch,a=e.hasZoom,h=e.selectionMarker,l={},c=1===o&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),d={};o>1&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),Vt(s,function(t){return e.normalize(t)}),"touchstart"===t.type?(Ft(s,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),r.x=[n[0].chartX,n[1]&&n[1].chartX],r.y=[n[0].chartY,n[1]&&n[1].chartY],Ft(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,s=t.toPixels(Jt(t.options.min,t.dataMin)),o=t.toPixels(Jt(t.options.max,t.dataMax)),r=ut(s,o),s=pt(s,o);e.min=ut(t.pos,r-n),e.max=pt(t.pos+t.len,s+n)}}),e.res=!0):n.length&&(h||(e.selectionMarker=h=$t({destroy:Dt,touch:!0},i.plotBox)),e.pinchTranslate(n,s,l,h,d,r),e.hasPinched=a,e.scaleGroups(l,d),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i=this.chart;he=i.index,1===t.touches.length?(t=this.normalize(t),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&!i.openMenu?(e&&this.runPointActions(t),this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){zt[he]&&zt[he].pointer.drop(t)}}),t.PointerEvent||t.MSPointerEvent){var ce={},de=!!t.PointerEvent,pe=function(){var t,e=[];e.item=function(t){return this[t]};for(t in ce)ce.hasOwnProperty(t)&&e.push({pageX:ce[t].pageX,pageY:ce[t].pageY,target:ce[t].target});return e},ue=function(t,e,i,n){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!zt[he]||(n(t),n=zt[he].pointer,n[e]({type:i,target:t.currentTarget,preventDefault:Dt,touches:pe()}))};$t(le.prototype,{onContainerPointerDown:function(t){ue(t,"onContainerTouchStart","touchstart",function(t){ce[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){ue(t,"onContainerTouchMove","touchmove",function(t){ce[t.pointerId]={pageX:t.pageX,pageY:t.pageY},ce[t.pointerId].target||(ce[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){ue(t,"onDocumentTouchEnd","touchend",function(t){delete ce[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,de?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,de?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(at,de?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Qt(le.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&m(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),Qt(le.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(jt)}),Qt(le.prototype,"destroy",function(t){this.batchMSEvents(_t),t.call(this)})}var fe=rt.Legend=function(t,e){this.init(t,e)};fe.prototype={init:function(t,e){var i=this,s=e.itemStyle,o=e.itemMarginTop||0;this.options=e,e.enabled&&(i.itemStyle=s,i.itemHiddenStyle=n(s,e.itemHiddenStyle),i.itemMarginTop=o,i.padding=s=Jt(e.padding,8),i.initialItemX=s,i.initialItemY=s-5,i.maxItemWidth=0,i.chart=t,i.itemHeight=0,i.symbolWidth=Jt(e.symbolWidth,16),i.pages=[],i.render(),jt(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n=this.options,s=t.legendItem,o=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,n=e?n.itemStyle.color:a,h=e?t.legendColor||t.color||"#CCC":a,a=t.options&&t.options.marker,l={fill:h};if(s&&s.css({fill:n,color:n}),o&&o.attr({stroke:h}),r){if(a&&r.isMarker)for(i in l.stroke=h,a=t.convertAttribs(a))s=a[i],s!==E&&(l[i]=s);r.attr(l)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,n=t._legendItemPos,s=n[0],n=n[1],o=t.checkbox;
(t=t.legendGroup)&&t.element&&t.translate(e?s:this.legendWidth-s-2*i-4,n),o&&(o.x=s,o.y=n)},destroyItem:function(t){var e=t.checkbox;Ft(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&L(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight,s=this.titleHeight;i&&(e=i.translateY,Ft(this.allItems,function(o){var r,a=o.checkbox;a&&(r=e+s+a.y+(t||0)+3,m(a,{left:i.translateX+o.checkboxOffset+a.x-20+"px",top:r+"px",display:r>e-6&&e+n-6>r?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?k(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,i=e.renderer,s=this.options,o="horizontal"===s.layout,r=this.symbolWidth,a=s.symbolPadding,h=this.itemStyle,l=this.itemHiddenStyle,c=this.padding,d=o?Jt(s.itemDistance,20):0,p=!s.rtl,u=s.width,f=s.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,y=t.legendItem,v=t.series&&t.series.drawLegendSymbol?t.series:t,x=v.options,x=this.createCheckboxForItem&&x&&x.showCheckbox,b=s.useHTML;y||(t.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=y=i.text("",p?r+a:-a,this.baseline||0,b).css(n(t.visible?h:l)).attr({align:p?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(h.fontSize,y),this.baseline=this.fontMetrics.f+3+g,y.attr("y",this.baseline)),v.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,y,b,h,l),x&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),i=y.getBBox(),r=t.checkboxOffset=s.itemWidth||t.legendItemWidth||r+a+i.width+d+(x?20:0),this.itemHeight=a=lt(t.legendItemHeight||i.height),o&&this.itemX-m+r>(u||e.chartWidth-2*c-m-s.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=pt(this.maxItemWidth,r),this.lastItemY=g+this.itemY+f,this.lastLineHeight=pt(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],o?this.itemX+=r:(this.itemY+=g+a+f,this.lastLineHeight=a),this.offsetWidth=u||pt((o?this.itemX-m-d:r)+c,this.offsetWidth)},getAllItems:function(){var t=[];return Ft(this.chart.series,function(e){var i=e.options;Jt(i.showInLegend,p(i.linkedTo)?!1:E,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,s=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);this.display&&!n.floating&&Ft([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,r){o.test(s)&&!p(t[r])&&(i[Xt[r]]=pt(i[Xt[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*n[r%2?"x":"y"]+Jt(n.margin,12)+e[r]))})},render:function(){var t,e,i,n,s=this,o=s.chart,r=o.renderer,a=s.group,h=s.box,l=s.options,c=s.padding,d=l.borderWidth,p=l.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,a||(s.group=a=r.g("legend").attr({zIndex:7}).add(),s.contentGroup=r.g().attr({zIndex:1}).add(a),s.scrollGroup=r.g().add(s.contentGroup)),s.renderTitle(),t=s.getAllItems(),T(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),l.reversed&&t.reverse(),s.allItems=t,s.display=e=!!t.length,s.lastLineHeight=0,Ft(t,function(t){s.renderItem(t)}),i=(l.width||s.offsetWidth)+c,n=s.lastItemY+s.lastLineHeight+s.titleHeight,n=s.handleOverflow(n),n+=c,(d||p)&&(h?i>0&&n>0&&(h[h.isNew?"attr":"animate"](h.crisp({width:i,height:n})),h.isNew=!1):(s.box=h=r.rect(0,0,i,n,l.borderRadius,d||0).attr({stroke:l.borderColor,"stroke-width":d||0,fill:p||"none"}).add(a).shadow(l.shadow),h.isNew=!0),h[e?"show":"hide"]()),s.legendWidth=i,s.legendHeight=n,Ft(t,function(t){s.positionItem(t)}),e&&a.align($t({width:i,height:n},l),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,s=this.chart,o=s.renderer,r=this.options,a=r.y,a=s.spacingBox.height+("top"===r.verticalAlign?-a:a)-this.padding,h=r.maxHeight,l=this.clipRect,c=r.navigation,d=Jt(c.animation,!0),p=c.arrowSize||12,u=this.nav,f=this.pages,g=this.padding,m=this.allItems,y=function(t){l.attr({height:t}),n.contentGroup.div&&(n.contentGroup.div.style.clip="rect("+g+"px,9999px,"+(g+t)+"px,0)")};return"horizontal"===r.layout&&(a/=2),h&&(a=ut(a,h)),f.length=0,t>a?(this.clipHeight=e=pt(a-20-this.titleHeight-g,0),this.currentPage=Jt(this.currentPage,1),this.fullHeight=t,Ft(m,function(t,n){var s=t._legendItemPos[1],o=lt(t.legendItem.getBBox().height),r=f.length;(!r||s-f[r-1]>e&&(i||s)!==f[r-1])&&(f.push(i||s),r++),n===m.length-1&&s+o-f[r-1]>e&&f.push(s),s!==i&&(i=s)}),l||(l=n.clipRect=o.clipRect(0,g,9999,0),n.contentGroup.clip(l)),y(e),u||(this.nav=u=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,p,p).on("click",function(){n.scroll(-1,d)}).add(u),this.pager=o.text("",15,10).css(c.style).add(u),this.down=o.symbol("triangle-down",0,0,p,p).on("click",function(){n.scroll(1,d)}).add(u)),n.scroll(0),t=a):u&&(y(s.chartHeight),u.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length,s=this.currentPage+t,o=this.clipHeight,r=this.options.navigation,a=r.activeColor,r=r.inactiveColor,h=this.pager,l=this.padding;s>n&&(s=n),s>0&&(e!==E&&I(e,this.chart),this.nav.attr({translateX:l,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===s?r:a}).css({cursor:1===s?"default":"pointer"}),h.attr({text:s+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===n?r:a}).css({cursor:s===n?"default":"pointer"}),i=-i[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=s,this.positionCheckboxes(i))}},ne=rt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker,s=t.symbolWidth,o=this.chart.renderer,r=this.legendGroup,t=t.baseline-lt(.3*t.fontMetrics.b);i.lineWidth&&(e={"stroke-width":i.lineWidth},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",s,t]).attr(e).add(r)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=n=o.symbol(this.symbol,s/2-i,t-i,2*i,2*i,n).add(r),n.isMarker=!0)}},(/Trident\/7\.0/.test(xt)||Tt)&&Qt(fe.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)});var ge=rt.Chart=function(){this.getArgs.apply(this,arguments)};rt.chart=function(t,e,i){return new ge(t,e,i)},ge.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(o(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var i,s=t.series;t.series=null,i=n(H,t),i.series=t.series=s,this.userOptions=t,s=i.chart,this.margin=this.splashArray("margin",s),this.spacing=this.splashArray("spacing",s);var o=s.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var r,a=this;if(a.index=zt.length,zt.push(a),Rt++,s.reflow!==!1&&jt(a,"load",function(){a.initReflow()}),o)for(r in o)jt(a,r,o[r]);a.xAxis=[],a.yAxis=[],a.animation=Mt?!1:Jt(s.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var i=this.options.chart;return(i=Wt[t.type||i.type||i.defaultSeriesType])||e(17,!0),i=new i,i.init(this,t),i},isInsidePlot:function(t,e,i){var n=i?e:t,t=i?t:e;return n>=0&&n<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,i,n=this.axes,s=this.series,o=this.pointer,r=this.legend,a=this.isDirtyLegend,h=this.hasCartesianSeries,l=this.isDirtyBox,c=s.length,d=c,p=this.renderer,u=p.isHidden(),f=[];for(I(t,this),u&&this.cloneRenderTo(),this.layOutTitles();d--;)if(t=s[d],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(d=c;d--;)t=s[d],t.options.stacking&&(t.isDirty=!0);Ft(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0)}),a&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),e&&this.getStacks(),h&&!this.isResizing&&(this.maxTicks=null,Ft(n,function(t){t.setScale()})),this.getMargins(),h&&(Ft(n,function(t){t.isDirty&&(l=!0)}),Ft(n,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,f.push(function(){Ut(t,"afterSetExtremes",$t(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(l||e)&&t.redraw()})),l&&this.drawChartBox(),Ft(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),o&&o.reset(!0),p.draw(),Ut(this,"redraw"),u&&this.cloneRenderTo(!0),Ft(f,function(t){t.call()})},get:function(t){var e,i,n=this.axes,s=this.series;for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=f(e.xAxis||{}),e=e.yAxis=f(e.yAxis||{});Ft(i,function(t,e){t.index=e,t.isX=!0}),Ft(e,function(t,e){t.index=e}),i=i.concat(e),Ft(i,function(e){new re(t,e)})},getSelectedPoints:function(){var t=[];return Ft(this.series,function(e){t=t.concat(Yt(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Yt(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var s,o,r=this,a=r.options;o=a.title=n(a.title,t),s=a.subtitle=n(a.subtitle,e),a=s,Ft([["title",t,o],["subtitle",e,a]],function(t){var e=t[0],i=r[e],n=t[1],t=t[2];i&&n&&(r[e]=i=i.destroy()),t&&t.text&&!i&&(r[e]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),r.layOutTitles(i)},layOutTitles:function(t){var e=0,i=this.title,n=this.subtitle,s=this.options,o=s.title,s=s.subtitle,r=this.renderer,a=this.spacingBox.width-44;!i||(i.css({width:(o.width||a)+"px"}).align($t({y:r.fontMetrics(o.style.fontSize,i).b-3},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(e=i.getBBox().height),n&&(n.css({width:(s.width||a)+"px"}).align($t({y:e+(o.margin-13)+r.fontMetrics(s.style.fontSize,i).b},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(e=dt(e+n.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Jt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;p(e)||(this.containerWidth=Gt(i,"width")),p(t)||(this.containerHeight=Gt(i,"height")),this.chartWidth=pt(0,e||this.containerWidth||600),this.chartHeight=pt(0,Jt(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),L(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),m(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),at.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,i,n,r=this.options,a=r.chart;t=this.renderTo;var h="highcharts-"+Ot++;t||(this.renderTo=t=a.renderTo),o(t)&&(this.renderTo=t=at.getElementById(t)),t||e(13,!0),i=s(u(t,"data-highcharts-chart")),!isNaN(i)&&zt[i]&&zt[i].hasRendered&&zt[i].destroy(),u(t,"data-highcharts-chart",this.index),t.innerHTML="",!a.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,this.container=t=y(Bt,{className:"highcharts-container"+(a.className?" "+a.className:""),id:h},$t({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(rt[a.renderer]||X)(t,i,n,a.style,a.forExport,r.exporting&&r.exporting.allowHTML),Mt&&this.renderer.create(this,t,i,n),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!p(i[0])&&(this.plotTop=pt(this.plotTop,n+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&Ft(t.axes,function(t){t.visible&&t.getOffset()}),Ft(Xt,function(n,s){p(i[s])||(t[n]+=e[s])}),t.setChartSize()},reflow:function(e){var i=this,n=i.options.chart,s=i.renderTo,o=n.width||Gt(s,"width"),r=n.height||Gt(s,"height"),n=e?e.target:t;i.hasUserSize||i.isPrinting||!o||!r||n!==t&&n!==at||((o!==i.containerWidth||r!==i.containerHeight)&&(clearTimeout(i.reflowTimeout),i.reflowTimeout=g(function(){i.container&&(i.setSize(o,r,!1),i.hasUserSize=null)},e?100:0)),i.containerWidth=o,i.containerHeight=r)},initReflow:function(){var e=this,i=function(t){e.reflow(t)};jt(t,"resize",i),jt(e,"destroy",function(){_t(t,"resize",i)})},setSize:function(t,e,i){var n,s,o=this,r=o.renderer;o.isResizing+=1,I(i,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,p(t)&&(o.chartWidth=n=pt(0,lt(t)),o.hasUserSize=!!n),p(e)&&(o.chartHeight=s=pt(0,lt(e))),t=r.globalAnimation,(t?Kt:m)(o.container,{width:n+"px",height:s+"px"},t),o.setChartSize(!0),r.setSize(n,s,i),o.maxTicks=null,Ft(o.axes,function(t){t.isDirty=!0,t.setScale()}),Ft(o.series,function(t){t.isDirty=!0}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(i),o.oldChartHeight=null,Ut(o,"resize"),t=r.globalAnimation,g(function(){o&&Ut(o,"endResize",null,function(){o.isResizing-=1})},t===!1?0:t&&t.duration||500)},setChartSize:function(t){var e,i,n,s,o=this.inverted,r=this.renderer,a=this.chartWidth,h=this.chartHeight,l=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=lt(this.plotLeft),this.plotTop=i=lt(this.plotTop),this.plotWidth=n=pt(0,lt(a-e-this.marginRight)),this.plotHeight=s=pt(0,lt(h-i-this.marginBottom)),this.plotSizeX=o?s:n,this.plotSizeY=o?n:s,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:h-c[0]-c[2]},this.plotBox=r.plotBox={x:e,y:i,width:n,height:s},a=2*ct(this.plotBorderWidth/2),o=dt(pt(a,d[3])/2),r=dt(pt(a,d[0])/2),this.clipBox={x:o,y:r,width:ct(this.plotSizeX-pt(a,d[1])/2-o),height:pt(0,ct(this.plotSizeY-pt(a,d[2])/2-r))},t||Ft(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Ft(Xt,function(e,i){t[e]=Jt(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,n=this.chartWidth,s=this.chartHeight,o=this.chartBackground,r=this.plotBackground,a=this.plotBorder,h=this.plotBGImage,l=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,p=e.plotBackgroundImage,u=e.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,y=this.plotHeight,v=this.plotBox,x=this.clipRect,b=this.clipBox;t=l+(e.shadow?8:0),(l||c)&&(o?o.animate(o.crisp({width:n-t,height:s-t})):(o={fill:c||"none"},l&&(o.stroke=e.borderColor,o["stroke-width"]=l),this.chartBackground=i.rect(t/2,t/2,n-t,s-t,e.borderRadius,l).attr(o).addClass("highcharts-background").add().shadow(e.shadow))),d&&(r?r.animate(v):this.plotBackground=i.rect(f,g,m,y,0).attr({fill:d}).add().shadow(e.plotShadow)),p&&(h?h.animate(v):this.plotBGImage=i.image(p,f,g,m,y).add()),x?x.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),u&&(a?(a.strokeWidth=-u,a.animate(a.crisp({x:f,y:g,width:m,height:y}))):this.plotBorder=i.rect(f,g,m,y,0,-u).attr({stroke:e.plotBorderColor,"stroke-width":u,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,s=n.options.chart,o=n.options.series;Ft(["inverted","angular","polar"],function(r){for(t=Wt[s.type||s.defaultSeriesType],i=n[r]||s[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=Wt[o[e].type])&&t.prototype[r]&&(i=!0);n[r]=i})},linkSeries:function(){var t=this,e=t.series;Ft(e,function(t){t.linkedSeries.length=0}),Ft(e,function(e){var i=e.options.linkedTo;o(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=Jt(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){Ft(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&Ft(e.items,function(i){var n=$t(e.style,i.style),o=s(n.left)+t.plotLeft,r=s(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,o,r).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n,s=this.axes,o=this.renderer,r=this.options;this.setTitle(),this.legend=new fe(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=21,Ft(s,function(t){t.setScale()}),this.getAxisMargins(),i=t/this.plotWidth>1.1,n=e/this.plotHeight>1.05,(i||n)&&(this.maxTicks=null,Ft(s,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ft(s,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(r.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(t.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t,e=this,i=e.axes,n=e.series,s=e.container,o=s&&s.parentNode;for(Ut(e,"destroy"),zt[e.index]=E,Rt--,e.renderTo.removeAttribute("data-highcharts-chart"),_t(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();Ft("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),s&&(s.innerHTML="",_t(s),o&&L(s));for(t in e)delete e[t]},isReadyToRender:function(){var e=this;return!Pt&&t==t.top&&"complete"!==at.readyState||Mt&&!t.canvg?(Mt?oe.push(function(){e.firstRender()},e.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",e.firstRender),"complete"===at.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),Ut(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Ft(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Ut(t,"beforeRender"),rt.Pointer&&(t.pointer=new le(t,e)),t.render(),t.renderer.draw(),t.renderer.imgCount||t.onload(),t.cloneRenderTo(!0))},onload:function(){var t=this;Ft([this.callback].concat(this.callbacks),function(e){e&&void 0!==t.index&&e.apply(t,[t])}),t.renderer.imgCount||Ut(t,"load")},splashArray:function(t,e){var i=e[t],i=r(i)?i:[i,i,i,i];return[Jt(e[t+"Top"],i[0]),Jt(e[t+"Right"],i[1]),Jt(e[t+"Bottom"],i[2]),Jt(e[t+"Left"],i[3])]}};var se=rt.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,n=this.chart,s=2*(i.slicedOffset||0),o=n.plotWidth-2*s,n=n.plotHeight-2*s,r=i.center,r=[Jt(r[0],"50%"),Jt(r[1],"50%"),i.size||"100%",i.innerSize||0],a=ut(o,n);for(t=0;4>t;++t)e=r[t],i=2>t||2===t&&/%$/.test(e),r[t]=(/%$/.test(e)?[o,n,a,r[2]][t]*parseFloat(e)/100:parseFloat(e))+(i?s:0);return r[3]>r[2]&&(r[3]=r[2]),r}},me=function(){};me.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,n=i.options.pointValKey||i.pointValKey,t=me.prototype.optionsToObject.call(this,t);return $t(this,t),this.options=this.options?$t(this.options,t):t,n&&(this.y=this[n]),this.isNull=null===this.y,"number"!=typeof this.x&&i&&(this.x=void 0===e?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,s=n||i.pointArrayMap||["y"],o=s.length,r=0,h=0;if("number"==typeof t||null===t)e[s[0]]=t;else if(a(t))for(!n&&t.length>o&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),r++);o>h;)n&&void 0===t[r]||(e[s[h]]=t[r]),r++,h++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),d(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(_t(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=Jt(i.valueDecimals,""),s=i.valuePrefix||"",o=i.valueSuffix||"";return Ft(e.pointArrayMap||["y"],function(e){e="{point."+e,(s||o)&&(t=t.replace(e+"}",s+e+"}"+o)),t=t.replace(e+"}",e+":,."+n+"f}")}),k(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,s=this.series.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Ut(this,t,e,i)},visible:!0};var ye=rt.Series=function(){};ye.prototype={isCartesian:!0,type:"line",pointClass:me,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,n,s=this,o=t.series,r=function(t,e){return Jt(t.options.index,t._i)-Jt(e.options.index,e._i)};s.chart=t,s.options=e=s.setOptions(e),s.linkedSeries=[],s.bindAxes(),$t(s,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Mt&&(e.animation=!1),n=e.events;for(i in n)jt(s,i,n[i]);(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),s.getColor(),s.getSymbol(),Ft(s.parallelArrays,function(t){s[t+"Data"]=[]}),s.setData(e.data,!1),s.isCartesian&&(t.hasCartesianSeries=!0),o.push(s),s._i=o.length-1,T(o,r),this.yAxis&&T(this.yAxis.series,r),Ft(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,i=this,n=i.options,s=i.chart;Ft(i.axisTypes||[],function(o){Ft(s[o],function(e){t=e.options,(n[o]===t.index||n[o]!==E&&n[o]===t.id||n[o]===E&&0===t.index)&&(e.series.push(i),i[o]=e,e.isDirty=!0)}),!i[o]&&i.optionalAxis!==o&&e(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments;Ft(i.parallelArrays,"number"==typeof e?function(n){var s="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=s}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,i=Jt(i,e.pointStart,0);return this.pointInterval=t=Jt(this.pointInterval,e.pointInterval,1),("month"===n||"year"===n)&&(e=new N(i),e="month"===n?+e[st](e[$]()+t):+e[ot](e[J]()+t),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options.plotOptions,e=e.userOptions||{},s=e.plotOptions||{},o=i[this.type];return this.userOptions=t,i=n(o,i.series,t),this.tooltipOptions=n(H.tooltip,H.plotOptions[this.type].tooltip,e.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,t.tooltip),null===o.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&p(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var n=this.userOptions,s="_"+t+"Index",o=t+"Counter";e||(p(n[s])?e=n[s]:(n[s]=e=this.chart[o]%i.length,this.chart[o]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||te[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:ne.drawLineMarker,setData:function(t,i,n,s){var r,l=this,c=l.points,d=c&&c.length||0,u=l.options,f=l.chart,g=null,m=l.xAxis,y=m&&!!m.categories,v=u.turboThreshold,x=this.xData,b=this.yData,k=(r=l.pointArrayMap)&&r.length,t=t||[];if(r=t.length,i=Jt(i,!0),s!==!1&&r&&d===r&&!l.cropped&&!l.hasGroupedData&&l.visible)Ft(t,function(t,e){c[e].update&&t!==u.data[e]&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,Ft(this.parallelArrays,function(t){l[t+"Data"].length=0}),v&&r>v){for(n=0;null===g&&r>n;)g=t[n],n++;if(h(g)){for(y=Jt(u.pointStart,0),g=Jt(u.pointInterval,1),n=0;r>n;n++)x[n]=y,b[n]=t[n],y+=g;l.xIncrement=y}else if(a(g))if(k)for(n=0;r>n;n++)g=t[n],x[n]=g[0],b[n]=g.slice(1,k+1);else for(n=0;r>n;n++)g=t[n],x[n]=g[0],b[n]=g[1];else e(12)}else for(n=0;r>n;n++)t[n]!==E&&(g={series:l},l.pointClass.prototype.applyOptions.apply(g,[t[n]]),l.updateParallelArrays(g,n),y&&p(g.name))&&(m.names[g.x]=g.name);for(o(b[0])&&e(14,!0),l.data=[],l.options.data=l.userOptions.data=t,n=d;n--;)c[n]&&c[n].destroy&&c[n].destroy();m&&(m.minRange=m.userMinRange),l.isDirty=l.isDirtyData=f.isDirtyBox=!0,n=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),i&&f.redraw(n)},processData:function(t){var i,n=this.xData,s=this.yData,o=n.length;i=0;var r,a,h,l=this.xAxis,c=this.options;h=c.cropThreshold;var d,p,u=this.getExtremesFromAll||c.getExtremesFromAll,f=this.isCartesian,c=l&&l.val2lin,g=l&&l.isLog;if(f&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(t=l.getExtremes(),d=t.min,p=t.max),f&&this.sorted&&!u&&(!h||o>h||this.forceCrop)&&(n[o-1]<d||n[0]>p?(n=[],s=[]):(n[0]<d||n[o-1]>p)&&(i=this.cropData(this.xData,this.yData,d,p),n=i.xData,s=i.yData,i=i.start,r=!0)),h=n.length||1;--h;)o=g?c(n[h])-c(n[h-1]):n[h]-n[h-1],o>0&&(a===E||a>o)?a=o:0>o&&this.requireSorting&&e(15);this.cropped=r,this.cropStart=i,this.processedXData=n,this.processedYData=s,this.closestPointRange=a},cropData:function(t,e,i,n){var s,o=t.length,r=0,a=o,h=Jt(this.cropShoulder,1);for(s=0;o>s;s++)if(t[s]>=i){r=pt(0,s-h);break}for(i=s;o>i;i++)if(t[i]>n){a=i+h;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t,e,i,n,s=this.options.data,o=this.data,r=this.processedXData,a=this.processedYData,h=this.pointClass,l=r.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=s.length,o=this.data=o),n=0;l>n;n++)e=c+n,d?p[n]=(new h).init(this,[r[n]].concat(f(a[n]))):(o[e]?i=o[e]:s[e]!==E&&(o[e]=i=(new h).init(this,s[e],r[n])),p[n]=i),p[n].index=e;if(o&&(l!==(t=o.length)||d))for(n=0;t>n;n++)n===c&&!d&&(n+=l),o[n]&&(o[n].destroyElements(),o[n].plotX=E);this.data=o,this.points=p},getExtremes:function(t){var e,i=this.yAxis,n=this.processedXData,s=[],o=0;e=this.xAxis.getExtremes();var r,a,h,l,c=e.min,d=e.max,t=t||this.stackedYData||this.processedYData;for(e=t.length,l=0;e>l;l++)if(a=n[l],h=t[l],r=null!==h&&h!==E&&(!i.isLog||h.length||h>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[l+1]||a)>=c&&(n[l-1]||a)<=d,r&&a)if(r=h.length)for(;r--;)null!==h[r]&&(s[o++]=h[r]);else s[o++]=h;this.dataMin=A(s),this.dataMax=C(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,i,n,s,o=this.options,r=o.stacking,a=this.xAxis,l=a.categories,c=this.yAxis,d=this.points,u=d.length,f=!!this.modifyValue,g=o.pointPlacement,m="between"===g||h(g),y=o.threshold,v=o.startFromThreshold?y:0,x=Number.MAX_VALUE,o=0;u>o;o++){var b=d[o],k=b.x,w=b.y;i=b.low;var S=r&&c.stacks[(this.negStacks&&(v?0:y)>w?"-":"")+this.stackKey];c.isLog&&null!==w&&0>=w&&(b.y=w=null,e(10)),b.plotX=t=ut(pt(-1e5,a.translate(k,0,0,0,1,g,"flags"===this.type)),1e5),r&&this.visible&&!b.isNull&&S&&S[k]&&(s=this.getStackIndicator(s,k,this.index),S=S[k],w=S.points[s.key],i=w[0],w=w[1],i===v&&(i=Jt(y,c.min)),c.isLog&&0>=i&&(i=null),b.total=b.stackTotal=S.total,b.percentage=S.total&&b.y/S.total*100,b.stackY=w,S.setOffset(this.pointXOffset||0,this.barW||0)),b.yBottom=p(i)?c.translate(i,0,1,0,1):null,f&&(w=this.modifyValue(w,b)),b.plotY=i="number"==typeof w&&w!==1/0?ut(pt(-1e5,c.translate(w,0,1,0,1)),1e5):E,b.isInside=i!==E&&i>=0&&i<=c.len&&t>=0&&t<=a.len,b.clientX=m?a.translate(k,0,0,0,1):t,b.negative=b.y<(y||0),b.category=l&&l[b.x]!==E?l[b.x]:b.x,o&&(x=ut(x,ft(t-n))),n=t}this.closestPointRangePx=x},getValidPoints:function(t){return Yt(t||this.points,function(t){return!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,s=e.inverted,o=this.clipBox,r=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height,i.xAxis,i.yAxis].join(","),h=e[a],l=e[a+"m"];h||(t&&(r.width=0,e[a+"m"]=l=n.clipRect(-99,s?-e.plotLeft:-e.plotTop,99,s?e.chartWidth:e.chartHeight)),e[a]=h=n.clipRect(r)),t&&(h.count+=1),i.clip!==!1&&(this.group.clip(t||o?h:e.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),t||(h.count-=1,h.count<=0&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,n=this.options.animation;n&&!r(n)&&(n=te[this.type].animation),t?this.setClip(n):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX},n),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){this.setClip(),Ut(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,s,o,r,a,h,l,c,d,p=this.points,u=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,y=Jt(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(n=p.length;n--;)s=p[n],e=ct(s.plotX),i=s.plotY,h=s.graphic,l=s.marker||{},c=!!s.marker,t=y&&l.enabled===E||l.enabled,d=s.isInside,t&&i!==E&&!isNaN(i)&&null!==s.y?(t=s.pointAttr[s.selected?"select":""]||g,o=t.r,r=Jt(l.symbol,this.symbol),a=0===r.indexOf("url"),h?h[d?"show":"hide"](!0).attr(t).animate($t({x:e-o,y:i-o},h.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||a)&&(s.graphic=u.renderer.symbol(r,e-o,i-o,2*o,2*o,c?l:f).attr(t).add(m))):h&&(s.graphic=h.destroy())},convertAttribs:function(t,e,i,n){var s,o,r=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},n=n||{};for(s in r)o=r[s],a[s]=Jt(t[o],e[s],i[s],n[s]);return a},getAttribs:function(){var t,e=this,i=e.options,n=te[e.type].marker?i.marker:i,s=n.states,o=s.hover,r=e.color,a=e.options.negativeColor;t={stroke:r,fill:r};var h,l,c=e.points||[],d=[],u=e.pointAttrToOptions;h=e.hasPointSpecificOptions;var f=n.lineColor,g=n.fillColor;l=i.turboThreshold;var m,y=e.zones,v=e.zoneAxis||"y";if(i.marker?(o.radius=o.radius||n.radius+o.radiusPlus,o.lineWidth=o.lineWidth||n.lineWidth+o.lineWidthPlus):(o.color=o.color||D(o.color||r).brighten(o.brightness).get(),
o.negativeColor=o.negativeColor||D(o.negativeColor||a).brighten(o.brightness).get()),d[""]=e.convertAttribs(n,t),Ft(["hover","select"],function(t){d[t]=e.convertAttribs(s[t],d[""])}),e.pointAttr=d,r=c.length,!l||l>r||h)for(;r--;){if(l=c[r],(n=l.options&&l.options.marker||l.options)&&n.enabled===!1&&(n.radius=0),y.length){for(h=0,t=y[h];l[v]>=t.value;)t=y[++h];l.color=l.fillColor=Jt(t.color,e.color)}if(h=i.colorByPoint||l.color,l.options)for(m in u)p(n[u[m]])&&(h=!0);h?(n=n||{},h=[],s=n.states||{},t=s.hover=s.hover||{},(!i.marker||l.negative&&!t.fillColor&&!o.fillColor)&&(t[e.pointAttrToOptions.fill]=t.color||!l.options.color&&o[l.negative&&a?"negativeColor":"color"]||D(l.color).brighten(t.brightness||o.brightness).get()),t={color:l.color},g||(t.fillColor=l.color),f||(t.lineColor=l.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,h[""]=e.convertAttribs($t(t,n),d[""]),h.hover=e.convertAttribs(s.hover,d.hover,h[""]),h.select=e.convertAttribs(s.select,d.select,h[""])):h=d,l.pointAttr=h}},destroy:function(){var t,e,i,n,s=this,o=s.chart,r=/AppleWebKit\/533/.test(xt),a=s.data||[];for(Ut(s,"destroy"),_t(s),Ft(s.axisTypes||[],function(t){(n=s[t])&&(d(n.series,s),n.isDirty=n.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();s.points=null,clearTimeout(s.animationTimeout);for(i in s)s[i]instanceof z&&!s[i].survive&&(t=r&&"group"===i?"hide":"destroy",s[i][t]());o.hoverSeries===s&&(o.hoverSeries=null),d(o.series,s);for(i in s)delete s[i]},getGraphPath:function(t,e,i){var n,s,o=this,r=o.options,a=r.step,h=[],t=t||o.points;return(n=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&n&&(a=4-a),r.connectNulls&&!e&&!i&&(t=this.getValidPoints(t)),Ft(t,function(n,l){var c=n.plotX,d=n.plotY,u=t[l-1];(n.leftCliff||u&&u.rightCliff)&&!i&&(s=!0),n.isNull&&!p(e)&&l>0?s=!r.connectNulls:n.isNull&&!e?s=!0:(0===l||s?u=["M",n.plotX,n.plotY]:o.getPointSpline?u=o.getPointSpline(t,n,l):a?(u=1===a?["L",u.plotX,d]:2===a?["L",(u.plotX+c)/2,u.plotY,"L",(u.plotX+c)/2,d]:["L",c,u.plotY],u.push("L",c,d)):u=["L",c,d],h.push.apply(h,u),s=!1)}),o.graphPath=h},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],n=e.lineWidth,s="square"!==e.linecap,o=(this.gappedPath||this.getGraphPath).call(this),r=this.fillGraph&&this.color||"none";Ft(this.zones,function(n,s){i.push(["zoneGraph"+s,n.color||t.color,n.dashStyle||e.dashStyle])}),Ft(i,function(i,a){var h=i[0],l=t[h];l?l.animate({d:o}):(n||r)&&o.length&&(l={stroke:i[1],"stroke-width":n,fill:r,zIndex:1},i[2]?l.dashstyle=i[2]:s&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[h]=t.chart.renderer.path(o).attr(l).add(t.group).shadow(2>a&&e.shadow))})},applyZones:function(){var t,e,i,n,s,o,r,a=this,h=this.chart,l=h.renderer,c=this.zones,d=this.clips||[],p=this.graph,u=this.area,f=pt(h.chartWidth,h.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,y=h.inverted,v=g.horiz,x=!1;c.length&&(p||u)&&g.min!==E&&(p&&p.hide(),u&&u.hide(),n=g.getExtremes(),Ft(c,function(c,b){t=m?v?h.plotWidth:0:v?0:g.toPixels(n.min),t=ut(pt(Jt(e,t),0),f),e=ut(pt(lt(g.toPixels(Jt(c.value,n.max),!0)),0),f),x&&(t=e=g.toPixels(n.max)),s=Math.abs(t-e),o=ut(t,e),r=pt(t,e),g.isXAxis?(i={x:y?r:o,y:0,width:s,height:f},v||(i.x=h.plotHeight-i.x)):(i={x:0,y:y?r:o,width:f,height:s},v&&(i.y=h.plotWidth-i.y)),h.inverted&&l.isVML&&(i=g.isXAxis?{x:0,y:m?o:r,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),d[b]?d[b].animate(i):(d[b]=l.clipRect(i),p&&a["zoneGraph"+b].clip(d[b]),u&&a["zoneArea"+b].clip(d[b])),x=c.value>n.max}),this.clips=d)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Ft(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(jt(i,"resize",t),jt(e,"destroy",function(){_t(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,s){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:n||.1}).add(s),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:i})[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,s=(t=n.animation)&&!!e.animate&&i.renderer.isSVG&&Jt(t.duration,500)||0,o=e.visible?"inherit":"hidden",r=n.zIndex,a=e.hasRendered,h=i.seriesGroup;t=e.plotGroup("group","series",o,r,h),e.markerGroup=e.plotGroup("markerGroup","markers",o,r,h),s&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?i.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),Ft(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip!==!1&&!e.sharedClipKey&&!a&&t.clip(i.clipRect),s&&e.animate(),a||(e.animationTimeout=g(function(){e.afterAnimate()},s)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.isDirty,n=this.group,s=this.xAxis,o=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:Jt(s&&s.left,t.plotLeft),translateY:Jt(o&&o.top,t.plotTop)})),this.translate(),this.render(),e&&Ut(this,"updatedData"),(i||e)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,s=this.chart.inverted;return this.searchKDTree({clientX:s?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:s?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,s){var o,r;return(r=i&&i.length)?(o=e.kdAxisArray[n%s],i.sort(function(t,e){return t[o]-e[o]}),r=Math.floor(r/2),{point:i[r],left:t(i.slice(0,r),n+1,s),right:t(i.slice(r+1),n+1,s)}):void 0}var e=this,i=e.kdDimensions;delete e.kdTree,g(function(){e.kdTree=t(e.getValidPoints(),i,i)},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,a,h){var l,c,d=e.point,u=n.kdAxisArray[a%h],f=d;return c=p(t[s])&&p(d[s])?Math.pow(t[s]-d[s],2):null,l=p(t[o])&&p(d[o])?Math.pow(t[o]-d[o],2):null,l=(c||0)+(l||0),d.dist=p(l)?Math.sqrt(l):Number.MAX_VALUE,d.distX=p(c)?Math.sqrt(c):Number.MAX_VALUE,u=t[u]-d[u],l=0>u?"left":"right",c=0>u?"right":"left",e[l]&&(l=i(t,e[l],a+1,h),f=l[r]<f[r]?l:d),e[c]&&Math.sqrt(u*u)<f[r]&&(t=i(t,e[c],a+1,h),f=t[r]<f[r]?t:f),f}var n=this,s=this.kdAxisArray[0],o=this.kdAxisArray[1],r=e?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?i(t,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},B.prototype={destroy:function(){P(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?k(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,s=n.inverted,o=i.reversed,o=this.isNegative&&!o||!this.isNegative&&o,r=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=ft(r-i),a=n.xAxis[0].translate(this.x)+t,h=n.plotHeight,o={x:s?o?r:r-i:a,y:s?h-a-e:o?h-r-i:h-r,width:s?i:e,height:s?e:i};(s=this.label)&&(s.align(this.alignOptions,null,o),o=s.alignAttr,s[this.options.crop===!1||n.isInsidePlot(o.x,o.y)?"show":"hide"](!0))}},ge.prototype.getStacks=function(){var t=this;Ft(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Ft(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+Jt(e.options.stack,""))})},re.prototype.buildStacks=function(){var t,e,i=this.series,n=Jt(this.options.reversedStacks,!0),s=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=s;e--;)i[n?e:s-e-1].setStackedPoints();for(e=s;e--;)t=i[n?e:s-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;s>e;e++)i[e].setPercentStacks()}},re.prototype.renderStackTotals=function(){var t,e,i=this.chart,n=i.renderer,s=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),o.translate(i.plotLeft,i.plotTop);for(t in s)for(e in i=s[t])i[e].render(o)},re.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},re.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}},ye.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,n,s,o,r,a=this.processedXData,h=this.processedYData,l=[],c=h.length,d=this.options,p=d.threshold,u=d.startFromThreshold?p:0,f=d.stack,d=d.stacking,g=this.stackKey,m="-"+g,y=this.negStacks,v=this.yAxis,x=v.stacks,b=v.oldStacks;for(v.stacksTouched+=1,s=0;c>s;s++)o=a[s],r=h[s],t=this.getStackIndicator(t,o,this.index),n=t.key,i=(e=y&&(u?0:p)>r)?m:g,x[i]||(x[i]={}),x[i][o]||(b[i]&&b[i][o]?(x[i][o]=b[i][o],x[i][o].total=null):x[i][o]=new B(v,v.options.stackLabels,e,o,f)),i=x[i][o],null!==r&&(i.points[n]=i.points[this.index]=[Jt(i.cum,u)],i.touched=v.stacksTouched,t.index>0&&this.singleStacks===!1&&(i.points[n][0]=i.points[this.index+","+o+",0"][0])),"percent"===d?(e=e?g:m,y&&x[e]&&x[e][o]?(e=x[e][o],i.total=e.total=pt(e.total,i.total)+ft(r)||0):i.total=M(i.total+(ft(r)||0))):i.total=M(i.total+(r||0)),i.cum=Jt(i.cum,u)+(r||0),null!==r&&i.points[n].push(i.cum),l[s]=i.cum;"percent"===d&&(v.usePercentage=!0),this.stackedYData=l,v.oldStacks={}}},ye.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,s=e.processedXData;Ft([i,"-"+i],function(i){for(var o,r,a,h=s.length;h--;)r=s[h],t=e.getStackIndicator(t,r,e.index),o=(a=n[i]&&n[i][r])&&a.points[t.key],(r=o)&&(a=a.total?100/a.total:0,r[0]=M(r[0]*a),r[1]=M(r[1]*a),e.stackedYData[h]=r[1])})},ye.prototype.getStackIndicator=function(t,e,i){return p(t)&&t.x===e?t.index++:t={x:e,index:0},t.key=[i,e,t.index].join(","),t},$t(ge.prototype,{addSeries:function(t,e,i){var n,s=this;return t&&(e=Jt(e,!0),Ut(s,"addSeries",{options:t},function(){n=s.initSeries(t),s.isDirtyLegend=!0,s.linkSeries(),e&&s.redraw(i)})),n},addAxis:function(t,e,i,s){var o=e?"xAxis":"yAxis",r=this.options;new re(this,n(t,{index:this[o].length,isX:e})),r[o]=f(r[o]||{}),r[o].push(t),Jt(i,!0)&&this.redraw(s)},showLoading:function(t){var e=this,i=e.options,n=e.loadingDiv,s=i.loading,o=function(){n&&m(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};n||(e.loadingDiv=n=y(Bt,{className:"highcharts-loading"},$t(s.style,{zIndex:10,display:"none"}),e.container),e.loadingSpan=y("span",null,s.labelStyle,n),jt(e,"redraw",o)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(m(n,{opacity:0,display:""}),Kt(n,{opacity:s.style.opacity},{duration:s.showDuration||0}),e.loadingShown=!0),o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Kt(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){m(e,{display:"none"})}}),this.loadingShown=!1}}),$t(me.prototype,{update:function(t,e,i,n){function s(){h.applyOptions(t),null===h.y&&c&&(h.graphic=c.destroy()),r(t)&&!a(t)&&(h.redraw=function(){c&&c.element&&t&&t.marker&&t.marker.symbol&&(h.graphic=c.destroy()),t&&t.dataLabels&&h.dataLabel&&(h.dataLabel=h.dataLabel.destroy()),h.redraw=null}),o=h.index,l.updateParallelArrays(h,o),u&&h.name&&(u[h.x]=h.name),p.data[o]=r(p.data[o])?h.options:t,l.isDirty=l.isDirtyData=!0,!l.fixedBox&&l.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===p.legendType&&(d.isDirtyLegend=!0),e&&d.redraw(i)}var o,h=this,l=h.series,c=h.graphic,d=l.chart,p=l.options,u=l.xAxis&&l.xAxis.names,e=Jt(e,!0);n===!1?s():h.firePointEvent("update",{options:t},s)},remove:function(t,e){this.series.removePoint(Ht(this,this.series.data),t,e)}}),$t(ye.prototype,{addPoint:function(t,e,i,n){var s,o=this,r=o.options,a=o.data,h=o.graph,l=o.area,c=o.chart,d=o.xAxis&&o.xAxis.names,p=h&&h.shift||0,u=["graph","area"],h=r.data,f=o.xData;if(I(n,c),i){for(n=o.zones.length;n--;)u.push("zoneGraph"+n,"zoneArea"+n);Ft(u,function(t){o[t]&&(o[t].shift=p+(r.step?2:1))})}if(l&&(l.isArea=!0),e=Jt(e,!0),l={series:o},o.pointClass.prototype.applyOptions.apply(l,[t]),u=l.x,n=f.length,o.requireSorting&&u<f[n-1])for(s=!0;n&&f[n-1]>u;)n--;o.updateParallelArrays(l,"splice",n,0,0),o.updateParallelArrays(l,n),d&&l.name&&(d[u]=l.name),h.splice(n,0,t),s&&(o.data.splice(n,0,null),o.processData()),"point"===r.legendType&&o.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),o.updateParallelArrays(l,"shift"),h.shift())),o.isDirty=!0,o.isDirtyData=!0,e&&(o.getAttribs(),c.redraw())},removePoint:function(t,e,i){var n=this,s=n.data,o=s[t],r=n.points,a=n.chart,h=function(){r&&r.length===s.length&&r.splice(t,1),s.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};I(i,a),e=Jt(e,!0),o?o.firePointEvent("remove",null,h):h()},remove:function(t,e){var i=this,n=i.chart;Ut(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),Jt(t,!0)&&n.redraw(e)})},update:function(t,e){var i,s=this,o=this.chart,r=this.userOptions,a=this.type,h=Wt[a].prototype,l=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==a||void 0!==t.zIndex)&&(l.length=0),Ft(l,function(t){l[t]=s[t],delete s[t]}),t=n(r,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(i in h)this[i]=E;$t(this,Wt[t.type||a].prototype),Ft(l,function(t){s[t]=l[t]}),this.init(o,t),o.linkSeries(),Jt(e,!0)&&o.redraw(!1)}}),$t(re.prototype,{update:function(t,e){var i=this.chart,t=i.options[this.coll][this.options.index]=n(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=E,this.init(i,$t(t,{events:E})),i.isDirtyBox=!0,Jt(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,s=n.length;s--;)n[s]&&n[s].remove(!1);d(e.axes,this),d(e[i],this),e.options[i].splice(this.options.index,1),Ft(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Jt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var ve=v(ye);Wt.line=ve,te.area=n(ee,{softThreshold:!1,threshold:0});var xe=v(ye,{type:"area",singleStacks:!1,getStackPoints:function(){var t,e,i,n=[],s=[],o=this.xAxis,r=this.yAxis,a=r.stacks[this.stackKey],h={},l=this.points,c=this.index,d=r.series,p=d.length,u=Jt(r.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<l.length;e++)h[l[e].x]=l[e];for(i in a)null!==a[i].total&&s.push(+i);s.sort(function(t,e){return t-e}),t=Vt(d,function(){return this.visible}),Ft(s,function(i,l){var d,f,g=0;if(h[i]&&!h[i].isNull)n.push(h[i]),Ft([-1,1],function(n){var o=1===n?"rightNull":"leftNull",r=0,g=a[s[l+n]];if(g)for(e=c;e>=0&&p>e;)d=g.points[e],d||(e===c?h[i][o]=!0:t[e]&&(f=a[i].points[e])&&(r-=f[1]-f[0])),e+=u;h[i][1===n?"rightCliff":"leftCliff"]=r});else{for(e=c;e>=0&&p>e;){if(d=a[i].points[e]){g=d[1];break}e+=u}g=r.toPixels(g,!0),n.push({isNull:!0,plotX:o.toPixels(i,!0),plotY:g,yBottom:g})}})}return n},getGraphPath:function(t){var e,i,n,s,o=ye.prototype.getGraphPath,r=this.options,a=r.stacking,h=this.yAxis,l=[],c=[],d=this.index,p=h.stacks[this.stackKey],u=r.threshold,f=h.getThreshold(r.threshold),r=r.connectNulls||"percent"===a,g=function(e,i,s){var o,r,g=t[e],e=a&&p[g.x].points[d],m=g[s+"Null"]||0,s=g[s+"Cliff"]||0,g=!0;s||m?(o=(m?e[0]:e[1])+s,r=e[0]+s,g=!!m):!a&&t[i]&&t[i].isNull&&(o=r=u),void 0!==o&&(c.push({plotX:n,plotY:null===o?f:h.toPixels(o,!0),isNull:g}),l.push({plotX:n,plotY:null===r?f:h.toPixels(r,!0)}))},t=t||this.points;for(a&&(t=this.getStackPoints()),e=0;e<t.length;e++)i=t[e].isNull,n=Jt(t[e].rectPlotX,t[e].plotX),s=Jt(t[e].yBottom,f),(!i||r)&&(r||g(e,e-1,"left"),i&&!a&&r||(c.push(t[e]),l.push({x:e,plotX:n,plotY:s})),r||g(e,e+1,"right"));return e=o.call(this,c,!0,!0),l.reversed=!0,i=o.call(this,l,!0,!0),i.length&&(i[0]="L"),e=e.concat(i),o=o.call(this,c,!1,r),this.areaPath=e,o},drawGraph:function(){this.areaPath=[],ye.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Ft(this.zones,function(e,s){n.push(["zoneArea"+s,e.color||t.color,e.fillColor||i.fillColor])}),Ft(n,function(n){var s=n[0],o=t[s];o?o.animate({d:e}):(o={fill:n[2]||n[1],zIndex:0},n[2]||(o["fill-opacity"]=Jt(i.fillOpacity,.75)),t[s]=t.chart.renderer.path(e).attr(o).add(t.group))})},drawLegendSymbol:ne.drawRectangle});return Wt.area=xe,te.spline=n(ee),ve=v(ye,{type:"spline",getPointSpline:function(t,e,i){var n,s,o,r,a=e.plotX,h=e.plotY,l=t[i-1],i=t[i+1];if(l&&!l.isNull&&i&&!i.isNull){t=l.plotY,o=i.plotX;var i=i.plotY,c=0;n=(1.5*a+l.plotX)/2.5,s=(1.5*h+t)/2.5,o=(1.5*a+o)/2.5,r=(1.5*h+i)/2.5,o!==n&&(c=(r-s)*(o-a)/(o-n)+h-r),s+=c,r+=c,s>t&&s>h?(s=pt(t,h),r=2*h-s):t>s&&h>s&&(s=ut(t,h),r=2*h-s),r>i&&r>h?(r=pt(i,h),s=2*h-r):i>r&&h>r&&(r=ut(i,h),s=2*h-r),e.rightContX=o,e.rightContY=r}return e=["C",Jt(l.rightContX,l.plotX),Jt(l.rightContY,l.plotY),Jt(n,a),Jt(s,h),a,h],l.rightContX=l.rightContY=null,e}}),Wt.spline=ve,te.areaspline=n(te.area),xe=xe.prototype,ve=v(ve,{type:"areaspline",getStackPoints:xe.getStackPoints,getGraphPath:xe.getGraphPath,setStackCliffs:xe.setStackCliffs,drawGraph:xe.drawGraph,drawLegendSymbol:ne.drawRectangle}),Wt.areaspline=ve,te.column=n(ee,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),ve=v(ye,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ye.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Ft(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,n=e.xAxis,s=e.yAxis,o=n.reversed,r={},a=0;i.grouping===!1?a=1:Ft(e.chart.series,function(i){var n,o=i.options,h=i.yAxis;i.type===e.type&&i.visible&&s.len===h.len&&s.pos===h.pos&&(o.stacking?(t=i.stackKey,r[t]===E&&(r[t]=a++),n=r[t]):o.grouping!==!1&&(n=a++),i.columnIndex=n)});var h=ut(ft(n.transA)*(n.ordinalSlope||i.pointRange||n.closestPointRange||n.tickInterval||1),n.len),l=h*i.groupPadding,c=(h-2*l)/a,i=ut(i.maxPointWidth||n.len,Jt(i.pointWidth,c*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(c-i)/2+(l+((e.columnIndex||0)+(o?1:0))*c-h/2)*(o?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var s=this.chart,o=this.borderWidth,r=-(o%2?.5:0),o=o%2?.5:1;return s.inverted&&s.renderer.isVML&&(o+=1),i=Math.round(t+i)+r,t=Math.round(t)+r,i-=t,n=Math.round(e+n)+o,r=ft(e)<=.5&&n>.5,e=Math.round(e)+o,n-=e,r&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,n=t.borderWidth=Jt(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),s=t.yAxis,o=t.translatedThreshold=s.getThreshold(i.threshold),r=Jt(i.minPointLength,5),a=t.getColumnMetrics(),h=a.width,l=t.barW=pt(h,1+2*n),c=t.pointXOffset=a.offset;e.inverted&&(o-=.5),i.pointPadding&&(l=dt(l)),ye.prototype.translate.apply(t),Ft(t.points,function(i){var n,a=ut(Jt(i.yBottom,o),9e4),d=999+ft(a),d=ut(pt(-d,i.plotY),s.len+d),p=i.plotX+c,u=l,f=ut(d,a),g=pt(d,a)-f;ft(g)<r&&r&&(g=r,n=!s.reversed&&!i.negative||s.reversed&&i.negative,f=ft(f-o)>r?a-r:o-(n?r:0)),i.barX=p,i.pointWidth=h,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-d,t.xAxis.len-p-u/2,g]:[p+u/2,d+s.pos-e.plotTop,g],i.shapeType="rect",i.shapeArgs=t.crispCol(p,f,u,g)})},getSymbol:Dt,drawLegendSymbol:ne.drawRectangle,drawGraph:Dt,drawPoints:function(){var t,e,i=this,s=this.chart,o=i.options,r=s.renderer,a=o.animationLimit||250;Ft(i.points,function(h){var l=h.plotY,c=h.graphic;l===E||isNaN(l)||null===h.y?c&&(h.graphic=c.destroy()):(t=h.shapeArgs,l=p(i.borderWidth)?{"stroke-width":i.borderWidth}:{},e=h.pointAttr[h.selected?"select":""]||i.pointAttr[""],c?(Zt(c),c.attr(l).attr(e)[s.pointCount<a?"animate":"attr"](n(t))):h.graphic=r[h.shapeType](t).attr(l).attr(e).add(h.group||i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))})},animate:function(t){var e=this.yAxis,i=this.options,n=this.chart.inverted,s={};Pt&&(t?(s.scaleY=.001,t=ut(e.pos+e.len,pt(e.pos,e.toPixels(i.threshold))),n?s.translateX=t-e.len:s.translateY=t,this.group.attr(s)):(s.scaleY=1,s[n?"translateX":"translateY"]=e.pos,this.group.animate(s,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Ft(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ye.prototype.remove.apply(t,arguments)}}),Wt.column=ve,te.bar=n(te.column),xe=v(ve,{type:"bar",inverted:!0}),Wt.bar=xe,te.scatter=n(ee,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),xe=v(ye,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&ye.prototype.drawGraph.call(this)}}),Wt.scatter=xe,te.pie=n(ee,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),ee={type:"pie",isCartesian:!1,pointClass:v(me,{init:function(){me.prototype.init.apply(this,arguments);var t,e=this;return e.name=Jt(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},jt(e,"select",t),jt(e,"unselect",t),e},setVisible:function(t,e){var i=this,n=i.series,s=n.chart,o=n.options.ignoreHiddenPoint,e=Jt(e,o);t!==i.visible&&(i.visible=i.options.visible=t=t===E?!i.visible:t,n.options.data[Ht(i,n.data)]=i.options,Ft(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&s.legend.colorizeItem(i,t),!t&&"hover"===i.state&&i.setState(""),o&&(n.isDirty=!0),e&&s.redraw())},slice:function(t,e,i){var n=this.series;I(i,n.chart),Jt(e,!0),this.sliced=this.options.sliced=t=p(t)?t:!this.sliced,n.options.data[Ht(this,n.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(Ft(i,function(t){var i=t.graphic,s=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:s.r,start:s.start,end:s.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,s=n.length,o=this.options.ignoreHiddenPoint;for(t=0;s>t;t++)e=n[t],i+=o&&!e.visible?0:e.y;for(this.total=i,t=0;s>t;t++)e=n[t],e.percentage=i>0&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){ye.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,s,o,r=0,a=this.options,h=a.slicedOffset,l=h+a.borderWidth,c=a.startAngle||0,d=this.startAngleRad=yt/180*(c-90),c=(this.endAngleRad=yt/180*(Jt(a.endAngle,c+360)-90))-d,p=this.points,u=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return n=ht.asin(ut((e-t[1])/(t[2]/2+u),1)),t[0]+(i?-1:1)*gt(n)*(t[2]/2+u)},s=0;f>s;s++)o=p[s],e=d+r*c,(!a||o.visible)&&(r+=o.percentage/100),i=d+r*c,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:lt(1e3*e)/1e3,end:lt(1e3*i)/1e3},n=(i+e)/2,n>1.5*yt?n-=2*yt:-yt/2>n&&(n+=2*yt),o.slicedTranslation={translateX:lt(gt(n)*h),translateY:lt(mt(n)*h)},e=gt(n)*t[2]/2,i=mt(n)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=-yt/2>n||n>yt/2?1:0,o.angle=n,l=ut(l,u/2),o.labelPos=[t[0]+e+gt(n)*u,t[1]+i+mt(n)*u,t[0]+e+gt(n)*l,t[1]+i+mt(n)*l,t[0]+e,t[1]+i,0>u?"center":o.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,s,o,r=this,a=r.chart.renderer,h=r.options.shadow;h&&!r.shadowGroup&&(r.shadowGroup=a.g("shadow").add(r.group)),Ft(r.points,function(l){null!==l.y&&(e=l.graphic,s=l.shapeArgs,i=l.shadowGroup,n=l.pointAttr[l.selected?"select":""],n.stroke||(n.stroke=n.fill),h&&!i&&(i=l.shadowGroup=a.g("shadow").add(r.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.setRadialReference(r.center).attr(n).animate($t(s,t)):(o={"stroke-linejoin":"round"},l.visible||(o.visibility="hidden"),l.graphic=e=a[l.shapeType](s).setRadialReference(r.center).attr(n).attr(o).attr(t).add(r.group).shadow(h,i)))})},searchPoint:Dt,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:ne.drawRectangle,getCenter:se.getCenter,getSymbol:Dt},ee=v(ye,ee),Wt.pie=ee,ye.prototype.drawDataLabels=function(){var t,e,i,s,o=this,r=o.options,a=r.cursor,h=r.dataLabels,l=o.points,c=o.hasRendered||0,d=o.chart.renderer;(h.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(h),s=o.plotGroup("dataLabelsGroup","data-labels",h.defer?"hidden":"visible",h.zIndex||6),Jt(h.defer,!0)&&(s.attr({opacity:+c}),c||jt(o,"afterAnimate",function(){o.visible&&s.show(),s[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=h,Ft(l,function(l){var c,u,f,g,m=l.dataLabel,y=l.connector,v=!0,x={};if(t=l.dlOptions||l.options&&l.options.dataLabels,c=Jt(t&&t.enabled,e.enabled)&&null!==l.y,m&&!c)l.dataLabel=m.destroy();else if(c){if(h=n(e,t),g=h.style,c=h.rotation,u=l.getLabelConfig(),i=h.format?k(h.format,u):h.formatter.call(u,h),g.color=Jt(h.color,g.color,o.color,"black"),m)p(i)?(m.attr({text:i}),v=!1):(l.dataLabel=m=m.destroy(),y&&(l.connector=y.destroy()));else if(p(i)){m={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":h.borderWidth,r:h.borderRadius||0,rotation:c,padding:h.padding,zIndex:1},"contrast"===g.color&&(x.color=h.inside||h.distance<0||r.stacking?d.getContrast(l.color||o.color):"#000000"),a&&(x.cursor=a);for(f in m)m[f]===E&&delete m[f];m=l.dataLabel=d[c?"text":"label"](i,0,-9999,h.shape,null,null,h.useHTML).attr(m).css($t(g,x)).add(s).shadow(h.shadow)}m&&o.alignDataLabel(l,m,h,null,v)}}))},ye.prototype.alignDataLabel=function(t,e,i,n,s){var o=this.chart,r=o.inverted,a=Jt(t.plotX,-9999),h=Jt(t.plotY,-9999),l=e.getBBox(),c=o.renderer.fontMetrics(i.style.fontSize).b,d=i.rotation,p=i.align,u=this.visible&&(t.series.forceDL||o.isInsidePlot(a,lt(h),r)||n&&o.isInsidePlot(a,r?n.x+1:n.y+n.height-1,r)),f="justify"===Jt(i.overflow,"justify");u&&(n=$t({x:r?o.plotWidth-h:a,y:lt(r?o.plotHeight-a:h),width:0,height:0},n),$t(i,{width:l.width,height:l.height}),d?(f=!1,r=o.renderer.rotCorr(c,d),r={x:n.x+i.x+n.width/2+r.x,y:n.y+i.y+n.height/2},e[s?"attr":"animate"](r).attr({align:i.align}),a=(d+720)%360,a=a>180&&360>a,"left"===p?r.y-=a?l.height:0:"center"===p?(r.x-=l.width/2,r.y-=l.height/2):"right"===p&&(r.x-=l.width,r.y-=a?0:l.height)):(e.align(i,null,n),r=e.alignAttr),f?this.justifyDataLabel(e,i,r,l,n,s):Jt(i.crop,!0)&&(u=o.isInsidePlot(r.x,r.y)&&o.isInsidePlot(r.x+l.width,r.y+l.height)),i.shape&&!d&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),u||(Zt(e),e.attr({y:-9999}),e.placed=!1)},ye.prototype.justifyDataLabel=function(t,e,i,n,s,o){var r,a,h=this.chart,l=e.align,c=e.verticalAlign,d=t.box?0:t.padding||0;r=i.x+d,0>r&&("right"===l?e.align="left":e.x=-r,a=!0),r=i.x+n.width-d,r>h.plotWidth&&("left"===l?e.align="right":e.x=h.plotWidth-r,a=!0),r=i.y+d,0>r&&("bottom"===c?e.verticalAlign="top":e.y=-r,a=!0),r=i.y+n.height-d,r>h.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=h.plotHeight-r,a=!0),a&&(t.placed=!o,t.align(e,null,s))},Wt.pie&&(Wt.pie.prototype.drawDataLabels=function(){var t,e,i,n,s,o,r,a,h,l,c,d=this,p=d.data,u=d.chart,f=d.options.dataLabels,g=Jt(f.connectorPadding,10),m=Jt(f.connectorWidth,1),y=u.plotWidth,v=u.plotHeight,x=Jt(f.softConnector,!0),b=f.distance,k=d.center,w=k[2]/2,S=k[1],T=b>0,A=[[],[]],P=[0,0,0,0],L=function(t,e){return e.y-t.y};if(d.visible&&(f.enabled||d._hasPointLabels)){for(ye.prototype.drawDataLabels.apply(d),Ft(p,function(t){t.dataLabel&&t.visible&&(A[t.half].push(t),t.dataLabel._pos=null)}),l=2;l--;){var M,I=[],O=[],D=A[l],z=D.length;if(z){for(d.sortByAngle(D,l-.5),c=p=0;!p&&D[c];)p=D[c]&&D[c].dataLabel&&(D[c].dataLabel.getBBox().height||21),c++;if(b>0){for(s=ut(S+w+b,u.plotHeight),c=pt(0,S-w-b);s>=c;c+=p)I.push(c);if(s=I.length,z>s){for(t=[].concat(D),t.sort(L),c=z;c--;)t[c].rank=c;for(c=z;c--;)D[c].rank>=s&&D.splice(c,1);z=D.length}for(c=0;z>c;c++){t=D[c],o=t.labelPos,t=9999;var R,B;for(B=0;s>B;B++)R=ft(I[B]-o[1]),t>R&&(t=R,M=B);if(c>M&&null!==I[c])M=c;else for(z-c+M>s&&null!==I[c]&&(M=s-z+c);null===I[M];)M++;O.push({i:M,y:I[M]}),I[M]=null}O.sort(L)}for(c=0;z>c;c++)t=D[c],o=t.labelPos,n=t.dataLabel,h=t.visible===!1?"hidden":"inherit",t=o[1],b>0?(s=O.pop(),M=s.i,a=s.y,(t>a&&null!==I[M+1]||a>t&&null!==I[M-1])&&(a=ut(pt(0,t),u.plotHeight))):a=t,r=f.justify?k[0]+(l?-1:1)*(w+b):d.getX(a===S-w-b||a===S+w+b?t:a,l),n._attr={visibility:h,align:o[6]},n._pos={x:r+f.x+({left:g,right:-g}[o[6]]||0),y:a+f.y-10},n.connX=r,n.connY=a,null===this.options.size&&(s=n.width,g>r-s?P[3]=pt(lt(s-r+g),P[3]):r+s>y-g&&(P[1]=pt(lt(r+s-y+g),P[1])),0>a-p/2?P[0]=pt(lt(-a+p/2),P[0]):a+p/2>v&&(P[2]=pt(lt(a+p/2-v),P[2])))}}(0===C(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),T&&m&&Ft(this.points,function(t){e=t.connector,o=t.labelPos,(n=t.dataLabel)&&n._pos&&t.visible?(h=n._attr.visibility,r=n.connX,a=n.connY,i=x?["M",r+("left"===o[6]?5:-5),a,"C",r,a,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",r+("left"===o[6]?5:-5),a,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",h)):t.connector=e=d.chart.renderer.path(i).attr({"stroke-width":m,stroke:f.connectorColor||t.color||"#606060",visibility:h}).add(d.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},Wt.pie.prototype.placeDataLabels=function(){Ft(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},Wt.pie.prototype.alignDataLabel=Dt,Wt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,s=n.center,o=n.minSize||80,r=o;return null!==s[0]?r=pt(i[2]-pt(t[1],t[3]),o):(r=pt(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==s[1]?r=pt(ut(r,i[2]-pt(t[0],t[2])),o):(r=pt(ut(r,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),r<i[2]?(i[2]=r,i[3]=Math.min(/%$/.test(n.innerSize||0)?r*parseFloat(n.innerSize||0)/100:parseFloat(n.innerSize||0),r),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Wt.column&&(Wt.column.prototype.alignDataLabel=function(t,e,i,s,o){var r=this.chart.inverted,a=t.series,h=t.dlBox||t.shapeArgs,l=Jt(t.below,t.plotY>Jt(this.translatedThreshold,a.yAxis.len)),c=Jt(i.inside,!!this.options.stacking);h&&(s=n(h),s.y<0&&(s.height+=s.y,s.y=0),h=s.y+s.height-a.yAxis.len,h>0&&(s.height-=h),r&&(s={x:a.yAxis.len-s.y-s.height,y:a.xAxis.len-s.x-s.width,
width:s.height,height:s.width}),c||(r?(s.x+=l?0:s.width,s.width=0):(s.y+=l?s.height:0,s.height=0))),i.align=Jt(i.align,!r||c?"center":l?"right":"left"),i.verticalAlign=Jt(i.verticalAlign,r||c?"middle":l?"top":"bottom"),ye.prototype.alignDataLabel.call(this,t,e,i,s,o)}),function(t){var e=t.Chart,i=t.each,n=t.pick,s=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var s=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(s.enabled||t._hasPointLabels)&&!s.allowOverlap&&t.visible&&i(o,function(s){i(t.points,function(t){t[s]&&(t[s].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[s]))})})}),t.hideOverlappingLabels(e)}e(),s(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,s,o,r,a,h,l,c,d=t.length;for(n=0;d>n;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;d>n;n++)for(s=t[n],e=n+1;d>e;++e)o=t[e],s&&o&&s.placed&&o.placed&&0!==s.newOpacity&&0!==o.newOpacity&&(r=s.alignAttr,a=o.alignAttr,h=s.parentGroup,l=o.parentGroup,c=2*(s.box?0:s.padding),r=!(a.x+l.translateX>r.x+h.translateX+(s.width-c)||a.x+l.translateX+(o.width-c)<r.x+h.translateX||a.y+l.translateY>r.y+h.translateY+(s.height-c)||a.y+l.translateY+(o.height-c)<r.y+h.translateY))&&((s.labelrank<o.labelrank?s:o).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(rt),ee=rt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,s=n&&{cursor:n},o=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;i!==E&&i!==e.hoverPoint&&i.onMouseOver(t)};Ft(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Ft(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(s),W)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t=this,e=t.options,i=e.trackByArea,n=[].concat(i?t.areaPath:t.graphPath),s=n.length,o=t.chart,r=o.pointer,a=o.renderer,h=o.options.tooltip.snap,l=t.tracker,c=e.cursor,d=c&&{cursor:c},p=function(){o.hoverSeries!==t&&t.onMouseOver()},u="rgba(192,192,192,"+(Pt?1e-4:.002)+")";if(s&&!i)for(c=s+1;c--;)"M"===n[c]&&n.splice(c+1,0,n[c+1]-h,n[c+2],"L"),(c&&"M"===n[c]||c===s)&&n.splice(c,0,"L",n[c-2]+h,n[c-1]);l?l.attr({d:n}):(t.tracker=a.path(n).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:u,fill:i?u:"none","stroke-width":e.lineWidth+(i?0:2*h),zIndex:2}).add(t.group),Ft([t.tracker,t.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){r.onTrackerMouseOut(t)}).css(d),W&&t.on("touchstart",p)}))}},Wt.column&&(ve.prototype.drawTracker=ee.drawTrackerPoint),Wt.pie&&(Wt.pie.prototype.drawTracker=ee.drawTrackerPoint),Wt.scatter&&(xe.prototype.drawTracker=ee.drawTrackerPoint),$t(fe.prototype,{setItemEvents:function(t,e,i,n,s){var o=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n:s),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):Ut(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=y("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),jt(t.checkbox,"click",function(e){Ut(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),H.legend.itemStyle.cursor="pointer",$t(ge.prototype,{showResetZoom:function(){var t=this,e=H.lang,i=t.options.chart.resetZoomButton,n=i.theme,s=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,s&&s.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;Ut(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,s=!1;!t||t.resetSelection?Ft(this.axes,function(t){e=t.zoom()}):Ft(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,o=i.isXAxis;(n[o?"zoomX":"zoomY"]||n[o?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=this.resetZoomButton,s&&!i?this.showResetZoom():!s&&r(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(Jt(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,n=this,s=n.hoverPoints;s&&Ft(s,function(t){t.setState()}),Ft("xy"===e?[1,0]:[1],function(e){var e=n[e?"xAxis":"yAxis"][0],s=e.horiz,o=t[s?"chartX":"chartY"],s=s?"mouseDownX":"mouseDownY",r=n[s],a=(e.pointRange||0)/2,h=e.getExtremes(),l=e.toValue(r-o,!0)+a,a=e.toValue(r+e.len-o,!0)-a,r=r>o;e.series.length&&(r||l>ut(h.dataMin,h.min))&&(!r||a<pt(h.dataMax,h.max))&&(e.setExtremes(l,a,!1,!1,{trigger:"pan"}),i=!0),n[s]=o}),i&&n.redraw(!1),m(n.container,{cursor:"move"})}}),$t(me.prototype,{select:function(t,e){var i=this,n=i.series,s=n.chart,t=Jt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[Ht(i,n.data)]=i.options,i.setState(t&&"select"),e||Ft(s.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[Ht(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,n=i.chart,s=n.tooltip,o=n.hoverPoint;n.hoverSeries!==i&&i.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),s&&(!s.shared||i.noSharedTooltip)&&s.refresh(this,t),this.setState("hover"),!e)&&(n.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==Ht(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=n(this.series.options.point,this.options).events;this.events=e;for(t in e)jt(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t,e){var i,s=ct(this.plotX),o=this.plotY,r=this.series,a=r.options.states,h=te[r.type].marker&&r.options.marker,l=h&&!h.enabled,c=h&&h.states[t],d=c&&c.enabled===!1,p=r.stateMarkerGraphic,u=this.marker||{},f=r.chart,g=r.halo,t=t||"";i=this.pointAttr[t]||r.pointAttr[t],t===this.state&&!e||this.selected&&"select"!==t||a[t]&&a[t].enabled===!1||t&&(d||l&&c.enabled===!1)||t&&u.states&&u.states[t]&&u.states[t].enabled===!1||(this.graphic?(h=h&&this.graphic.symbolName&&i.r,this.graphic.attr(n(i,h?{x:s-h,y:o-h,width:2*h,height:2*h}:{})),p&&p.hide()):(t&&c&&(h=c.radius,u=u.symbol||r.symbol,p&&p.currentSymbol!==u&&(p=p.destroy()),p?p[e?"animate":"attr"]({x:s-h,y:o-h}):u&&(r.stateMarkerGraphic=p=f.renderer.symbol(u,s-h,o-h,2*h,2*h).attr(i).add(r.markerGroup),p.currentSymbol=u)),p&&(p[t&&f.isInsidePlot(s,o,f.inverted)?"show":"hide"](),p.element.point=this)),(s=a[t]&&a[t].halo)&&s.size?(g||(r.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr($t({fill:this.color||r.color,"fill-opacity":s.opacity,zIndex:-1},s.attributes))[e?"animate":"attr"]({d:this.haloPath(s.size)})):g&&g.attr({d:[]}),this.state=t)},haloPath:function(t){var e=this.series,i=e.chart,n=e.getPlotBox(),s=i.inverted,o=Math.floor(this.plotX);return i.renderer.symbols.circle(n.translateX+(s?e.yAxis.len-this.plotY:o)-t,n.translateY+(s?e.xAxis.len-o:this.plotY)-t,2*t,2*t)}}),$t(ye.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Ut(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&Ut(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(t){var e=this.options,i=this.graph,n=e.states,s=e.lineWidth,e=0,t=t||"";if(this.state!==t&&(this.state=t,!(n[t]&&n[t].enabled===!1)&&(t&&(s=n[t].lineWidth||s+(n[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(t={"stroke-width":s},i.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var i,n=this,s=n.chart,o=n.legendItem,r=s.options.chart.ignoreHiddenSeries,a=n.visible;i=(n.visible=t=n.userOptions.visible=t===E?!a:t)?"show":"hide",Ft(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),(s.hoverSeries===n||(s.hoverPoint&&s.hoverPoint.series)===n)&&n.onMouseOut(),o&&s.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&Ft(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Ft(n.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(s.isDirtyBox=!0),e!==!1&&s.redraw(),Ut(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===E?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Ut(this,t?"select":"unselect")},drawTracker:ee.drawTrackerGraph}),$t(rt,{Color:D,Point:me,Tick:R,Renderer:X,SVGElement:z,SVGRenderer:ie,arrayMin:A,arrayMax:C,charts:zt,dateFormat:F,error:e,format:k,pathAnim:void 0,getOptions:function(){return H},hasBidiBug:Lt,isTouchDevice:At,setOptions:function(t){return H=n(!0,H,t),O(),H},addEvent:jt,removeEvent:_t,createElement:y,discardElement:L,css:m,each:Ft,map:Vt,merge:n,splat:f,stableSort:T,extendClass:v,pInt:s,svg:Pt,canvas:Mt,vml:!Pt&&!Mt,product:"Highcharts",version:"4.2.3"}),rt});
/**
* This is a jquery extention that creates "bubbles"
* on a specified group of elements.
*
* @author Pete Fredricks - 02/15/2011
*
**/
!function(t){/**** BUBBLE FUNCTIONS ****/
function i(t){var i;for(var e in f)i=f[e],(t||i.clickSensitive)&&i.hide()}function e(){for(var t in f)f[t].show()}function s(t){var i=n(t);return i?h(i):!1}function n(i){return i instanceof t||(i=t(i)),i.parents("div.bubble").eq(0).data("bubble.uid")}function h(t){return f[t]}function o(t){var i=f[t];i.destroy(),delete f[t]}
// ********** START BUBBLE CLASS ********** //	
// Bubble constructor. This is the base class.
var b=function(){this.trigger="hover-hover",this.position="bottom-right"};/**
	 * This inits the class once it is instantiated.
	 *
	 * @param {jQuery obj} el
	 * @param {obj} options
	 */
b.prototype.init=function(t,i){i=i||{},
// all these "if" statements override the default (whether or not there is one).
i.dink&&(this.hasDink="true"==i.dink),i.auto&&(this.autoPos="true"==i.auto),i.animate&&(this.animate="true"==i.animate),i.mouse&&(this.toMouse="true"==i.mouse),i.fixed&&(this.fixedPos="true"==i.fixed),i.trigger&&(this.trigger=i.trigger),i.position&&(this.position=i.position),i.width&&(this.width=parseInt(i.width)),i.height&&(this.height=parseInt(i.height)),i.top&&(this.top=parseInt(i.top)),i.left&&(this.left=parseInt(i.left)),this.showDelay=i.showdelay?parseInt(i.showdelay):0,this.hideDelay=i.hidedelay?parseInt(i.hidedelay):400,this.debug="true"==i.debug,this.priPosition=this.position.split("-")[0],this.bubblePadding=parseInt(i.padding)||(this.toMouse?20:5),this.bubble=null,this.dink=null,this.message=i.msg,this.contentId=i.id,this.uid=SGAPI.util.getUID(),
// keep these as arrays so it's easy to add things.
this.innerClass=["bubble-inner"],this.bubbleClass=["bubble ",i.type||"basic","-bubble"],i.style&&this.innerClass.push(" ",i.style),
// these properties only work with Template Manager
SGAPI.TemplateManager&&i.template&&(this.template=i.template,this.dataKey=i.datakey,this.templateFile=(i.templateroot||"/public/templates/")+this.template+".tmpl"),
// the orignal position of target
this.origTop=null,this.origLeft=null,this.el=t,this.elWidth=0,this.elHeight=0,this.timer=null,this.status=!1,this.runSetup(),
// set uid 
this.bubble&&(this.bubble.data("bubble.uid",this.uid),this.el.data("bubble.uid",this.uid))},/**
	 * This function will probably be overwritten but the child classes. It is always 
	 * run at the end of the init, so it's up to the child class what goes in there.
	 */
b.prototype.runSetup=function(){
// set the content - this returns false if content is coming from template
this.loadContent({callback:this.draw,context:this})},/**
	 * Remove Bubble from the DOM
	 */
b.prototype.destroy=function(){this.bubble.remove()},/**
	 * This function gets the content of the bubble. It can either be a message 
	 * passed in the options, using a template, or it is taken from a specified
	 * container (using the id).
	 * 
	 * @param {obj} oArgs
	 */
b.prototype.loadContent=function(i){
// get data if there is a datakey and run filltemplate when done.
function e(){if(this.dataKey){var i=this.dataKey.split("-"),e={datakey:i[1]},n=i[0];t.ajax({url:n,dataType:"json",data:e,success:s,context:this})}else s.call(this,{})}
// set content and run callback.
function s(e){this.content=t.fillTemplate(this.template,e),i.callback&&i.callback.call(i.context,i.data)}
// if there is template specified, run the templating code.
if(i=i||{},this.template){var n={paths:this.templateFile,onload:e,context:this};t.loadTemplates(n)}else
// non-template based content...
// if there is a message aready passed, just use that.
this.message&&(this.content=this.message),
// if there is a contentId, use that element
this.contentId&&(this.content=t("#"+this.contentId),this.content[0]&&(this.content[0].style.display="")),
// if the content is an iframe, set the frame src
this.frame&&this.frame.attr("src",this.el.attr("bubble-src")),
// pull content from the title 
!this.content&&this.el.attr("title")&&(this.content=this.el.attr("title"),this.el.removeAttr("title")),
// run callback if we have one	
i.callback&&i.callback.call(i.context,i.data)},/**
	 * This function draws the actual bubble. It is responsible for adding the inner div,
	 * the inner div classes, the content, as well as binding events and setting position.
	 */
b.prototype.draw=function(){
// create the inner div, add any classes, and add the content
var i=this.inner=t("<div></div>").addClass(this.innerClass.join("")).html(this.content);this.width&&i.css({width:this.width,"max-width":this.width}),this.height&&i.height(this.height),
// add the position to the bubble class
this.bubbleClass.push(" bubble-",this.priPosition),
// create bubble, add the inner div to the bubble, and attach the whole bubble to body
this.bubble=t('<div style="top:-5000px; left:-5000px;"></div>').append(i).appendTo(t("body")).attr("class",this.bubbleClass.join("")),
// add the dink to bubble, if necessary
this.hasDink&&(this.dink=t('<div class="bubble-dink"><div></div></div>'),this.bubble.prepend(this.dink)),
// bind the events to the bubble and handle
this.bindEvents()},/**
	 * This function ultimately sets the position and class of the bubble.
	 *
	 * @param {event obj} ev
	 */
b.prototype.setPosition=function(t){if(!this.fixedPos){
// if "toMouse" then orignal position is based on mouse postion.
// otherwise it's based on target element position.
if(
// reset height and width to total bubble
this.bubWidth=this.bubble.outerWidth(!0),this.bubHeight=this.bubble.outerHeight(!0),this.toMouse&&t)this.origTop=t.pageY,this.origLeft=t.pageX;else{
// get the target element's height and width
this.elWidth=this.el.outerWidth(!0),this.elHeight=this.el.outerHeight(!0);
// store anchor element's offset
var i=this.el.offset();this.origTop=i.top,this.origLeft=i.left}this.adjustPosition(this.position),
// only run if auto-position is turned on
this.autoPos&&this.autoPosition()}
// set the bubble position
this.bubble.css({top:this.top,left:this.left,display:"none"})},/**
	 * This function takes the string version of position and creates
	 * the actual coordinates.
	 *
	 * @param {string} position
	 */
b.prototype.adjustPosition=function(t){/**
		 * This function sets the dink position on the bubble.
		 * 
		 * @param {string} dinkPos
		 * @param {int} distance
		 * @return {int} adjust
		 */
function i(t,i){if(t&&"center"!=t){var e,s=12;
// dink position needs to be between 11 and 50 pixels	
11>i&&(i=11),i>50&&(i=50),
// clear any styles that might have already been added to the dink
h.dink.removeAttr("style"),
// add half the dink size (12 for now) to get the full adjustment for dinks
e=i+s,
// if dink position is other than center, set the dink position style
h.dink.css(t,i)}else h.dink.addClass("bubble-dink-centered");return e}
// this creates distance between the bubble and the mouse/el on "show"
var e,s=this.bubblePadding,n=0,h=this;this.top=this.origTop,this.left=this.origLeft;
// break the position into primary, secondary and dink position 
var o=t.split("-"),b=o[0],l=o[1],a=o[2]||this.oppositeDay(l);
// set the primary position		
switch(b){case"left":this.left-=this.bubWidth+s;break;case"right":this.left+=this.elWidth+s;break;case"top":this.top-=this.bubHeight+s;break;case"bottom":this.top+=this.elHeight+s}switch(b){
// for left and right bubbles, set the top and dink position
case"left":case"right":
// if the dink offset is greater than middle, just use the middle
if(
// set the dink adjustment and styles
this.hasDink&&(n=i(a,this.bubHeight/10)),
// calc the middle of element
e=this.elHeight/2,n&&e>n)switch(l){case"top":this.top+=n;break;case"bottom":this.top+=this.elHeight-n}else this.top+=e;
// adjust the top to account for the dink
switch(a){case"top":this.top-=n;break;case"center":this.top-=this.bubHeight/2;break;case"bottom":this.top-=this.bubHeight-n}break;
// for top and bottom bubbles, set the left and dink position	
case"top":case"bottom":
// if the dink offset is greater than middle, just use the middle
if(
// set the dink adjustment and styles
this.hasDink&&(n=i(a,this.bubWidth/10)),
// calc the middle of element
e=this.elWidth/2,n&&e>n)switch(l){case"left":this.left+=n;break;case"right":this.left+=this.elWidth-n}else this.left+=e;
// adjust the left to account for the dink
switch(a){case"left":this.left-=n;break;case"center":this.left-=this.bubWidth/2;break;case"right":this.left-=this.bubWidth-n}}},/**
	 * Takes a value and returns the opposite (e.g. "right" returns "left")
	 *
	 * @param {string} value
	 */
b.prototype.oppositeDay=function(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}},/**
	 * This function looks at the current position of the bubble and checks
	 * if any part is off the screen. If it is, it will create a new position string
	 * and pass it back to adjustPosition.
	 */
b.prototype.autoPosition=function(){
// browser height and width
var i=t.browser.ie?document.documentElement.clientWidth:window.innerWidth,e=t.browser.ie?document.documentElement.clientHeight:window.innerHeight,s=t(window).scrollLeft(),n=t(window).scrollTop(),h=s+i,o=n+e,b=this.left<s,l=this.top<n,a=this.left+this.bubWidth>h,r=this.top+this.bubHeight>o,u=this.position;
// flip a position if bubble breaks window
l&&(u=u.replace("top","bottom")),b&&(u=u.replace("left","right")),a&&(u=u.replace("right","left")),r&&(u=u.replace("bottom","top")),
// check if something changed...
u!=this.position&&
//...if so, run adjustment again
this.adjustPosition(u);
// pull out the primary position from the new position
var c=u.split("-")[0];
// check if new primary position is different from last
c!=this.priPosition&&(
// change class and reset position
this.bubble.removeClass("bubble-"+this.priPosition),this.bubble.addClass("bubble-"+c),this.priPosition=c)},/**
	 * This function adds trigger events to the anchor and bubble.
	 */
b.prototype.bindEvents=function(){var i=this;if(this.el){var e=this.trigger.split("-");
// show trigger
switch(e[0]){case"click":this.el.bind("click",t.proxy(i,"show"));break;default:this.el.bind("mouseenter",t.proxy(i,"show"))}
// hide trigger
switch(e[1]){case"click":this.clickSensitive=!0;break;case"close":break;default:this.el.bind("mouseleave",t.proxy(i,"hide")),this.bubble.hover(t.proxy(i,"clearTimer"),t.proxy(i,"hide"))}}this.bubble.bind("click",function(){
// "global" - it's ok because this only affects global function
m=!0}),
// add the close event to any close elements
t("[bubble-close]",this.bubble[0]).live("click",function(){return i.hide(),!1})},/**
	 * This function clears the "hide" timer.
	 */
b.prototype.clearTimer=function(){this.status=!this.status,window.clearTimeout(this.timer),this.timer=null},/**
	 * This function is called to show the bubble.
	 * 
	 * @param {event obj} ev
	 */
b.prototype.show=function(t){
// if the bubble is already in the display state, return
if(!this.status){
// if the "hide" timer is running, simply stop it
if(null!==this.timer)return void this.clearTimer();t&&t.stopPropagation();var i=this;this.status=!0,window.setTimeout(function(){i.status&&(
// set the bubble position
i.setPosition(t),i.animate?i.bubble.fadeIn("fast"):i.bubble.show())},this.showDelay),
// log bubble object if debug is on
this.debug&&console.log(this)}},/**
	 * This function is called to hide the bubble. The hide is wrapped 
	 * in a timeout to allow the user to enter into the bubble.
	 */
b.prototype.hide=function(){
// return if debug is on (this keeps the bubble open)
// or if the hide has already been triggered
if(!this.debug&&this.status){var t=this;this.status=!1,
// add slight delay before bubble closes
this.timer=window.setTimeout(function(){t.status||(t.animate?t.bubble.fadeOut("fast"):t.bubble.hide(),t.timer=null)},this.hideDelay)}};
// ********** START META BUBBLE CLASS ********** //		
/**
	 * Meta_Bubble constructor. This is the class for meta bubbles.
	 */
var l=function(){this.hasDink=!0,this.autoPos=!0,this.animate=!(t.browser.msie&&t.browser.version<7)};
// Extend the Bubble class
l.prototype=new b;
// ********** START THUMBNAIL BUBBLE CLASS ********** //		
/**
	 * Thumbnail_Bubble constructor. This is the class for thumbnail bubbles.
	 */
var a=function(){this.position="left-center"};
// Extend the Meta Bubble class
a.prototype=new l;
// ********** START DIALOG BUBBLE CLASS ********** //		
/**
	 * Dialog_Bubble constructor. 
	 */
var r=function(){this.bubbleID="main-dialog-bubble",this.trigger="click-click"};
// Extend the Bubble class
r.prototype=new b,/**
	 * OVERRIDE: RunSetup is always called from Init().
	 */
r.prototype.runSetup=function(){this.bubbleSpinner=t('<div class="bubble-spinner"></div>'),this.getTemplates(),this.draw(),this.bindEvents()},/**
	 * This function preloads the templates for the bubbles on the page.
	 */
r.prototype.getTemplates=function(){var i=["/public/templates/dialogs.tmpl"];this.templateFile&&i.push(this.templateFile),t.loadTemplates({paths:i})},/**
	 * OVERRIDE: This function draws the actual bubble. It is responsible for adding the inner div,
	 * the inner div classes, the content, as well as binding events and setting position.
	 */
r.prototype.draw=function(){this.bubble=t("#"+this.bubbleID),
// let's check if a modal container already exists. if not, let's create one
this.bubble.length||(
// create bubble and attach the whole bubble to body
this.bubble=t(['<div id="',this.bubbleID,'" style="display:none">','<div class="bubble-shield"></div>','<div class="bubble-content"></div>',"</div>"].join("")).addClass(this.bubbleClass.join("")).appendTo(t("body"))),this.bubbleShield=this.bubble.find("div.bubble-shield"),this.bubbleContent=this.bubble.find("div.bubble-content")},/**
	 * OVERRIDE: This function is called to show the dialog.
	 */
r.prototype.show=function(){
// show loading icon
// log bubble object if debug is on
return this.status=!0,this.showSpinner(),this.setPosition(),this.loadContent({context:this,callback:function(){
// load content and show bubble	
this.bubbleContent.appendTemplate(this.bubbleID,this.content),this.bubble.show(),this.showShield(),
// hide loading icon
this.hideSpinner()}}),this.debug&&console.log(this.bubbleID,": ",this),!1},/**
	 * This function adds the scrolltop to the "top" of the bubble content. It makes the bubble
	 * content appear at the same point in the screen.
	 */
r.prototype.setPosition=function(){var i=t(window).scrollTop();this.bubbleContent.css("top",i)},/**
	 * This function adjusts the height of the shield based on whether 
	 * the document is taller than the viewport. Trust me, it's complicated.
	 */
r.prototype.showShield=function(){var i=this.bubbleShield.height(),e=t(document).height();
// if the document is actually taller, set the height on shield
e>i&&this.bubbleShield.height(e),this.bubbleShield.animate({opacity:.6},1e3)},/**
	 * This is for modals that have loading spinners. Simply show the spinner.
	 */
r.prototype.showSpinner=function(){this.bubbleSpinner&&this.bubbleContent.append(this.bubbleSpinner)},/**
	 * This is for modals that have loading spinners. It will hide the spinner base
	 * on what type of content is loaded.
	 */
r.prototype.hideSpinner=function(){if(this.bubbleSpinner)
// for iframes, only hide the spinner when the frame is finished
if(this.frame&&this.frame.length){var t=this;this.frame.bind("load",function(){t.bubbleSpinner.remove()})}else this.bubbleSpinner.remove()},/**
	 * OVERRIDE: This function is called to hide the bubble. 
	 */
r.prototype.hide=function(){this.status=!1,this.bubble.hide(),this.bubbleShield.removeAttr("style"),this.bubbleContent.empty()};
// ********** START ALERT BUBBLE CLASS ********** //		
/**
	 * Alert_Bubble constructor. 
	 */
var u=function(){this.bubbleID="main-alert-bubble"};
// Extend the Meta Bubble class
u.prototype=new r;
// ********** START MODAL BUBBLE CLASS ********** //
/**
	 * Modal_Bubble constructor. This is the class for Modals.
	 */
var c=function(){this.bubbleID="main-modal-bubble",this.hasShield=!0,this.animate=!t.browser.msie};
// Extend the Bubble class
c.prototype=new r,/**
	 * OVERRIDE: This function is called to show the lightbox.
	 */
c.prototype.show=function(){
// show loading icon
// load content and show bubble	
// log bubble object if debug is on
// hide loading icon
return this.status=!0,this.setPosition(),this.showSpinner(),this.bubbleContent.append(this.content),this.bubble.show(),this.showShield(),this.debug&&console.log(this.bubbleID,": ",this),this.hideSpinner(),!1},/**
	 * OVERRIDE: This function adds click events to the anchor and bubble.
	 */
c.prototype.bindEvents=function(){var i=this;this.el.bind("click",function(){i.status?i.hide():i.loadContent({callback:i.show,context:i})}),
// add the close event to any close elements
t("[bubble-close]",this.bubbleContent[0]).live("click",function(){return i.hide(),!1})};
// ********** START LIGHTBOX BUBBLE CLASS ********** //
/**
	 * Lightbox_Bubble constructor. This is the class for Lightboxes.
	 */
var d=function(){this.bubbleID="main-lightbox-bubble"};
// Extend the Modal class
d.prototype=new c;
// ********** START SENTIMENT BUBBLE CLASS ********** //
/**
	 * Sentiment_Bubble constructor. This is the class for Sentiment style lightbox.
	 */
var p=function(){this.bubbleID="main-sentiment-bubble"};
// Extend the Modal class
p.prototype=new c,/**
	 * OVERRIDE: RunSetup is always called from Init().
	 */
p.prototype.runSetup=function(){this.draw(),this.bindEvents();var i;i=this.el.attr("bubble-src")?'<iframe width="'+this.width+'px" height="'+this.height+'px"></iframe>':'<div class="bubble-sentiment-inner-content">'+this.el.attr("bubble-msg")+"</div>",this.content=t(['<div style="width:',this.width+24,'px" class="bubble-sentiment-inner">','<div bubble-close="true" class="bubble-sentiment-close">'+SGAPI.util.translate("close")+"</div>",'<div class="bubble-sentiment-border">&nbsp;</div>','<div class="bubble-sentiment-content">',i,"</div>","</div>"].join("")),this.frame=this.content.find("iframe")};
// ********** END BUBBLE CLASS ********** //	
var f=[],m=!1,g=function(){return this.each(function(){
// create jQuery obj for this element
var i=t(this);
// if the bubble for that element was already loaded, continue.
if(i.data("bubbleLoaded"))return!0;for(var e,s,n,h,o=(i.attr("bubble")||"").split("||"),m=0;m<o.length;m++){e={},
// get the current key/value pairs - parse on pipe
s=o[m]&&o[m].split("|");
// this loop builds the options object
for(var g=0,v=s.length;v>g;g++)
// break each option into a key/vlaue pair
n=s[g].split(":"),
// add the key and value to options object
// if the key doesn't have a value, default to true
e[n[0]]=n[1]||"true";switch(e.type){case"thumbnail":h=new a;break;case"tooltip":case"menu":case"meta":case"note":case"panel":h=new l;break;case"dialog":h=new r;break;case"alert":h=new u;break;case"modal":h=new c;break;case"lightbox":h=new d;break;case"sentiment":h=new p;break;default:h=new b}h.init(i,e)}
// set the bubble loaded flag on the element
i.data("bubbleLoaded",!0),
// add bubble to bubble array		
f[h.uid]=h}),this};
// add methods to SGAPI namespace
SGAPI.bubble={bath:e,pop:function(){i(!0)},getBubbleByElement:s,getUIDByElement:n,getBubbleByUID:h,destroyBubbleByUID:o},
// create the jQuery extention
t.fn.bubbles=function(){return g.apply(this,arguments)},
// this is where the bubbles are automatically inited on page load!
t(document).ready(function(){t("[bubble]").bubbles()}),t(document).bind("click",function(){m||i(),m=!1})}(SGAPI.jQuery);
/**
 * Copyright (c) 2007-2012 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * @author Ariel Flesler
 * @version 1.4.3.1
 */
!function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,o){e(window).scrollTo(t,n,o)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var o=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==o.compatMode?o.body:o.documentElement})},e.fn.scrollTo=function(o,r,i){return"object"==typeof r&&(i=r,r=0),"function"==typeof i&&(i={onAfter:i}),"max"==o&&(o=9e9),i=e.extend({},n.defaults,i),r=r||i.duration,i.queue=i.queue&&i.axis.length>1,i.queue&&(r/=2),i.offset=t(i.offset),i.over=t(i.over),this._scrollable().each(function(){function a(e){u.animate(l,r,i.easing,e&&function(){e.call(this,o,i)})}if(null!=o){var s,c=this,u=e(c),f=o,l={},d=u.is("html,body");switch(typeof f){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=t(f);break}if(f=e(f,this),!f.length)return;case"object":(f.is||f.style)&&(s=(f=e(f)).offset())}e.each(i.axis.split(""),function(e,t){var o="x"==t?"Left":"Top",r=o.toLowerCase(),m="scroll"+o,h=c[m],w=n.max(c,t);if(s)l[m]=s[r]+(d?0:h-u.offset()[r]),i.margin&&(l[m]-=parseInt(f.css("margin"+o))||0,l[m]-=parseInt(f.css("border"+o+"Width"))||0),l[m]+=i.offset[r]||0,i.over[r]&&(l[m]+=f["x"==t?"width":"height"]()*i.over[r]);else{var b=f[r];l[m]=b.slice&&"%"==b.slice(-1)?parseFloat(b)/100*w:b}i.limit&&/^\d+$/.test(l[m])&&(l[m]=l[m]<=0?0:Math.min(l[m],w)),!e&&i.queue&&(h!=l[m]&&a(i.onAfterFirst),delete l[m])}),a(i.onAfter)}}).end()},n.max=function(t,n){var o="x"==n?"Width":"Height",r="scroll"+o;if(!e(t).is("html,body"))return t[r]-e(t)[o.toLowerCase()]();var i="client"+o,a=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(a[r],s[r])-Math.min(a[i],s[i])}}(jQuery);
/**
 * Extend jquery with a scrollspy plugin.
 * This watches the window scroll and fires events when elements are scrolled into viewport.
 *
 * throttle() and getTime() taken from Underscore.js
 * https://github.com/jashkenas/underscore
 *
 * @author Copyright 2013 John Smart
 * @license https://raw.github.com/thesmart/jquery-scrollspy/master/LICENSE
 * @see https://github.com/thesmart
 * @version 0.1.2
 */
!function(t){/**
	 * Find elements that are within the boundary
	 * @param {number} top
	 * @param {number} right
	 * @param {number} bottom
	 * @param {number} left
	 * @return {jQuery}		A collection of elements
	 */
function n(n,e,o,r){var l=t();return t.each(i,function(t,i){var u=i.offset().top,c=i.offset().left,f=c+i.width(),a=u+i.height(),s=!(c>e||r>f||u>o||n>a);s&&l.push(i)}),l}/**
	 * Called when the user scrolls the window
	 */
function e(){
// unique tick id
++f;
// viewport rectangle
var e=l.scrollTop(),o=l.scrollLeft(),r=o+l.width(),i=e+l.height(),c=n(e+a.top,r+a.right,i+a.bottom,o+a.left);t.each(c,function(t,n){var e=n.data("scrollSpy:ticks");"number"!=typeof e&&
// entered into view
n.triggerHandler("scrollSpy:enter"),
// update tick id
n.data("scrollSpy:ticks",f)}),
// determine which elements are no longer in view
t.each(u,function(t,n){var e=n.data("scrollSpy:ticks");"number"==typeof e&&e!==f&&(
// exited from view
n.triggerHandler("scrollSpy:exit"),n.data("scrollSpy:ticks",null))}),
// remember elements in view for next tick
u=c}/**
	 * Called when window is resized
	*/
function o(){l.trigger("scrollSpy:winSize")}/**
	 * Returns a function, that, when invoked, will only be triggered at most once
	 * during a given window of time. Normally, the throttled function will run
	 * as much as it can, without ever going more than once per `wait` duration;
	 * but if you'd like to disable the execution on the leading edge, pass
	 * `{leading: false}`. To disable execution on the trailing edge, ditto.
	 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @param {function} func
	 * @param {number} wait
	 * @param {Object=} options
	 * @returns {Function}
	 */
function r(t,n,e){var o,r,l,i=null,u=0;e||(e={});var c=function(){u=e.leading===!1?0:s(),i=null,l=t.apply(o,r),o=r=null};return function(){var f=s();u||e.leading!==!1||(u=f);var a=n-(f-u);return o=this,r=arguments,0>=a?(clearTimeout(i),i=null,u=f,l=t.apply(o,r),o=r=null):i||e.trailing===!1||(i=setTimeout(c,a)),l}}var l=t(window),i=[],u=[],c=!1,f=0,a={top:0,right:0,bottom:0,left:0},s=Date.now||function(){return(new Date).getTime()};/**
	 * Enables ScrollSpy using a selector
	 * @param {jQuery|string} selector  The elements collection, or a selector
	 * @param {Object=} options	Optional.
											throttle : number -> scrollspy throttling. Default: 100 ms
											offsetTop : number -> offset from top. Default: 0
											offsetRight : number -> offset from right. Default: 0
											offsetBottom : number -> offset from bottom. Default: 0
											offsetLeft : number -> offset from left. Default: 0
	 * @returns {jQuery}
	 */
t.scrollSpy=function(n,o){n=t(n),n.each(function(n,e){i.push(t(e))}),o=o||{throttle:100},a.top=o.offsetTop||0,a.right=o.offsetRight||0,a.bottom=o.offsetBottom||0,a.left=o.offsetLeft||0;var u=r(e,o.throttle||100),f=function(){t(document).ready(u)};
// perform a scan once, after current execution context, and after dom is ready
return c||(l.on("scroll",f),l.on("resize",f),c=!0),setTimeout(f,0),n},/**
	 * Listen for window resize events
	 * @param {Object=} options						Optional. Set { throttle: number } to change throttling. Default: 100 ms
	 * @returns {jQuery}		$(window)
	 */
t.winSizeSpy=function(n){// lock from multiple calls
return t.winSizeSpy=function(){return l},n=n||{throttle:100},l.on("resize",r(o,n.throttle||100))},/**
	 * Enables ScrollSpy on a collection of elements
	 * e.g. $('.scrollSpy').scrollSpy()
	 * @param {Object=} options	Optional.
											throttle : number -> scrollspy throttling. Default: 100 ms
											offsetTop : number -> offset from top. Default: 0
											offsetRight : number -> offset from right. Default: 0
											offsetBottom : number -> offset from bottom. Default: 0
											offsetLeft : number -> offset from left. Default: 0
	 * @returns {jQuery}
	 */
t.fn.scrollSpy=function(n){return t.scrollSpy(t(this),n)}}(jQuery);
/**
 *                                                        ____   _____
 *  Dynarch Calendar -- JSCal2, version 1.7               \  /_  /   /
 *  Built at 2009/07/16 08:37 GMT                          \  / /   /
 *                                                          \/ /_  /
 *  (c) Dynarch.com 2009                                     \  / /
 *  All rights reserved.                                       / /
 *  Visit www.dynarch.com/projects/calendar for details        \/
 *
 */
Calendar=function(){function t(e){e=e||{},this.args=e=B(e,{animation:!nt,cont:null,bottomBar:!0,date:!0,fdow:_("fdow"),min:null,max:null,reverseWheel:!1,selection:[],selectionType:t.SEL_SINGLE,weekNumbers:!1,align:"Bl/ / /T/r",inputField:null,trigger:null,dateFormat:"%Y-%m-%d",opacity:et?1:3,titleFormat:"%b %Y",showTime:!1,timePos:"right",time:!0,minuteStep:5,disabled:dt,dateInfo:dt,onChange:dt,onSelect:dt,onTimeChange:dt,onFocus:dt,onBlur:dt}),this.handlers={};var n=this,a=new Date;e.min=S(e.min),e.max=S(e.max),e.date===!0&&(e.date=a),e.time===!0&&(e.time=100*a.getHours()+Math.floor(a.getMinutes()/e.minuteStep)*e.minuteStep),this.date=S(e.date),this.time=e.time,this.fdow=e.fdow,q("onChange onSelect onTimeChange onFocus onBlur".split(/\s+/),function(t){var a=e[t];a instanceof Array||(a=[a]),n.handlers[t]=a}),this.selection=new t.Selection(e.selection,e.selectionType,C,this);var s=l.call(this);e.cont&&J(e.cont).appendChild(s),e.trigger&&this.manageFields(e.trigger,e.inputField,e.dateFormat)}function e(t){var e=["<table",rt,"><tr>"],n=0;for(t.args.weekNumbers&&e.push("<td><div class='DynarchCalendar-weekNumber'>",_("wk"),"</div></td>");7>n;){var a=(n++ +t.fdow)%7;e.push("<td><div",_("weekend").indexOf(a)>=0?" class='DynarchCalendar-weekend'>":">",_("sdn")[a],"</div></td>")}return e.push("</tr></table>"),e.join("")}function n(t,e,n){e=e||t.date,n=n||t.fdow,e=new Date(e);var a=e.getMonth(),s=[],i=0,r=t.args.weekNumbers;e.setDate(1);var o=(e.getDay()-n)%7;0>o&&(o+=7),e.setDate(-o),e.setDate(e.getDate()+1);var l=new Date,h=l.getDate(),c=l.getMonth(),u=l.getFullYear();s[i++]="<table class='DynarchCalendar-bodyTable'"+rt+">";for(var d=0;6>d;++d){s[i++]="<tr class='DynarchCalendar-week",0==d&&(s[i++]=" DynarchCalendar-first-row"),5==d&&(s[i++]=" DynarchCalendar-last-row"),s[i++]="'>",r&&(s[i++]="<td class='DynarchCalendar-first-col'><div class='DynarchCalendar-weekNumber'>"+T(e)+"</div></td>");for(var f=0;7>f;++f){var y=e.getDate(),m=e.getMonth(),p=e.getFullYear(),v=1e4*p+100*(m+1)+y,g=t.selection.isSelected(v),D=t.isDisabled(e);s[i++]="<td class='",0!=f||r||(s[i++]=" DynarchCalendar-first-col"),0==f&&0==d&&(t._firstDateVisible=v),6==f&&(s[i++]=" DynarchCalendar-last-col",5==d&&(t._lastDateVisible=v)),g&&(s[i++]=" DynarchCalendar-td-selected"),s[i++]="'><div dyc-type='date' unselectable='on' dyc-date='"+v+"' ",D&&(s[i++]="disabled='1' "),s[i++]="class='DynarchCalendar-day",_("weekend").indexOf(e.getDay())>=0&&(s[i++]=" DynarchCalendar-weekend"),m!=a&&(s[i++]=" DynarchCalendar-day-othermonth"),y==h&&m==c&&p==u&&(s[i++]=" DynarchCalendar-day-today"),D&&(s[i++]=" DynarchCalendar-day-disabled"),g&&(s[i++]=" DynarchCalendar-day-selected"),D=t.args.dateInfo(e),D&&D.klass&&(s[i++]=" "+D.klass),s[i++]="'>"+y+"</div></td>",e.setDate(y+1)}s[i++]="</tr>"}return s[i++]="</table>",s.join("")}function a(t){var n=["<table class='DynarchCalendar-topCont'",rt,"><tr><td><div class='DynarchCalendar'>",et?"<a class='DynarchCalendar-focusLink' href='#'></a>":"<button class='DynarchCalendar-focusLink'></button>","<div class='DynarchCalendar-topBar'><div dyc-type='nav' dyc-btn='-Y' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-prevYear'><div></div></div><div dyc-type='nav' dyc-btn='+Y' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-nextYear'><div></div></div><div dyc-type='nav' dyc-btn='-M' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-prevMonth'><div></div></div><div dyc-type='nav' dyc-btn='+M' dyc-cls='hover-navBtn,pressed-navBtn' class='DynarchCalendar-navBtn DynarchCalendar-nextMonth'><div></div></div><table class='DynarchCalendar-titleCont'",rt,"><tr><td><div dyc-type='title' dyc-btn='menu' dyc-cls='hover-title,pressed-title' class='DynarchCalendar-title'>",s(t),"</div></td></tr></table><div class='DynarchCalendar-dayNames'>",e(t),"</div></div><div class='DynarchCalendar-body'></div>"];return(t.args.bottomBar||t.args.showTime)&&n.push("<div class='DynarchCalendar-bottomBar'>",o(t),"</div>"),n.push("<div class='DynarchCalendar-menu' style='display: none'>",i(t),"</div><div class='DynarchCalendar-tooltip'></div></div></td></tr></table>"),n.join("")}function s(t){return"<div unselectable='on'>"+k(t.date,t.args.titleFormat)+"</div>"}function i(t){for(var e,n=["<table height='100%'",rt,"><tr><td><table style='margin-top: 1.5em'",rt,"><tr><td colspan='3'><input dyc-btn='year' class='DynarchCalendar-menu-year' size='6' value='",t.date.getFullYear(),"' /></td></tr><tr><td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='today'>",_("goToday"),"</div></td></tr></table><p class='DynarchCalendar-menu-sep'>&nbsp;</p><table class='DynarchCalendar-menu-mtable'",rt,">"],a=_("smn"),s=0,i=n.length;12>s;){for(n[i++]="<tr>",e=4;--e>0;)n[i++]="<td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='m"+s+"' class='DynarchCalendar-menu-month'>"+a[s++]+"</div></td>";n[i++]="</tr>"}return n[i++]="</table></td></tr></table>",n.join("")}function r(t,e){e.push("<table class='DynarchCalendar-time'"+rt+"><tr><td rowspan='2'><div dyc-type='time-hour' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-hour'></div></td><td dyc-type='time-hour+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td><td rowspan='2' class='DynarchCalendar-time-sep'></td><td rowspan='2'><div dyc-type='time-min' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-minute'></div></td><td dyc-type='time-min+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td>"),12==t.args.showTime&&e.push("<td rowspan='2' class='DynarchCalendar-time-sep'></td><td rowspan='2'><div class='DynarchCalendar-time-am' dyc-type='time-am' dyc-cls='hover-time,pressed-time'></div></td>"),e.push("</tr><tr><td dyc-type='time-hour-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td><td dyc-type='time-min-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td></tr></table>")}function o(t){function e(){a.showTime&&(n.push("<td>"),r(t,n),n.push("</td>"))}var n=[],a=t.args;return n.push("<table",rt," style='width:100%'><tr>"),"left"==a.timePos&&e(),a.bottomBar&&(n.push("<td>"),n.push("<table",rt,"><tr><td><div dyc-btn='today' dyc-cls='hover-bottomBar-today,pressed-bottomBar-today' dyc-type='bottomBar-today' class='DynarchCalendar-bottomBar-today'>",_("today"),"</div></td></tr></table>"),n.push("</td>")),"right"==a.timePos&&e(),n.push("</tr></table>"),n.join("")}function l(){var t=R("div"),e=this.els={},n={mousedown:O(m,this,!0),mouseup:O(m,this,!1),mouseover:O(D,this,!0),mouseout:O(D,this,!1),keypress:O(w,this)};return n[at?"DOMMouseScroll":"mousewheel"]=O(b,this),et&&(n.dblclick=n.mousedown,n.keydown=n.keypress),t.innerHTML=a(this),K(t.firstChild,function(t){var n=ot[t.className];n&&(e[n]=t),et&&t.setAttribute("unselectable","on")}),E(e.main,n),E([e.focusLink,e.yearInput],this._focusEvents={focus:O(h,this),blur:O(u,this)}),this.moveTo(this.date,!1),this.setTime(null,!0),e.topCont}function h(){this._bluringTimeout&&clearTimeout(this._bluringTimeout),this.focused=!0,P(this.els.main,"DynarchCalendar-focused"),this.callHooks("onFocus",this)}function c(){this.focused=!1,F(this.els.main,"DynarchCalendar-focused"),this._menuVisible&&y(this,!1),this.args.cont||this.hide(),this.callHooks("onBlur",this)}function u(){this._bluringTimeout=setTimeout(O(c,this),50)}function d(t){switch(t){case"time-hour+":this.setHours(this.getHours()+1);break;case"time-hour-":this.setHours(this.getHours()-1);break;case"time-min+":this.setMinutes(this.getMinutes()+this.args.minuteStep);break;case"time-min-":this.setMinutes(this.getMinutes()-this.args.minuteStep);break;default:return}}function f(t,e,n){this._bodyAnim&&this._bodyAnim.stop();var a;if(0!=e)switch(a=new Date(t.date),a.setDate(1),e){case"-Y":case-2:a.setFullYear(a.getFullYear()-1);break;case"+Y":case 2:a.setFullYear(a.getFullYear()+1);break;case"-M":case-1:a.setMonth(a.getMonth()-1);break;case"+M":case 1:a.setMonth(a.getMonth()+1)}else a=new Date;return t.moveTo(a,!n)}function y(t,e){t._menuVisible=e,V(e,t.els.title,"DynarchCalendar-pressed-title");var n=t.els.menu;if(nt&&(n.style.height=t.els.main.offsetHeight+"px"),t.args.animation){t._menuAnim&&t._menuAnim.stop();var a=t.els.main.offsetHeight;nt&&(n.style.width=t.els.topBar.offsetWidth+"px"),e&&(n.firstChild.style.marginTop=-a+"px",t.args.opacity>0&&U(n,0),j(n,!0)),t._menuAnim=$({onUpdate:function(s,i){n.firstChild.style.marginTop=i(ut.accel_b(s),-a,0,!e)+"px",t.args.opacity>0&&U(n,i(ut.accel_b(s),0,.85,!e))},onStop:function(){t.args.opacity>0&&U(n,.85),n.firstChild.style.marginTop="",t._menuAnim=null,e||(j(n,!1),t.focused&&t.focus())}})}else j(n,e),t.focused&&t.focus()}function m(e,n){n=n||window.event;var a=v(n);if(a&&!a.getAttribute("disabled")){var s,i=a.getAttribute("dyc-btn"),r=a.getAttribute("dyc-type"),o=a.getAttribute("dyc-date"),l=this.selection,h={mouseover:Y,mousemove:Y,mouseup:function(t){var e=a.getAttribute("dyc-cls");e&&F(a,g(e,1)),clearTimeout(s),N(document,h,!0),h=null}};if(e){setTimeout(O(this.focus,this),1);var c=a.getAttribute("dyc-cls");if(c&&P(a,g(c,1)),"menu"==i)this.toggleMenu();else if(a&&/^[+-][MY]$/.test(i))if(f(this,i)){var u=O(function(){f(this,i,!0)?s=setTimeout(u,40):(h.mouseup(),f(this,i))},this);s=setTimeout(u,350),E(document,h,!0)}else h.mouseup();else if("year"==i)this.els.yearInput.focus(),this.els.yearInput.select();else if("time-am"==r)E(document,h,!0);else if(/^time/.test(r)){var u=O(function(t){d.call(this,t),s=setTimeout(u,100)},this,r);d.call(this,r),s=setTimeout(u,350),E(document,h,!0)}else o&&l.type&&(l.type==t.SEL_MULTIPLE?n.shiftKey&&this._selRangeStart?l.selectRange(this._selRangeStart,o):(n.ctrlKey||l.isSelected(o)||l.clear(!0),l.set(o,!0),this._selRangeStart=o):(l.set(o),this.moveTo(L(o),2)),a=this._getDateDiv(o),D.call(this,!0,{target:a})),E(document,h,!0);et&&h&&/dbl/i.test(n.type)&&h.mouseup(),/^(DynarchCalendar-(topBar|bottomBar|weekend|weekNumber|menu(-sep)?))?$/.test(a.className)&&!this.args.cont&&(h.mousemove=O(p,this),this._mouseDiff=z(n,G(this.els.topCont)),E(document,h,!0))}else if("today"==i)this._menuVisible||l.type!=t.SEL_SINGLE||l.set(new Date),this.moveTo(new Date,!0),y(this,!1);else if(/^m([0-9]+)/.test(i)){var o=new Date(this.date);o.setDate(1),o.setMonth(RegExp.$1),o.setFullYear(this._getInputYear()),this.moveTo(o,!0),y(this,!1)}else"time-am"==r&&this.setHours(this.getHours()+12);et||Y(n)}}function p(t){t=t||window.event;var e=this.els.topCont.style,n=z(t,this._mouseDiff);e.left=n.x+"px",e.top=n.y+"px"}function v(t){for(var e=t.target||t.srcElement,n=e;e&&e.getAttribute&&!e.getAttribute("dyc-type");)e=e.parentNode;return e.getAttribute&&e||n}function g(t,e){return"DynarchCalendar-"+t.split(/,/)[e]}function D(t,e){e=e||window.event;var n=v(e);if(n){var a=n.getAttribute("dyc-type");if(a&&!n.getAttribute("disabled")&&(!t||!this._bodyAnim||"date"!=a)){var s=n.getAttribute("dyc-cls");s=s?g(s,0):"DynarchCalendar-hover-"+a,("date"!=a||this.selection.type)&&V(t,n,s),"date"==a&&(V(t,n.parentNode.parentNode,"DynarchCalendar-hover-week"),this._showTooltip(n.getAttribute("dyc-date"))),/^time-hour/.test(a)&&V(t,this.els.timeHour,"DynarchCalendar-hover-time"),/^time-min/.test(a)&&V(t,this.els.timeMinute,"DynarchCalendar-hover-time"),F(this._getDateDiv(this._lastHoverDate),"DynarchCalendar-hover-date"),this._lastHoverDate=null}}t||this._showTooltip()}function b(t){t=t||window.event;var e=v(t);if(e){var n=e.getAttribute("dyc-btn"),a=e.getAttribute("dyc-type"),s=t.wheelDelta?t.wheelDelta/120:-t.detail/3;if(s=0>s?-1:s>0?1:0,this.args.reverseWheel&&(s=-s),/^(time-(hour|min))/.test(a)){switch(RegExp.$1){case"time-hour":this.setHours(this.getHours()+s);break;case"time-min":this.setMinutes(this.getMinutes()+this.args.minuteStep*s)}Y(t)}else/Y/i.test(n)&&(s*=2),f(this,-s),Y(t)}}function C(){this.refresh();var t=this.inputField,e=this.selection;if(t){var n=e.print(this.dateFormat);/input|textarea/i.test(t.tagName)?t.value=n:t.innerHTML=n}this.callHooks("onSelect",this,e)}function w(e){if(!this._menuAnim){e=e||window.event;var n=e.target||e.srcElement,a=n.getAttribute("dyc-btn"),s=e.keyCode,i=e.charCode||s,r=ht[s];if("year"==a&&13==s){var o=new Date(this.date);return o.setDate(1),o.setFullYear(this._getInputYear()),this.moveTo(o,!0),y(this,!1),Y(e)}if(this._menuVisible){if(27==s)return y(this,!1),Y(e)}else{if(e.ctrlKey||(r=null),null!=r||e.ctrlKey||(r=ct[s]),36==s&&(r=0),null!=r)return f(this,r),Y(e);i=String.fromCharCode(i).toLowerCase();var l=this.els.yearInput,h=this.selection;if(" "==i)return y(this,!0),this.focus(),l.focus(),l.select(),Y(e);if(i>="0"&&"9">=i)return y(this,!0),this.focus(),l.value=i,l.focus(),Y(e);for(var c,u=_("mn"),d=e.shiftKey?-1:this.date.getMonth(),m=0;++m<12;)if(c=u[(d+m)%12].toLowerCase(),0==c.indexOf(i)){var o=new Date(this.date);return o.setDate(1),o.setMonth((d+m)%12),this.moveTo(o,!0),Y(e)}if(s>=37&&40>=s){var o=this._lastHoverDate;if(o||h.isEmpty()||(o=39>s?h.getFirstDate():h.getLastDate(),(o<this._firstDateVisible||o>this._lastDateVisible)&&(o=null)),o){var p=o;o=L(o);for(var d=100;d-->0;){switch(s){case 37:o.setDate(o.getDate()-1);break;case 38:o.setDate(o.getDate()-7);break;case 39:o.setDate(o.getDate()+1);break;case 40:o.setDate(o.getDate()+7)}if(!this.isDisabled(o))break}o=A(o),(o<this._firstDateVisible||o>this._lastDateVisible)&&this.moveTo(o)}else o=39>s?this._lastDateVisible:this._firstDateVisible;return F(this._getDateDiv(p),P(this._getDateDiv(o),"DynarchCalendar-hover-date")),this._lastHoverDate=o,Y(e)}if(13==s&&this._lastHoverDate)return h.type==t.SEL_MULTIPLE&&(e.shiftKey||e.ctrlKey)?(e.shiftKey&&this._selRangeStart&&(h.clear(!0),h.selectRange(this._selRangeStart,this._lastHoverDate)),e.ctrlKey&&h.set(this._selRangeStart=this._lastHoverDate,!0)):h.reset(this._selRangeStart=this._lastHoverDate),Y(e);27!=s||this.args.cont||this.hide()}}}function M(t,e){return t.replace(/\$\{([^:\}]+)(:[^\}]+)?\}/g,function(t,n,a){var s,i=e[n];return a&&(s=a.substr(1).split(/\s*\|\s*/),i=(i>=s.length?s[s.length-1]:s[i]).replace(/##?/g,function(t){return 2==t.length?"#":i})),i})}function _(t,e){var n=it.__.data[t];return e&&"string"==typeof n&&(n=M(n,e)),n}function T(t){t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0);var e=t.getDay();t.setDate(t.getDate()-(e+6)%7+3);var n=t.valueOf();return t.setMonth(0),t.setDate(4),Math.round((n-t.valueOf())/6048e5)+1}function x(t){t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var e=new Date(t.getFullYear(),0,1,12,0,0),n=t-e;return Math.floor(n/864e5)}function A(t){return t instanceof Date?1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate():"string"==typeof t?parseInt(t,10):t}function L(t,e,n,a,s){if(!(t instanceof Date)){t=parseInt(t,10);var i=Math.floor(t/1e4);t%=1e4;var r=Math.floor(t/100);t%=100,t=new Date(i,r-1,t,e||12,n||0,a||0,s||0)}return t}function H(t,e,n){var a=t.getFullYear(),s=t.getMonth(),i=t.getDate(),r=e.getFullYear(),o=e.getMonth(),l=e.getDate();return r>a?-3:a>r?3:o>s?-2:s>o?2:n?0:l>i?-1:i>l?1:0}function k(t,e){var n,a=t.getMonth(),s=t.getDate(),i=t.getFullYear(),r=T(t),o=t.getDay(),l=t.getHours(),h=l>=12,c=h?l-12:l,u=x(t),d=t.getMinutes(),f=t.getSeconds(),y=/%./g;return 0===c&&(c=12),n={"%a":_("sdn")[o],"%A":_("dn")[o],"%b":_("smn")[a],"%B":_("mn")[a],"%C":1+Math.floor(i/100),"%d":10>s?"0"+s:s,"%e":s,"%H":10>l?"0"+l:l,"%I":10>c?"0"+c:c,"%j":10>u?"00"+u:100>u?"0"+u:u,"%k":l,"%l":c,"%m":9>a?"0"+(1+a):1+a,"%o":1+a,"%M":10>d?"0"+d:d,"%n":"\n","%p":h?"PM":"AM","%P":h?"pm":"am","%s":Math.floor(t.getTime()/1e3),"%S":10>f?"0"+f:f,"%t":"	","%U":10>r?"0"+r:r,"%W":10>r?"0"+r:r,"%V":10>r?"0"+r:r,"%u":o+1,"%w":o,"%y":(""+i).substr(2,2),"%Y":i,"%%":"%"},e.replace(y,function(t){return n.hasOwnProperty(t)?n[t]:t})}function S(t){if(t){if("number"==typeof t)return L(t);if(!(t instanceof Date)){var e=t.split(/-/);return new Date(parseInt(e[0],10),parseInt(e[1],10)-1,parseInt(e[2],10),12,0,0,0)}}return t}function I(t){function e(e){for(var n=e.length;--n>=0;)if(0==e[n].toLowerCase().indexOf(t))return n}t=t.toLowerCase();var n=e(_("smn"))||e(_("mn"));return null!=n&&n++,n}function B(t,e,n,a){a={};for(n in e)e.hasOwnProperty(n)&&(a[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n]);return a}function E(t,e,n,a){if(t instanceof Array)for(var s=t.length;--s>=0;)E(t[s],e,n,a);else if("object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&E(t,s,e[s],n);else t&&(t.addEventListener?t.addEventListener(e,n,et?!0:!!a):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)}function N(t,e,n,a){if(t instanceof Array)for(var s=t.length;--s>=0;)N(t[s],e,n);else if("object"==typeof e)for(var s in e)e.hasOwnProperty(s)&&N(t,s,e[s],n);else t.removeEventListener?t.removeEventListener(e,n,et?!0:!!a):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function Y(t){return t=t||window.event,et?(t.cancelBubble=!0,t.returnValue=!1):(t.preventDefault(),t.stopPropagation()),!1}function F(t,e,n){if(t){var a,s=t.className.replace(/^\s+|\s+$/,"").split(/\x20/),i=[];for(a=s.length;a>0;)s[--a]!=e&&i.push(s[a]);n&&i.push(n),t.className=i.join(" ")}return n}function P(t,e){return F(t,e,e)}function V(t,e,n){if(e instanceof Array)for(var a=e.length;--a>=0;)V(t,e[a],n);else F(e,n,t?n:null);return t}function R(t,e,n){var a=null;return a=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",t):document.createElement(t),e&&(a.className=e),n&&n.appendChild(a),a}function W(t,e){null==e&&(e=0);var n,a,s;try{n=Array.prototype.slice.call(t,e)}catch(i){for(n=new Array(t.length-e),a=e,s=0;a<t.length;++a,++s)n[s]=t[a]}return n}function O(t,e){var n=W(arguments,2);return void 0==e?function(){return t.apply(this,n.concat(W(arguments)))}:function(){return t.apply(e,n.concat(W(arguments)))}}function K(t,e){if(!e(t))for(var n=t.firstChild;n;n=n.nextSibling)1==n.nodeType&&K(n,e)}function $(t,e,n){function a(t,e,n,a){return a?n+t*(e-n):e+t*(n-e)}function s(){e&&i(),n=0,e=setInterval(r,1e3/t.fps)}function i(){e&&(clearInterval(e),e=null),t.onStop(n/t.len,a)}function r(){var e=t.len;t.onUpdate(n/e,a),n==e&&i(),++n}return t=B(t,{fps:50,len:15,onUpdate:dt,onStop:dt}),et&&(t.len=Math.round(t.len/2)),s(),{start:s,stop:i,update:r,args:t,map:a}}function U(t,e){return""===e?et?t.style.filter="":t.style.opacity="":null!=e?et?t.style.filter="alpha(opacity="+100*e+")":t.style.opacity=e:et?/alpha\(opacity=([0-9.])+\)/.test(t.style.opacity)&&(e=parseFloat(RegExp.$1)/100):e=parseFloat(t.style.opacity),e}function j(t,e){var n=t.style;return null!=e&&(n.display=e?"":"none"),"none"!=n.display}function z(t,e){var n=et?t.clientX+document.body.scrollLeft:t.pageX,a=et?t.clientY+document.body.scrollTop:t.pageY;return e&&(n-=e.x,a-=e.y),{x:n,y:a}}function G(t){var e,n,a=0,s=0,i=/^div$/i.test(t.tagName);return i&&t.scrollLeft&&(a=t.scrollLeft),i&&t.scrollTop&&(s=t.scrollTop),e={x:t.offsetLeft-a,y:t.offsetTop-s},t.offsetParent&&(n=G(t.offsetParent),e.x+=n.x,e.y+=n.y),e}function X(){var t=document.documentElement,e=document.body;return{x:t.scrollLeft||e.scrollLeft,y:t.scrollTop||e.scrollTop,w:t.clientWidth||window.innerWidth||e.clientWidth,h:t.clientHeight||window.innerHeight||e.clientHeight}}function q(t,e,n){for(n=0;n<t.length;++n)e(t[n])}function J(t){return"string"==typeof t&&(t=document.getElementById(t)),t}var Q=navigator.userAgent,Z=/opera/i.test(Q),tt=/Konqueror|Safari|KHTML/i.test(Q),et=/msie/i.test(Q)&&!Z&&!/mac_powerpc/i.test(Q),nt=et&&/msie 6/i.test(Q),at=/gecko/i.test(Q)&&!tt&&!Z&&!et,st=t.prototype,it=t.I18N={};t.SEL_NONE=0,t.SEL_SINGLE=1,t.SEL_MULTIPLE=2,t.SEL_WEEK=3,t.dateToInt=A,t.intToDate=L,t.printDate=k,t.formatString=M,t.i18n=_,t.LANG=function(t,e,n){it.__=it[t]={name:e,data:n}},t.setup=function(e){return new t(e)},st.moveTo=function(t,e){t=S(t);var a,s=H(t,this.date,!0),i=this.args,r=i.min&&H(t,i.min),o=i.max&&H(t,i.max);if(i.animation||(e=!1),V(null!=r&&1>=r,[this.els.navPrevMonth,this.els.navPrevYear],"DynarchCalendar-navDisabled"),V(null!=o&&o>=-1,[this.els.navNextMonth,this.els.navNextYear],"DynarchCalendar-navDisabled"),-1>r&&(t=i.min,a=1,s=0),o>1&&(t=i.max,a=2,s=0),this.date=t,this.refresh(!!e),this.callHooks("onChange",this,t,e),e&&(0!=s||2!=e)){this._bodyAnim&&this._bodyAnim.stop();var l=this.els.body,h=R("div","DynarchCalendar-animBody-"+lt[s],l),c=l.firstChild,u=(U(c)||.7,a?ut.brakes:0==s?ut.shake:ut.accel_ab2),d=s*s>4,f=d?c.offsetTop:c.offsetLeft,y=h.style,m=d?l.offsetHeight:l.offsetWidth;if(0>s?m+=f:s>0?m=f-m:(m=Math.round(m/7),2==a&&(m=-m)),!a&&0!=s){var p=h.cloneNode(!0),v=p.style,g=2*m;p.appendChild(c.cloneNode(!0)),v[d?"marginTop":"marginLeft"]=m+"px",l.appendChild(p)}c.style.visibility="hidden",h.innerHTML=n(this),this._bodyAnim=$({onUpdate:O(function(t,e){var n=u(t);if(p)var i=e(n,m,g)+"px";a?y[d?"marginTop":"marginLeft"]=e(n,m,0)+"px":((d||0==s)&&(y.marginTop=e(0==s?u(t*t):n,0,m)+"px",0!=s&&(v.marginTop=i)),d&&0!=s||(y.marginLeft=e(n,0,m)+"px",0!=s&&(v.marginLeft=i))),this.args.opacity>2&&p&&(U(p,1-n),U(h,n))},this),onStop:O(function(e){l.innerHTML=n(this,t),this._bodyAnim=null},this)})}return this._lastHoverDate=null,r>=-1&&1>=o},st.isDisabled=function(t){var e=this.args;return e.min&&H(t,e.min)<0||e.max&&H(t,e.max)>0||e.disabled(t)},st.toggleMenu=function(){y(this,!this._menuVisible)},st.refresh=function(t){var e=this.els;t||(e.body.innerHTML=n(this)),e.title.innerHTML=s(this),e.yearInput.value=this.date.getFullYear()},st.redraw=function(){var t=this.els;this.refresh(),t.dayNames.innerHTML=e(this),t.menu.innerHTML=i(this),t.bottomBar&&(t.bottomBar.innerHTML=o(this)),K(t.topCont,O(function(e){var n=ot[e.className];n&&(t[n]=e),"DynarchCalendar-menu-year"==e.className?(E(e,this._focusEvents),t.yearInput=e):et&&e.setAttribute("unselectable","on")},this)),this.setTime(null,!0)},st.setLanguage=function(e){var n=t.setLanguage(e);n&&(this.fdow=n.data.fdow,this.redraw())},t.setLanguage=function(t){var e=it[t];return e&&(it.__=e),e},st.focus=function(){try{this.els[this._menuVisible?"yearInput":"focusLink"].focus()}catch(t){}h.call(this)},st.blur=function(){this.els.focusLink.blur(),this.els.yearInput.blur(),c.call(this)},st.showAt=function(t,e,n){this._showAnim&&this._showAnim.stop(),n=n&&this.args.animation;var a=this.els.topCont,s=this,i=this.els.body.firstChild,r=i.offsetHeight,o=a.style;o.position="absolute",o.left=t+"px",o.top=e+"px",o.zIndex=1e4,o.display="",n&&(i.style.marginTop=-r+"px",this.args.opacity>1&&U(a,0),this._showAnim=$({onUpdate:function(t,e){i.style.marginTop=-e(ut.accel_b(t),r,0)+"px",s.args.opacity>1&&U(a,t)},onStop:function(){s.args.opacity>1&&U(a,""),s._showAnim=null}}))},st.hide=function(){var t=this.els.topCont,e=this,n=this.els.body.firstChild,a=n.offsetHeight,s=G(t).y;this.args.animation?(this._showAnim&&this._showAnim.stop(),this._showAnim=$({onUpdate:function(i,r){e.args.opacity>1&&U(t,1-i),n.style.marginTop=-r(ut.accel_b(i),0,a)+"px",t.style.top=r(ut.accel_ab(i),s,s-10)+"px"},onStop:function(){t.style.display="none",n.style.marginTop="",e.args.opacity>1&&U(t,""),e._showAnim=null}})):t.style.display="none",this.inputField=null},st.popup=function(t,e){function n(e){var n={x:l.x,y:l.y};return e?(/B/.test(e)&&(n.y+=t.offsetHeight),/b/.test(e)&&(n.y+=t.offsetHeight-a.y),/T/.test(e)&&(n.y-=a.y),/l/.test(e)&&(n.x-=a.x-t.offsetWidth),/L/.test(e)&&(n.x-=a.x),/R/.test(e)&&(n.x+=t.offsetWidth),/c/i.test(e)&&(n.x+=(t.offsetWidth-a.x)/2),/m/i.test(e)&&(n.y+=(t.offsetHeight-a.y)/2),n):n}t=J(t),e||(e=this.args.align),e=e.split(/\x2f/);var a,s=G(t),i=this.els.topCont,r=i.style,o=X();r.visibility="hidden",r.display="",this.showAt(0,0),document.body.appendChild(i),a={x:i.offsetWidth,y:i.offsetHeight};var l=s;l=n(e[0]),l.y<o.y&&(l.y=s.y,l=n(e[1])),l.x+a.x>o.x+o.w&&(l.x=s.x,l=n(e[2])),l.y+a.y>o.y+o.h&&(l.y=s.y,l=n(e[3])),l.x<o.x&&(l.x=s.x,l=n(e[4])),this.showAt(l.x,l.y,!0),r.visibility="",this.focus()},st.manageFields=function(e,n,a){n=J(n),E(J(e),"click",O(function(){if(this.inputField=n,this.dateFormat=a,this.selection.type==t.SEL_SINGLE){var s,i,r,o;s=/input|textarea/i.test(n.tagName)?n.value:n.innerText||n.textContent,s&&(i=/(^|[^%])%[bBmo]/.exec(a),r=/(^|[^%])%[de]/.exec(a),i&&r&&(o=i.index<r.index),s=Calendar.parseDate(s,o),s&&(this.moveTo(s),this.selection.set(s,!1,!0)))}this.popup(e)},this))},st.callHooks=function(t){for(var e=W(arguments,1),n=this.handlers[t],a=0;a<n.length;++a)n[a].apply(this,e)},st.addEventListener=function(t,e){this.handlers[t].push(e)},st.removeEventListener=function(t,e){for(var n=this.handlers[t],a=n.length;--a>=0;)n[a]===e&&n.splice(a,1)},st.getTime=function(){return this.time},st.setTime=function(t,e){if(this.args.showTime){t=this.time=null!=t?t:this.time;var n=this.getHours(),a=this.getMinutes(),s=12>n;12==this.args.showTime&&(0==n&&(n=12),n>12&&(n-=12),this.els.timeAM.innerHTML=_(s?"AM":"PM")),10>n&&(n="0"+n),10>a&&(a="0"+a),this.els.timeHour.innerHTML=n,this.els.timeMinute.innerHTML=a,e||this.callHooks("onTimeChange",this,t)}},st.getHours=function(){return Math.floor(this.time/100)},st.getMinutes=function(){return this.time%100},st.setHours=function(t){0>t&&(t+=24),this.setTime(100*(t%24)+this.time%100)},st.setMinutes=function(t){0>t&&(t+=60),this.setTime(100*this.getHours()+t%60)},st._getInputYear=function(){var t=parseInt(this.els.yearInput.value,10);return isNaN(t)&&(t=this.date.getFullYear()),t},st._showTooltip=function(t){var e,n="",a=this.els.tooltip;t&&(t=L(t),e=this.args.dateInfo(t),e&&e.tooltip&&(n="<div class='DynarchCalendar-tooltipCont'>"+k(t,e.tooltip)+"</div>")),a.innerHTML=n};var rt=" align='center' cellspacing='0' cellpadding='0'",ot={"DynarchCalendar-topCont":"topCont","DynarchCalendar-focusLink":"focusLink",DynarchCalendar:"main","DynarchCalendar-topBar":"topBar","DynarchCalendar-title":"title","DynarchCalendar-dayNames":"dayNames","DynarchCalendar-body":"body","DynarchCalendar-menu":"menu","DynarchCalendar-menu-year":"yearInput","DynarchCalendar-bottomBar":"bottomBar","DynarchCalendar-tooltip":"tooltip","DynarchCalendar-time-hour":"timeHour","DynarchCalendar-time-minute":"timeMinute","DynarchCalendar-time-am":"timeAM","DynarchCalendar-navBtn DynarchCalendar-prevYear":"navPrevYear","DynarchCalendar-navBtn DynarchCalendar-nextYear":"navNextYear","DynarchCalendar-navBtn DynarchCalendar-prevMonth":"navPrevMonth","DynarchCalendar-navBtn DynarchCalendar-nextMonth":"navNextMonth"},lt={"-3":"backYear","-2":"back",0:"now",2:"fwd",3:"fwdYear"},ht={37:-1,38:-2,39:1,40:2},ct={33:-1,34:1};st._getDateDiv=function(t){var e=null;if(t)try{K(this.els.body,function(n){if(n.getAttribute("dyc-date")==t)throw e=n})}catch(n){}return e},(t.Selection=function(t,e,n,a){this.type=e,this.sel=t instanceof Array?t:[t],this.onChange=O(n,a),this.cal=a}).prototype={get:function(){return this.type==t.SEL_SINGLE?this.sel[0]:this.sel},isEmpty:function(){return 0==this.sel.length},set:function(e,n,a){var s=this.type==t.SEL_SINGLE;e instanceof Array?(this.sel=e,this.normalize(),a||this.onChange(this)):(e=A(e),s||!this.isSelected(e)?(s?this.sel=[e]:this.sel.splice(this.findInsertPos(e),0,e),this.normalize(),a||this.onChange(this)):n&&this.unselect(e,a))},reset:function(){this.sel=[],this.set.apply(this,arguments)},countDays:function(){for(var t,e,n,a=0,s=this.sel,i=s.length;--i>=0;)t=s[i],t instanceof Array&&(e=L(t[0]),n=L(t[1]),a+=Math.round(Math.abs(n.getTime()-e.getTime())/864e5)),++a;return a},unselect:function(t,e){t=A(t);for(var n,a=!1,s=this.sel,i=s.length;--i>=0;)if(n=s[i],n instanceof Array){if(t>=n[0]&&t<=n[1]){var r=L(t),o=r.getDate();if(t==n[0])r.setDate(o+1),n[0]=A(r),a=!0;else if(t==n[1])r.setDate(o-1),n[1]=A(r),a=!0;else{var l=new Date(r);l.setDate(o+1),r.setDate(o-1),s.splice(i+1,0,[A(l),n[1]]),n[1]=A(r),a=!0}}}else t==n&&(s.splice(i,1),a=!0);a&&(this.normalize(),e||this.onChange(this))},normalize:function(){this.sel=this.sel.sort(function(t,e){return t instanceof Array&&(t=t[0]),e instanceof Array&&(e=e[0]),t-e});for(var t,e,n=this.sel,a=n.length;--a>=0;){if(t=n[a],t instanceof Array){if(t[0]>t[1]){n.splice(a,1);continue}t[0]==t[1]&&(t=n[a]=t[0])}if(e){var s=e,i=t instanceof Array?t[1]:t;if(i=L(i),i.setDate(i.getDate()+1),i=A(i),i>=s){var r=n[a+1];t instanceof Array&&r instanceof Array?(t[1]=r[1],n.splice(a+1,1)):t instanceof Array?(t[1]=e,n.splice(a+1,1)):r instanceof Array?(r[0]=t,n.splice(a,1)):(n[a]=[t,r],n.splice(a+1,1))}}e=t instanceof Array?t[0]:t}},findInsertPos:function(t){for(var e,n=this.sel,a=n.length;--a>=0&&(e=n[a],e instanceof Array&&(e=e[0]),!(t>=e)););return a+1},clear:function(t){this.sel=[],t||this.onChange(this)},selectRange:function(t,e){if(t=A(t),e=A(e),t>e){var n=t;t=e,e=n}this.sel.push([t,e]),this.normalize(),this.onChange(this)},isSelected:function(t){for(var e,n=this.sel.length;--n>=0;)if(e=this.sel[n],e instanceof Array&&t>=e[0]&&t<=e[1]||t==e)return!0;return!1},getFirstDate:function(){var t=this.sel[0];return t&&t instanceof Array&&(t=t[0]),t},getLastDate:function(){if(this.sel.length>0){var t=this.sel[this.sel.length-1];return t&&t instanceof Array&&(t=t[1]),t}},print:function(t,e){var n,a=[],s=0,i=this.cal.getHours(),r=this.cal.getMinutes();for(e||(e=" -> ");s<this.sel.length;)n=this.sel[s++],n instanceof Array?a.push(k(L(n[0],i,r),t)+e+k(L(n[1],i,r),t)):a.push(k(L(n,i,r),t));return a},getDates:function(t){for(var e,n,a=[],s=0;s<this.sel.length;){if(n=this.sel[s++],n instanceof Array)for(e=L(n[0]),n=n[1];A(e)<n;)a.push(t?k(e,t):new Date(e)),e.setDate(e.getDate()+1);else e=L(n);a.push(t?k(e,t):e)}return a}},t.parseDate=function(t,e,n){if(!/\S/.test(t))return"";t=t.replace(/^\s+/,"").replace(/\s+$/,""),n=n||new Date;var a=null,s=null,i=null,r=null,o=null,l=null,h=t.match(/([0-9]{1,2}):([0-9]{1,2})(:[0-9]{1,2})?\s*(am|pm)?/i);h&&(r=parseInt(h[1],10),o=parseInt(h[2],10),l=h[3]?parseInt(h[3].substr(1),10):0,t=t.substring(0,h.index)+t.substr(h.index+h[0].length),h[4]&&("pm"==h[4].toLowerCase()&&12>r?r+=12:"am"==h[4].toLowerCase()&&r>=12&&(r-=12)));for(var c=t.split(/\W+/),u=[],d=0;d<c.length;++d){var f=c[d];/^[0-9]{4}$/.test(f)?(a=parseInt(f,10),s||i||null!=e||(e=!0)):/^[0-9]{1,2}$/.test(f)?(f=parseInt(f,10),f>=60?a=f:f>=0&&12>=f?u.push(f):f>=1&&31>=f&&(i=f)):s=I(f)}return u.length>=2?e?(s||(s=u.shift()),i||(i=u.shift())):(i||(i=u.shift()),s||(s=u.shift())):1==u.length&&(i?s||(s=u.shift()):i=u.shift()),a||(a=u.length>0?u.shift():n.getFullYear()),30>a?a+=2e3:99>a&&(a+=1900),s||(s=n.getMonth()+1),a&&s&&i?new Date(a,s-1,i,r,o,l):null};var ut={elastic_b:function(t){return 1-Math.cos(5.5*-t*Math.PI)/Math.pow(2,7*t)},magnetic:function(t){return 1-Math.cos(t*t*t*10.5*Math.PI)/Math.exp(4*t)},accel_b:function(t){return t=1-t,1-t*t*t*t},accel_a:function(t){return t*t*t},accel_ab:function(t){return t=1-t,1-Math.sin(t*t*Math.PI/2)},accel_ab2:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},brakes:function(t){return t=1-t,1-Math.sin(t*t*Math.PI)},shake:function(t){return.5>t?-Math.cos(11*t*Math.PI)*t*t:(t=1-t,Math.cos(11*t*Math.PI)*t*t)}},dt=new Function;return t}();
Calendar.LANG("en","English",{fdow:1,// first day of week for this locale; 0 = Sunday, 1 = Monday, etc.
goToday:"Go Today",today:"Today",// appears in bottom bar
wk:"wk",weekend:"0,6",// 0 = Sunday, 1 = Monday, etc.
AM:"am",PM:"pm",mn:["January","February","March","April","May","June","July","August","September","October","November","December"],smn:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dn:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sdn:["Su","Mo","Tu","We","Th","Fr","Sa","Su"]});
window.$&&surveyJQueryNoConflict&&window.$.noConflict(!0),surveyJQueryNoConflict&&(window.$=window.jQuery=surveyJQueryNoConflict);